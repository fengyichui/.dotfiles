{"created_by":"Tampermonkey","version":"1","scripts":[{"name":"百度网盘直接下载助手 直链加速版","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["*://pan.baidu.com/disk/home*","*://yun.baidu.com/disk/home*","*://pan.baidu.com/s/*","*://yun.baidu.com/s/*","*://pan.baidu.com/share/link*","*://yun.baidu.com/share/link*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_noframes":null,"orig_connects":[]}},"storage":{"ts":1553822931608,"data":{}},"enabled":true,"position":1,"file_url":"https://greasyfork.org/scripts/39504-%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E7%9B%B4%E6%8E%A5%E4%B8%8B%E8%BD%BD%E5%8A%A9%E6%89%8B-%E7%9B%B4%E9%93%BE%E5%8A%A0%E9%80%9F%E7%89%88/code/%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E7%9B%B4%E6%8E%A5%E4%B8%8B%E8%BD%BD%E5%8A%A9%E6%89%8B%20%E7%9B%B4%E9%93%BE%E5%8A%A0%E9%80%9F%E7%89%88.user.js","uuid":"366e4636-fb8a-4600-81b9-a2b836099d4b","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICAgIOeZvuW6pue9keebmOebtOaOpeS4i+i9veWKqeaJiyDnm7Tpk77liqDpgJ/niYgKLy8gQG5hbWVzcGFjZSAgICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9zeWh5ejE5OTAvYmFpZHV5dW4KLy8gQHZlcnNpb24gICAgICAgICAgIDIuMS4yCi8vIEBpY29uICAgICAgICAgICAgICBodHRwczovL3d3dy5iYWlkdS5jb20vZmF2aWNvbi5pY28KLy8gQGRlc2NyaXB0aW9uICAgICAgIOiOt+WPlueZvuW6pue9keebmOmrmOmAn+S4i+i9veWcsOWdgCDmlK/mjIFJRE0sRkRNLOi/hembt+S4i+i9vSDmlK/mjIHnm7Tpk77liqDpgJ8KLy8gQGF1dGhvciAgICAgICAgICAgIHN5aHl6MTk5MAovLyBAbGljZW5zZSAgICAgICAgICAgTUlUCi8vIEBzdXBwb3J0VVJMICAgICAgICBodHRwczovL2dpdGh1Yi5jb20vc3loeXoxOTkwL2JhaWR1eXVuCi8vIEBtYXRjaCAgICAgICAgICAgICAqOi8vcGFuLmJhaWR1LmNvbS9kaXNrL2hvbWUqCi8vIEBtYXRjaCAgICAgICAgICAgICAqOi8veXVuLmJhaWR1LmNvbS9kaXNrL2hvbWUqCi8vIEBtYXRjaCAgICAgICAgICAgICAqOi8vcGFuLmJhaWR1LmNvbS9zLyoKLy8gQG1hdGNoICAgICAgICAgICAgICo6Ly95dW4uYmFpZHUuY29tL3MvKgovLyBAbWF0Y2ggICAgICAgICAgICAgKjovL3Bhbi5iYWlkdS5jb20vc2hhcmUvbGluayoKLy8gQG1hdGNoICAgICAgICAgICAgICo6Ly95dW4uYmFpZHUuY29tL3NoYXJlL2xpbmsqCi8vIEByZXF1aXJlICAgICAgICAgICBodHRwczovL2Nkbi5ib290Y3NzLmNvbS9qcXVlcnkvMS4xMi40L2pxdWVyeS5taW4uanMKLy8gQHJ1bi1hdCAgICAgICAgICAgIGRvY3VtZW50LWlkbGUKLy8gQGdyYW50ICAgICAgICAgICAgIHVuc2FmZVdpbmRvdwovLyBAZ3JhbnQgICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QKLy8gQGdyYW50ICAgICAgICAgICAgIEdNX2Rvd25sb2FkCi8vID09L1VzZXJTY3JpcHQ9PQoKOyhmdW5jdGlvbiAoKSB7CiAgJ3VzZSBzdHJpY3QnOwoKICB2YXIgbG9nX2NvdW50ID0gMTsKICB2YXIgY2xhc3NNYXAgPSB7CiAgICAnbGlzdCc6ICd6Sk10QUViJywKICAgICdncmlkJzogJ2Z5UWdBRWInLAogICAgJ2xpc3QtZ3JpZC1zd2l0Y2gnOiAnYXVpYVFOeW4nLAogICAgJ2xpc3Qtc3dpdGNoZWQtb24nOiAnZXdYbTFlJywKICAgICdncmlkLXN3aXRjaGVkLW9uJzogJ2t4aGtYMkVtJywKICAgICdsaXN0LXN3aXRjaCc6ICdydnBYbTYzJywKICAgICdncmlkLXN3aXRjaCc6ICdteGdkSmd3dicsCiAgICAnY2hlY2tib3gnOiAnRU9HZXhmJywKICAgICdjb2wtaXRlbSc6ICdReHlmdmcnLAogICAgJ2NoZWNrJzogJ2Z5ZEdOQycsCiAgICAnY2hlY2tlZCc6ICdFenViR2cnLAogICAgJ2NoZWtib3gtZ3JpZCc6ICdjRWVmeXonLAogICAgJ2xpc3Qtdmlldyc6ICd2ZEFmS01iJywKICAgICdpdGVtLWFjdGl2ZSc6ICd3ZjRuMUUnLAogICAgJ2dyaWQtdmlldyc6ICdKS3ZISk1iJywKICAgICdiYXItc2VhcmNoJzogJ09GYVBhTycsCiAgICAnbGlzdC10b29scyc6ICd0Y3VMQXUnLAogIH07CiAgJChmdW5jdGlvbiAoKSB7CiAgICBjbGFzc01hcFsnZGVmYXVsdC1kb20nXSA9ICgkKCcuaWNvbi11cGxvYWQnKS5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKS5hdHRyKCdjbGFzcycpKTsKICAgIGNsYXNzTWFwWydiYXInXSA9ICgkKCcuaWNvbi11cGxvYWQnKS5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKS5hdHRyKCdjbGFzcycpKTsKCiAgICBzd2l0Y2ggKGRldGVjdFBhZ2UoKSkgewogICAgICBjYXNlICdkaXNrJzoKICAgICAgICB2YXIgcGFuSGVscGVyID0gbmV3IFBhbkhlbHBlcigpOwogICAgICAgIHBhbkhlbHBlci5pbml0KCk7CiAgICAgICAgcmV0dXJuOwogICAgICBjYXNlICdzaGFyZSc6CiAgICAgIGNhc2UgJ3MnOgogICAgICAgIHZhciBwYW5TaGFyZUhlbHBlciA9IG5ldyBQYW5TaGFyZUhlbHBlcigpOwogICAgICAgIHBhblNoYXJlSGVscGVyLmluaXQoKTsKICAgICAgICByZXR1cm47CiAgICAgIGRlZmF1bHQ6CiAgICAgICAgcmV0dXJuOwogICAgfQogIH0pOwoKICBmdW5jdGlvbiBzbG9nKGMxLCBjMiwgYzMpIHsKICAgIGMxID0gYzEgPyBjMSA6ICcnOwogICAgYzIgPSBjMiA/IGMyIDogJyc7CiAgICBjMyA9IGMzID8gYzMgOiAnJzsKICAgIGNvbnNvbGUubG9nKCcjJyArICgnMDAnICsgbG9nX2NvdW50KyspLnNsaWNlKC0yKSArICct5Yqp5omL5pel5b+XOicsIGMxLCBjMiwgYzMpOwogIH0KCiAgLy/nvZHnm5jpobXpnaLnmoTkuIvovb3liqnmiYsKICBmdW5jdGlvbiBQYW5IZWxwZXIoKSB7CiAgICB2YXIgeXVuRGF0YSwgc2lnbiwgdGltZXN0YW1wLCBiZHN0b2tlbiwgbG9naWQsIGZpZF9saXN0OwogICAgdmFyIGZpbGVMaXN0ID0gW10sIHNlbGVjdEZpbGVMaXN0ID0gW10sIGJhdGNoTGlua0xpc3QgPSBbXSwgYmF0Y2hMaW5rTGlzdEFsbCA9IFtdLCBsaW5rTGlzdCA9IFtdLAogICAgICBsaXN0X2dyaWRfc3RhdHVzID0gJ2xpc3QnOwogICAgdmFyIG9ic2VydmVyLCBjdXJyZW50UGFnZSwgY3VycmVudFBhdGgsIGN1cnJlbnRDYXRlZ29yeSwgZGlhbG9nLCBzZWFyY2hLZXk7CiAgICB2YXIgcGFuQVBJVXJsID0gbG9jYXRpb24ucHJvdG9jb2wgKyAiLy8iICsgbG9jYXRpb24uaG9zdCArICIvYXBpLyI7CiAgICB2YXIgcmVzdEFQSVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgIi8vcGNzLmJhaWR1LmNvbS9yZXN0LzIuMC9wY3MvIjsKICAgIHZhciBjbGllbnRBUElVcmwgPSBsb2NhdGlvbi5wcm90b2NvbCArICIvL2QucGNzLmJhaWR1LmNvbS9yZXN0LzIuMC9wY3MvIjsKCiAgICB0aGlzLmluaXQgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHl1bkRhdGEgPSB1bnNhZmVXaW5kb3cueXVuRGF0YTsKICAgICAgc2xvZygneXVuRGF0YTonLCB5dW5EYXRhKTsKICAgICAgaWYgKHl1bkRhdGEgPT09IHVuZGVmaW5lZCkgewogICAgICAgIHNsb2coJ+mhtemdouacquato+W4uOWKoOi9ve+8jOaIluiAheeZvuW6puW3sue7j+abtOaWsO+8gScpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpbml0UGFyYW1zKCk7CiAgICAgIHJlZ2lzdGVyRXZlbnRMaXN0ZW5lcigpOwogICAgICBjcmVhdGVPYnNlcnZlcigpOwogICAgICBhZGRCdXR0b24oKTsKICAgICAgY3JlYXRlSWZyYW1lKCk7CiAgICAgIGRpYWxvZyA9IG5ldyBEaWFsb2coe2FkZENvcHk6IHRydWV9KTsKICAgICAgc2xvZygn572R55uY55u05o6l5LiL6L295Yqp5omL5Yqg6L295oiQ5Yqf77yBJyk7CiAgICB9OwoKICAgIGZ1bmN0aW9uIGluaXRQYXJhbXMoKSB7CiAgICAgIHNpZ24gPSBnZXRTaWduKCk7CiAgICAgIHRpbWVzdGFtcCA9IGdldFRpbWVzdGFtcCgpOwogICAgICBiZHN0b2tlbiA9IGdldEJEU3Rva2VuKCk7CiAgICAgIGxvZ2lkID0gZ2V0TG9nSUQoKTsKICAgICAgY3VycmVudFBhZ2UgPSBnZXRDdXJyZW50UGFnZSgpOwogICAgICBzbG9nKCflvZPliY3mqKHlvI86JywgY3VycmVudFBhZ2UpOwoKICAgICAgaWYgKGN1cnJlbnRQYWdlID09ICdhbGwnKQogICAgICAgIGN1cnJlbnRQYXRoID0gZ2V0UGF0aCgpOwogICAgICBpZiAoY3VycmVudFBhZ2UgPT0gJ2NhdGVnb3J5JykKICAgICAgICBjdXJyZW50Q2F0ZWdvcnkgPSBnZXRDYXRlZ29yeSgpOwogICAgICBpZiAoY3VycmVudFBhZ2UgPT0gJ3NlYXJjaCcpCiAgICAgICAgc2VhcmNoS2V5ID0gZ2V0U2VhcmNoS2V5KCk7CiAgICAgIHJlZnJlc2hMaXN0R3JpZFN0YXR1cygpOwogICAgICByZWZyZXNoRmlsZUxpc3QoKTsKICAgICAgcmVmcmVzaFNlbGVjdExpc3QoKTsKICAgIH0KCiAgICBmdW5jdGlvbiByZWZyZXNoRmlsZUxpc3QoKSB7CiAgICAgIGlmIChjdXJyZW50UGFnZSA9PSAnYWxsJykgewogICAgICAgIGZpbGVMaXN0ID0gZ2V0RmlsZUxpc3QoKTsKICAgICAgfSBlbHNlIGlmIChjdXJyZW50UGFnZSA9PSAnY2F0ZWdvcnknKSB7CiAgICAgICAgZmlsZUxpc3QgPSBnZXRDYXRlZ29yeUZpbGVMaXN0KCk7CiAgICAgIH0gZWxzZSBpZiAoY3VycmVudFBhZ2UgPT0gJ3NlYXJjaCcpIHsKICAgICAgICBmaWxlTGlzdCA9IGdldFNlYXJjaEZpbGVMaXN0KCk7CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiByZWZyZXNoU2VsZWN0TGlzdCgpIHsKICAgICAgc2VsZWN0RmlsZUxpc3QgPSBbXTsKICAgIH0KCiAgICBmdW5jdGlvbiByZWZyZXNoTGlzdEdyaWRTdGF0dXMoKSB7CiAgICAgIGxpc3RfZ3JpZF9zdGF0dXMgPSBnZXRMaXN0R3JpZFN0YXR1cygpOwogICAgfQoKICAgIC8v6I635Y+W5b2T5YmN55qE6KeG5Zu+5qih5byPCiAgICBmdW5jdGlvbiBnZXRMaXN0R3JpZFN0YXR1cygpIHsKICAgICAgaWYgKCQoJy4nICsgY2xhc3NNYXBbJ2xpc3QnXSkuaXMoJzpoaWRkZW4nKSkgewogICAgICAgIHJldHVybiAnZ3JpZCcKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gJ2xpc3QnCiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiByZWdpc3RlckV2ZW50TGlzdGVuZXIoKSB7CiAgICAgIHJlZ2lzdGVySGFzaENoYW5nZSgpOwogICAgICByZWdpc3Rlckxpc3RHcmlkU3RhdHVzKCk7CiAgICAgIHJlZ2lzdGVyQ2hlY2tib3goKTsKICAgICAgcmVnaXN0ZXJBbGxDaGVja2JveCgpOwogICAgICByZWdpc3RlckZpbGVTZWxlY3QoKTsKICAgIH0KCiAgICAvL+ebkeinhuWcsOWdgOagjyPmoIfnrb7nmoTlj5jljJYKICAgIGZ1bmN0aW9uIHJlZ2lzdGVySGFzaENoYW5nZSgpIHsKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHJlZnJlc2hMaXN0R3JpZFN0YXR1cygpOwoKICAgICAgICBpZiAoZ2V0Q3VycmVudFBhZ2UoKSA9PSAnYWxsJykgewogICAgICAgICAgaWYgKGN1cnJlbnRQYWdlID09IGdldEN1cnJlbnRQYWdlKCkpIHsKICAgICAgICAgICAgaWYgKGN1cnJlbnRQYXRoICE9IGdldFBhdGgoKSkgewogICAgICAgICAgICAgIGN1cnJlbnRQYXRoID0gZ2V0UGF0aCgpOwogICAgICAgICAgICAgIHJlZnJlc2hGaWxlTGlzdCgpOwogICAgICAgICAgICAgIHJlZnJlc2hTZWxlY3RMaXN0KCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gZ2V0Q3VycmVudFBhZ2UoKTsKICAgICAgICAgICAgY3VycmVudFBhdGggPSBnZXRQYXRoKCk7CiAgICAgICAgICAgIHJlZnJlc2hGaWxlTGlzdCgpOwogICAgICAgICAgICByZWZyZXNoU2VsZWN0TGlzdCgpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoZ2V0Q3VycmVudFBhZ2UoKSA9PSAnY2F0ZWdvcnknKSB7CiAgICAgICAgICBpZiAoY3VycmVudFBhZ2UgPT0gZ2V0Q3VycmVudFBhZ2UoKSkgewogICAgICAgICAgICBpZiAoY3VycmVudENhdGVnb3J5ICE9IGdldENhdGVnb3J5KCkpIHsKICAgICAgICAgICAgICBjdXJyZW50UGFnZSA9IGdldEN1cnJlbnRQYWdlKCk7CiAgICAgICAgICAgICAgY3VycmVudENhdGVnb3J5ID0gZ2V0Q2F0ZWdvcnkoKTsKICAgICAgICAgICAgICByZWZyZXNoRmlsZUxpc3QoKTsKICAgICAgICAgICAgICByZWZyZXNoU2VsZWN0TGlzdCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjdXJyZW50UGFnZSA9IGdldEN1cnJlbnRQYWdlKCk7CiAgICAgICAgICAgIGN1cnJlbnRDYXRlZ29yeSA9IGdldENhdGVnb3J5KCk7CiAgICAgICAgICAgIHJlZnJlc2hGaWxlTGlzdCgpOwogICAgICAgICAgICByZWZyZXNoU2VsZWN0TGlzdCgpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoZ2V0Q3VycmVudFBhZ2UoKSA9PSAnc2VhcmNoJykgewogICAgICAgICAgaWYgKGN1cnJlbnRQYWdlID09IGdldEN1cnJlbnRQYWdlKCkpIHsKICAgICAgICAgICAgaWYgKHNlYXJjaEtleSAhPSBnZXRTZWFyY2hLZXkoKSkgewogICAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gZ2V0Q3VycmVudFBhZ2UoKTsKICAgICAgICAgICAgICBzZWFyY2hLZXkgPSBnZXRTZWFyY2hLZXkoKTsKICAgICAgICAgICAgICByZWZyZXNoRmlsZUxpc3QoKTsKICAgICAgICAgICAgICByZWZyZXNoU2VsZWN0TGlzdCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjdXJyZW50UGFnZSA9IGdldEN1cnJlbnRQYWdlKCk7CiAgICAgICAgICAgIHNlYXJjaEtleSA9IGdldFNlYXJjaEtleSgpOwogICAgICAgICAgICByZWZyZXNoRmlsZUxpc3QoKTsKICAgICAgICAgICAgcmVmcmVzaFNlbGVjdExpc3QoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICAgIC8v55uR6KeG6KeG5Zu+5Y+Y5YyWCiAgICBmdW5jdGlvbiByZWdpc3Rlckxpc3RHcmlkU3RhdHVzKCkgewogICAgICB2YXIgJGFfbGlzdCA9ICQoJ2FbZGF0YS10eXBlPWxpc3RdJyk7CiAgICAgICRhX2xpc3QuY2xpY2soZnVuY3Rpb24gKCkgewogICAgICAgIGxpc3RfZ3JpZF9zdGF0dXMgPSAnbGlzdCc7CiAgICAgIH0pOwoKICAgICAgdmFyICRhX2dyaWQgPSAkKCdhW2RhdGEtdHlwZT1ncmlkXScpOwogICAgICAkYV9ncmlkLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBsaXN0X2dyaWRfc3RhdHVzID0gJ2dyaWQnOwogICAgICB9KTsKICAgIH0KCiAgICAvL+aWh+S7tumAieaLqeahhgogICAgZnVuY3Rpb24gcmVnaXN0ZXJDaGVja2JveCgpIHsKICAgICAgdmFyICRjaGVja2JveCA9ICQoJ3NwYW4uJyArIGNsYXNzTWFwWydjaGVja2JveCddKTsKICAgICAgaWYgKGxpc3RfZ3JpZF9zdGF0dXMgPT0gJ2dyaWQnKSB7CiAgICAgICAgJGNoZWNrYm94ID0gJCgnLicgKyBjbGFzc01hcFsnY2hla2JveC1ncmlkJ10pOwogICAgICB9CgogICAgICAkY2hlY2tib3guZWFjaChmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHsKICAgICAgICAkKGVsZW1lbnQpLmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHZhciAkcGFyZW50ID0gJCh0aGlzKS5wYXJlbnQoKTsKICAgICAgICAgIHZhciBmaWxlbmFtZTsKICAgICAgICAgIHZhciBpc0FjdGl2ZTsKCiAgICAgICAgICBpZiAobGlzdF9ncmlkX3N0YXR1cyA9PSAnbGlzdCcpIHsKICAgICAgICAgICAgZmlsZW5hbWUgPSAkKCdkaXYuZmlsZS1uYW1lIGRpdi50ZXh0IGEnLCAkcGFyZW50KS5hdHRyKCd0aXRsZScpOwogICAgICAgICAgICBpc0FjdGl2ZSA9ICRwYXJlbnQuaGFzQ2xhc3MoY2xhc3NNYXBbJ2l0ZW0tYWN0aXZlJ10pOwogICAgICAgICAgfSBlbHNlIGlmIChsaXN0X2dyaWRfc3RhdHVzID09ICdncmlkJykgewogICAgICAgICAgICBmaWxlbmFtZSA9ICQoJ2Rpdi5maWxlLW5hbWUgYScsICQodGhpcykpLmF0dHIoJ3RpdGxlJyk7CiAgICAgICAgICAgIGlzQWN0aXZlID0gISQodGhpcykuaGFzQ2xhc3MoY2xhc3NNYXBbJ2l0ZW0tYWN0aXZlJ10pCiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGlzQWN0aXZlKSB7CiAgICAgICAgICAgIHNsb2coJ+WPlua2iOmAieS4reaWh+S7tu+8micgKyBmaWxlbmFtZSk7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZWN0RmlsZUxpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICBpZiAoc2VsZWN0RmlsZUxpc3RbaV0uZmlsZW5hbWUgPT0gZmlsZW5hbWUpIHsKICAgICAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0LnNwbGljZShpLCAxKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHNsb2coJ+mAieS4reaWh+S7tjonICsgZmlsZW5hbWUpOwogICAgICAgICAgICAkLmVhY2goZmlsZUxpc3QsIGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkgewogICAgICAgICAgICAgIGlmIChlbGVtZW50LnNlcnZlcl9maWxlbmFtZSA9PSBmaWxlbmFtZSkgewogICAgICAgICAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6IGVsZW1lbnQuc2VydmVyX2ZpbGVuYW1lLAogICAgICAgICAgICAgICAgICBwYXRoOiBlbGVtZW50LnBhdGgsCiAgICAgICAgICAgICAgICAgIGZzX2lkOiBlbGVtZW50LmZzX2lkLAogICAgICAgICAgICAgICAgICBpc2RpcjogZWxlbWVudC5pc2RpcgogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0LnB1c2gob2JqKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KCiAgICBmdW5jdGlvbiB1bnJlZ2lzdGVyQ2hlY2tib3goKSB7CiAgICAgIHZhciAkY2hlY2tib3ggPSAkKCdzcGFuLicgKyBjbGFzc01hcFsnY2hlY2tib3gnXSk7CiAgICAgICRjaGVja2JveC5lYWNoKGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkgewogICAgICAgICQoZWxlbWVudCkudW5iaW5kKCdjbGljaycpOwogICAgICB9KTsKICAgIH0KCiAgICAvL+WFqOmAieahhgogICAgZnVuY3Rpb24gcmVnaXN0ZXJBbGxDaGVja2JveCgpIHsKICAgICAgdmFyICRjaGVja2JveCA9ICQoJ2Rpdi4nICsgY2xhc3NNYXBbJ2NvbC1pdGVtJ10gKyAnLicgKyBjbGFzc01hcFsnY2hlY2snXSk7CiAgICAgICRjaGVja2JveC5lYWNoKGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkgewogICAgICAgICQoZWxlbWVudCkuYmluZCgnY2xpY2snLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgdmFyICRwYXJlbnQgPSAkKHRoaXMpLnBhcmVudCgpOwogICAgICAgICAgaWYgKCRwYXJlbnQuaGFzQ2xhc3MoY2xhc3NNYXBbJ2NoZWNrZWQnXSkpIHsKICAgICAgICAgICAgc2xvZygn5Y+W5raI5YWo6YCJJyk7CiAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0ID0gW107CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzbG9nKCflhajpg6jpgInkuK0nKTsKICAgICAgICAgICAgc2VsZWN0RmlsZUxpc3QgPSBbXTsKICAgICAgICAgICAgJC5lYWNoKGZpbGVMaXN0LCBmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHsKICAgICAgICAgICAgICB2YXIgb2JqID0gewogICAgICAgICAgICAgICAgZmlsZW5hbWU6IGVsZW1lbnQuc2VydmVyX2ZpbGVuYW1lLAogICAgICAgICAgICAgICAgcGF0aDogZWxlbWVudC5wYXRoLAogICAgICAgICAgICAgICAgZnNfaWQ6IGVsZW1lbnQuZnNfaWQsCiAgICAgICAgICAgICAgICBpc2RpcjogZWxlbWVudC5pc2RpcgogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgc2VsZWN0RmlsZUxpc3QucHVzaChvYmopOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gdW5yZWdpc3RlckFsbENoZWNrYm94KCkgewogICAgICB2YXIgJGNoZWNrYm94ID0gJCgnZGl2LicgKyBjbGFzc01hcFsnY29sLWl0ZW0nXSArICcuJyArIGNsYXNzTWFwWydjaGVjayddKTsKICAgICAgJGNoZWNrYm94LmVhY2goZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7CiAgICAgICAgJChlbGVtZW50KS51bmJpbmQoJ2NsaWNrJyk7CiAgICAgIH0pOwogICAgfQoKICAgIC8v5Y2V5Liq5paH5Lu26YCJ5Lit77yM54K55Ye75paH5Lu25LiN5piv54K55Ye76YCJ5Lit5qGG77yM5Lya5Y+q6YCJ5Lit6K+l5paH5Lu2CiAgICBmdW5jdGlvbiByZWdpc3RlckZpbGVTZWxlY3QoKSB7CiAgICAgIHZhciAkZGQgPSAkKCdkaXYuJyArIGNsYXNzTWFwWydsaXN0LXZpZXcnXSArICcgZGQnKTsKICAgICAgJGRkLmVhY2goZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7CiAgICAgICAgJChlbGVtZW50KS5iaW5kKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB2YXIgbm9kZU5hbWUgPSBlLnRhcmdldC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgaWYgKG5vZGVOYW1lICE9ICdzcGFuJyAmJiBub2RlTmFtZSAhPSAnYScgJiYgbm9kZU5hbWUgIT0gJ2VtJykgewogICAgICAgICAgICBzbG9nKCdzaGlmdEtleTonICsgZS5zaGlmdEtleSk7CiAgICAgICAgICAgIGlmICghZS5zaGlmdEtleSkgewogICAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0ID0gW107CiAgICAgICAgICAgICAgdmFyIGZpbGVuYW1lID0gJCgnZGl2LmZpbGUtbmFtZSBkaXYudGV4dCBhJywgJCh0aGlzKSkuYXR0cigndGl0bGUnKTsKICAgICAgICAgICAgICBzbG9nKCfpgInkuK3mlofku7bvvJonICsgZmlsZW5hbWUpOwogICAgICAgICAgICAgICQuZWFjaChmaWxlTGlzdCwgZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7CiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5zZXJ2ZXJfZmlsZW5hbWUgPT0gZmlsZW5hbWUpIHsKICAgICAgICAgICAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZTogZWxlbWVudC5zZXJ2ZXJfZmlsZW5hbWUsCiAgICAgICAgICAgICAgICAgICAgcGF0aDogZWxlbWVudC5wYXRoLAogICAgICAgICAgICAgICAgICAgIGZzX2lkOiBlbGVtZW50LmZzX2lkLAogICAgICAgICAgICAgICAgICAgIGlzZGlyOiBlbGVtZW50LmlzZGlyCiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0LnB1c2gob2JqKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBzZWxlY3RGaWxlTGlzdCA9IFtdOwogICAgICAgICAgICAgIHZhciAkZGRfc2VsZWN0ID0gJCgnZGl2LicgKyBjbGFzc01hcFsnbGlzdC12aWV3J10gKyAnIGRkLicgKyBjbGFzc01hcFsnaXRlbS1hY3RpdmUnXSk7CiAgICAgICAgICAgICAgJC5lYWNoKCRkZF9zZWxlY3QsIGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkgewogICAgICAgICAgICAgICAgdmFyIGZpbGVuYW1lID0gJCgnZGl2LmZpbGUtbmFtZSBkaXYudGV4dCBhJywgJChlbGVtZW50KSkuYXR0cigndGl0bGUnKTsKICAgICAgICAgICAgICAgIHNsb2coJ+mAieS4reaWh+S7tu+8micgKyBmaWxlbmFtZSk7CiAgICAgICAgICAgICAgICAkLmVhY2goZmlsZUxpc3QsIGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkgewogICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5zZXJ2ZXJfZmlsZW5hbWUgPT0gZmlsZW5hbWUpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgb2JqID0gewogICAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6IGVsZW1lbnQuc2VydmVyX2ZpbGVuYW1lLAogICAgICAgICAgICAgICAgICAgICAgcGF0aDogZWxlbWVudC5wYXRoLAogICAgICAgICAgICAgICAgICAgICAgZnNfaWQ6IGVsZW1lbnQuZnNfaWQsCiAgICAgICAgICAgICAgICAgICAgICBpc2RpcjogZWxlbWVudC5pc2RpcgogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgc2VsZWN0RmlsZUxpc3QucHVzaChvYmopOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KCiAgICBmdW5jdGlvbiB1bnJlZ2lzdGVyRmlsZVNlbGVjdCgpIHsKICAgICAgdmFyICRkZCA9ICQoJ2Rpdi4nICsgY2xhc3NNYXBbJ2xpc3QtdmlldyddICsgJyBkZCcpOwogICAgICAkZGQuZWFjaChmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHsKICAgICAgICAkKGVsZW1lbnQpLnVuYmluZCgnY2xpY2snKTsKICAgICAgfSk7CiAgICB9CgogICAgLy/nm5Hop4bmlofku7bliJfooajmmL7npLrlj5jljJYKICAgIGZ1bmN0aW9uIGNyZWF0ZU9ic2VydmVyKCkgewogICAgICB2YXIgTXV0YXRpb25PYnNlcnZlciA9IHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyOwogICAgICB2YXIgb3B0aW9ucyA9IHsKICAgICAgICAnY2hpbGRMaXN0JzogdHJ1ZQogICAgICB9OwogICAgICBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uIChtdXRhdGlvbnMpIHsKICAgICAgICB1bnJlZ2lzdGVyQ2hlY2tib3goKTsKICAgICAgICB1bnJlZ2lzdGVyQWxsQ2hlY2tib3goKTsKICAgICAgICB1bnJlZ2lzdGVyRmlsZVNlbGVjdCgpOwogICAgICAgIHJlZ2lzdGVyQ2hlY2tib3goKTsKICAgICAgICByZWdpc3RlckFsbENoZWNrYm94KCk7CiAgICAgICAgcmVnaXN0ZXJGaWxlU2VsZWN0KCk7CiAgICAgIH0pOwoKICAgICAgdmFyIGxpc3RfdmlldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy4nICsgY2xhc3NNYXBbJ2xpc3QtdmlldyddKTsKICAgICAgdmFyIGdyaWRfdmlldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy4nICsgY2xhc3NNYXBbJ2dyaWQtdmlldyddKTsKCiAgICAgIG9ic2VydmVyLm9ic2VydmUobGlzdF92aWV3LCBvcHRpb25zKTsKICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShncmlkX3ZpZXcsIG9wdGlvbnMpOwogICAgfQoKICAgIC8v5re75Yqg5Yqp5omL5oyJ6ZKuCiAgICBmdW5jdGlvbiBhZGRCdXR0b24oKSB7CiAgICAgICQoJ2Rpdi4nICsgY2xhc3NNYXBbJ2Jhci1zZWFyY2gnXSkuY3NzKCd3aWR0aCcsICcxOCUnKTsKICAgICAgdmFyICRkcm9wZG93bmJ1dHRvbiA9ICQoJzxzcGFuIGNsYXNzPSJnLWRyb3Bkb3duLWJ1dHRvbiI+PC9zcGFuPicpOwogICAgICB2YXIgJGRyb3Bkb3duYnV0dG9uX2EgPSAkKCc8YSBjbGFzcz0iZy1idXR0b24gZy1idXR0b24tYmx1ZSIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+PHNwYW4gY2xhc3M9ImctYnV0dG9uLXJpZ2h0Ij48ZW0gY2xhc3M9Imljb24gaWNvbi1kb3dubG9hZCIgdGl0bGU9IueZvuW6pue9keebmOS4i+i9veWKqeaJiyI+PC9lbT48c3BhbiBjbGFzcz0idGV4dCIgc3R5bGU9IndpZHRoOiA2MHB4OyI+5LiL6L295Yqp5omLPC9zcGFuPjwvc3Bhbj48L2E+Jyk7CiAgICAgIHZhciAkZHJvcGRvd25idXR0b25fc3BhbiA9ICQoJzxzcGFuIGNsYXNzPSJtZW51IiBzdHlsZT0id2lkdGg6MTA0cHgiPjwvc3Bhbj4nKTsKCiAgICAgIHZhciAkZGlyZWN0YnV0dG9uID0gJCgnPHNwYW4gY2xhc3M9ImctYnV0dG9uLW1lbnUiIHN0eWxlPSJkaXNwbGF5OmJsb2NrIj48L3NwYW4+Jyk7CiAgICAgIHZhciAkZGlyZWN0YnV0dG9uX3NwYW4gPSAkKCc8c3BhbiBjbGFzcz0iZy1kcm9wZG93bi1idXR0b24gZy1kcm9wZG93bi1idXR0b24tc2Vjb25kIiBtZW51bGV2ZWw9IjIiPjwvc3Bhbj4nKTsKICAgICAgdmFyICRkaXJlY3RidXR0b25fYSA9ICQoJzxhIGNsYXNzPSJnLWJ1dHRvbiIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+PHNwYW4gY2xhc3M9ImctYnV0dG9uLXJpZ2h0Ij48c3BhbiBjbGFzcz0idGV4dCIgc3R5bGU9IndpZHRoOmF1dG8iPuebtOaOpeS4i+i9vTwvc3Bhbj48L3NwYW4+PC9hPicpOwogICAgICB2YXIgJGRpcmVjdGJ1dHRvbl9tZW51ID0gJCgnPHNwYW4gY2xhc3M9Im1lbnUiIHN0eWxlPSJ3aWR0aDoxMjBweDtsZWZ0Ojc5cHgiPjwvc3Bhbj4nKTsKICAgICAgdmFyICRkaXJlY3RidXR0b25fZG93bmxvYWRfYnV0dG9uID0gJCgnPGEgaWQ9ImRvd25sb2FkLWRpcmVjdCIgY2xhc3M9ImctYnV0dG9uLW1lbnUiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPuS4i+i9vTwvYT4nKTsKICAgICAgdmFyICRkaXJlY3RidXR0b25fbGlua19idXR0b24gPSAkKCc8YSBpZD0ibGluay1kaXJlY3QiIGNsYXNzPSJnLWJ1dHRvbi1tZW51IiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij7mmL7npLrpk77mjqU8L2E+Jyk7CiAgICAgIHZhciAkZGlyZWN0YnV0dG9uX2JhdGNoaHR0cGxpbmtfYnV0dG9uID0gJCgnPGEgaWQ9ImJhdGNoaHR0cGxpbmstZGlyZWN0IiBjbGFzcz0iZy1idXR0b24tbWVudSIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5om56YeP6ZO+5o6lKEhUVFApPC9hPicpOwogICAgICB2YXIgJGRpcmVjdGJ1dHRvbl9iYXRjaGh0dHBzbGlua19idXR0b24gPSAkKCc8YSBpZD0iYmF0Y2hodHRwc2xpbmstZGlyZWN0IiBjbGFzcz0iZy1idXR0b24tbWVudSIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5om56YeP6ZO+5o6lKEhUVFBTKTwvYT4nKTsKICAgICAgJGRpcmVjdGJ1dHRvbl9tZW51LmFwcGVuZCgkZGlyZWN0YnV0dG9uX2Rvd25sb2FkX2J1dHRvbikuYXBwZW5kKCRkaXJlY3RidXR0b25fbGlua19idXR0b24pLmFwcGVuZCgkZGlyZWN0YnV0dG9uX2JhdGNoaHR0cGxpbmtfYnV0dG9uKS5hcHBlbmQoJGRpcmVjdGJ1dHRvbl9iYXRjaGh0dHBzbGlua19idXR0b24pOwogICAgICAkZGlyZWN0YnV0dG9uLmFwcGVuZCgkZGlyZWN0YnV0dG9uX3NwYW4uYXBwZW5kKCRkaXJlY3RidXR0b25fYSkuYXBwZW5kKCRkaXJlY3RidXR0b25fbWVudSkpOwogICAgICAkZGlyZWN0YnV0dG9uLmhvdmVyKGZ1bmN0aW9uICgpIHsKICAgICAgICAkZGlyZWN0YnV0dG9uX3NwYW4udG9nZ2xlQ2xhc3MoJ2J1dHRvbi1vcGVuJyk7CiAgICAgIH0pOwogICAgICAkZGlyZWN0YnV0dG9uX2Rvd25sb2FkX2J1dHRvbi5jbGljayhkb3dubG9hZENsaWNrKTsKICAgICAgJGRpcmVjdGJ1dHRvbl9saW5rX2J1dHRvbi5jbGljayhsaW5rQ2xpY2spOwogICAgICAkZGlyZWN0YnV0dG9uX2JhdGNoaHR0cGxpbmtfYnV0dG9uLmNsaWNrKGJhdGNoQ2xpY2spOwogICAgICAkZGlyZWN0YnV0dG9uX2JhdGNoaHR0cHNsaW5rX2J1dHRvbi5jbGljayhiYXRjaENsaWNrKTsKCiAgICAgIHZhciAkYXBpYnV0dG9uID0gJCgnPHNwYW4gY2xhc3M9ImctYnV0dG9uLW1lbnUiIHN0eWxlPSJkaXNwbGF5OmJsb2NrIj48L3NwYW4+Jyk7CiAgICAgIHZhciAkYXBpYnV0dG9uX3NwYW4gPSAkKCc8c3BhbiBjbGFzcz0iZy1kcm9wZG93bi1idXR0b24gZy1kcm9wZG93bi1idXR0b24tc2Vjb25kIiBtZW51bGV2ZWw9IjIiPjwvc3Bhbj4nKTsKICAgICAgdmFyICRhcGlidXR0b25fYSA9ICQoJzxhIGNsYXNzPSJnLWJ1dHRvbiIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+PHNwYW4gY2xhc3M9ImctYnV0dG9uLXJpZ2h0Ij48c3BhbiBjbGFzcz0idGV4dCIgc3R5bGU9IndpZHRoOmF1dG8iPkFQSeS4i+i9vTwvc3Bhbj48L3NwYW4+PC9hPicpOwogICAgICB2YXIgJGFwaWJ1dHRvbl9tZW51ID0gJCgnPHNwYW4gY2xhc3M9Im1lbnUiIHN0eWxlPSJ3aWR0aDoxMjBweDtsZWZ0Ojc3cHgiPjwvc3Bhbj4nKTsKICAgICAgdmFyICRhcGlidXR0b25fZG93bmxvYWRfYnV0dG9uID0gJCgnPGEgaWQ9ImRvd25sb2FkLWFwaSIgY2xhc3M9ImctYnV0dG9uLW1lbnUiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPuS4i+i9vTwvYT4nKTsKICAgICAgdmFyICRhcGlidXR0b25fbGlua19idXR0b24gPSAkKCc8YSBpZD0iaHR0cGxpbmstYXBpIiBjbGFzcz0iZy1idXR0b24tbWVudSIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5pi+56S66ZO+5o6lPC9hPicpOwogICAgICB2YXIgJGFwaWJ1dHRvbl9iYXRjaGh0dHBsaW5rX2J1dHRvbiA9ICQoJzxhIGlkPSJiYXRjaGh0dHBsaW5rLWFwaSIgY2xhc3M9ImctYnV0dG9uLW1lbnUiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPuaJuemHj+mTvuaOpShIVFRQKTwvYT4nKTsKICAgICAgdmFyICRhcGlidXR0b25fYmF0Y2hodHRwc2xpbmtfYnV0dG9uID0gJCgnPGEgaWQ9ImJhdGNoaHR0cHNsaW5rLWFwaSIgY2xhc3M9ImctYnV0dG9uLW1lbnUiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPuaJuemHj+mTvuaOpShIVFRQUyk8L2E+Jyk7CiAgICAgICRhcGlidXR0b25fbWVudS5hcHBlbmQoJGFwaWJ1dHRvbl9kb3dubG9hZF9idXR0b24pLmFwcGVuZCgkYXBpYnV0dG9uX2xpbmtfYnV0dG9uKS5hcHBlbmQoJGFwaWJ1dHRvbl9iYXRjaGh0dHBsaW5rX2J1dHRvbikuYXBwZW5kKCRhcGlidXR0b25fYmF0Y2hodHRwc2xpbmtfYnV0dG9uKTsKICAgICAgJGFwaWJ1dHRvbi5hcHBlbmQoJGFwaWJ1dHRvbl9zcGFuLmFwcGVuZCgkYXBpYnV0dG9uX2EpLmFwcGVuZCgkYXBpYnV0dG9uX21lbnUpKTsKICAgICAgJGFwaWJ1dHRvbi5ob3ZlcihmdW5jdGlvbiAoKSB7CiAgICAgICAgJGFwaWJ1dHRvbl9zcGFuLnRvZ2dsZUNsYXNzKCdidXR0b24tb3BlbicpOwogICAgICB9KTsKICAgICAgJGFwaWJ1dHRvbl9kb3dubG9hZF9idXR0b24uY2xpY2soZG93bmxvYWRDbGljayk7CiAgICAgICRhcGlidXR0b25fbGlua19idXR0b24uY2xpY2sobGlua0NsaWNrKTsKICAgICAgJGFwaWJ1dHRvbl9iYXRjaGh0dHBsaW5rX2J1dHRvbi5jbGljayhiYXRjaENsaWNrKTsKICAgICAgJGFwaWJ1dHRvbl9iYXRjaGh0dHBzbGlua19idXR0b24uY2xpY2soYmF0Y2hDbGljayk7CgoKICAgICAgdmFyICRvdXRlcmxpbmtidXR0b24gPSAkKCc8c3BhbiBjbGFzcz0iZy1idXR0b24tbWVudSIgc3R5bGU9ImRpc3BsYXk6YmxvY2siPjwvc3Bhbj4nKTsKICAgICAgdmFyICRvdXRlcmxpbmtidXR0b25fc3BhbiA9ICQoJzxzcGFuIGNsYXNzPSJnLWRyb3Bkb3duLWJ1dHRvbiBnLWRyb3Bkb3duLWJ1dHRvbi1zZWNvbmQiIG1lbnVsZXZlbD0iMiI+PC9zcGFuPicpOwogICAgICB2YXIgJG91dGVybGlua2J1dHRvbl9hID0gJCgnPGEgY2xhc3M9ImctYnV0dG9uIiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij48c3BhbiBjbGFzcz0iZy1idXR0b24tcmlnaHQiPjxzcGFuIGNsYXNzPSJ0ZXh0IiBzdHlsZT0id2lkdGg6YXV0byI+5aSW6ZO+5LiL6L29PC9zcGFuPjwvc3Bhbj48L2E+Jyk7CiAgICAgIHZhciAkb3V0ZXJsaW5rYnV0dG9uX21lbnUgPSAkKCc8c3BhbiBjbGFzcz0ibWVudSIgc3R5bGU9IndpZHRoOjEyMHB4O2xlZnQ6NzlweCI+PC9zcGFuPicpOwogICAgICB2YXIgJG91dGVybGlua2J1dHRvbl9saW5rX2J1dHRvbiA9ICQoJzxhIGlkPSJsaW5rLW91dGVybGluayIgY2xhc3M9ImctYnV0dG9uLW1lbnUiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPuaYvuekuumTvuaOpTwvYT4nKTsKICAgICAgdmFyICRvdXRlcmxpbmtidXR0b25fYmF0Y2hsaW5rX2J1dHRvbiA9ICQoJzxhIGlkPSJiYXRjaGxpbmstb3V0ZXJsaW5rIiBjbGFzcz0iZy1idXR0b24tbWVudSIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5om56YeP6ZO+5o6lPC9hPicpOwogICAgICAkb3V0ZXJsaW5rYnV0dG9uX21lbnUuYXBwZW5kKCRvdXRlcmxpbmtidXR0b25fbGlua19idXR0b24pLmFwcGVuZCgkb3V0ZXJsaW5rYnV0dG9uX2JhdGNobGlua19idXR0b24pOwogICAgICAkb3V0ZXJsaW5rYnV0dG9uLmFwcGVuZCgkb3V0ZXJsaW5rYnV0dG9uX3NwYW4uYXBwZW5kKCRvdXRlcmxpbmtidXR0b25fYSkuYXBwZW5kKCRvdXRlcmxpbmtidXR0b25fbWVudSkpOwogICAgICAkb3V0ZXJsaW5rYnV0dG9uLmhvdmVyKGZ1bmN0aW9uICgpIHsKICAgICAgICAkb3V0ZXJsaW5rYnV0dG9uX3NwYW4udG9nZ2xlQ2xhc3MoJ2J1dHRvbi1vcGVuJyk7CiAgICAgIH0pOwogICAgICAkb3V0ZXJsaW5rYnV0dG9uX2xpbmtfYnV0dG9uLmNsaWNrKGxpbmtDbGljayk7CiAgICAgICRvdXRlcmxpbmtidXR0b25fYmF0Y2hsaW5rX2J1dHRvbi5jbGljayhiYXRjaENsaWNrKTsKCiAgICAgIHZhciAkZ2l0aHViID0gJCgnPGlmcmFtZSBzcmM9Imh0dHBzOi8vZ2hidG5zLmNvbS9naXRodWItYnRuLmh0bWw/dXNlcj1zeWh5ejE5OTAmcmVwbz1iYWlkdXl1biZ0eXBlPXN0YXImY291bnQ9dHJ1ZSIgZnJhbWVib3JkZXI9IjAiIHNjcm9sbGluZz0iMCIgc3R5bGU9ImhlaWdodDogMjBweDttYXgtd2lkdGg6IDEyMHB4O3BhZGRpbmc6IDAgNXB4O2JveC1zaXppbmc6IGJvcmRlci1ib3g7bWFyZ2luLXRvcDogNXB4OyI+PC9pZnJhbWU+Jyk7CiAgICAgIC8vJGRyb3Bkb3duYnV0dG9uX3NwYW4uYXBwZW5kKCRkaXJlY3RidXR0b24pLmFwcGVuZCgkYXBpYnV0dG9uKS5hcHBlbmQoJG91dGVybGlua2J1dHRvbik7CiAgICAgICRkcm9wZG93bmJ1dHRvbl9zcGFuLmFwcGVuZCgkYXBpYnV0dG9uKS5hcHBlbmQoJG91dGVybGlua2J1dHRvbikuYXBwZW5kKCRnaXRodWIpOwogICAgICAkZHJvcGRvd25idXR0b24uYXBwZW5kKCRkcm9wZG93bmJ1dHRvbl9hKS5hcHBlbmQoJGRyb3Bkb3duYnV0dG9uX3NwYW4pOwoKICAgICAgJGRyb3Bkb3duYnV0dG9uLmhvdmVyKGZ1bmN0aW9uICgpIHsKICAgICAgICAkZHJvcGRvd25idXR0b24udG9nZ2xlQ2xhc3MoJ2J1dHRvbi1vcGVuJyk7CiAgICAgIH0pOwoKICAgICAgJCgnLicgKyBjbGFzc01hcFsnbGlzdC10b29scyddKS5hcHBlbmQoJGRyb3Bkb3duYnV0dG9uKTsKICAgICAgJCgnLicgKyBjbGFzc01hcFsnbGlzdC10b29scyddKS5jc3MoJ2hlaWdodCcsICc0MHB4Jyk7CiAgICB9CgogICAgLy8g5oiR55qE572R55uYIC0g5LiL6L29CiAgICBmdW5jdGlvbiBkb3dubG9hZENsaWNrKGV2ZW50KSB7CiAgICAgIHNsb2coJ+mAieS4reaWh+S7tuWIl+ihqO+8micsIHNlbGVjdEZpbGVMaXN0KTsKICAgICAgdmFyIGlkID0gZXZlbnQudGFyZ2V0LmlkOwogICAgICB2YXIgZG93bmxvYWRMaW5rOwoKICAgICAgaWYgKGlkID09ICdkb3dubG9hZC1kaXJlY3QnKSB7CiAgICAgICAgdmFyIGRvd25sb2FkVHlwZTsKICAgICAgICBpZiAoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICBhbGVydCgi6I635Y+W6YCJ5Lit5paH5Lu25aSx6LSl77yM6K+35Yi35paw6YeN6K+V77yBIik7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RGaWxlTGlzdC5sZW5ndGggPT0gMSkgewogICAgICAgICAgaWYgKHNlbGVjdEZpbGVMaXN0WzBdLmlzZGlyID09PSAxKQogICAgICAgICAgICBkb3dubG9hZFR5cGUgPSAnYmF0Y2gnOwogICAgICAgICAgZWxzZSBpZiAoc2VsZWN0RmlsZUxpc3RbMF0uaXNkaXIgPT09IDApCiAgICAgICAgICAgIGRvd25sb2FkVHlwZSA9ICdkbGluayc7CiAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RGaWxlTGlzdC5sZW5ndGggPiAxKSB7CiAgICAgICAgICBkb3dubG9hZFR5cGUgPSAnYmF0Y2gnOwogICAgICAgIH0KCiAgICAgICAgZmlkX2xpc3QgPSBnZXRGaWRMaXN0KHNlbGVjdEZpbGVMaXN0KTsKICAgICAgICB2YXIgcmVzdWx0ID0gZ2V0RG93bmxvYWRMaW5rV2l0aFBhbkFQSShkb3dubG9hZFR5cGUpOwogICAgICAgIGlmIChyZXN1bHQuZXJybm8gPT09IDApIHsKICAgICAgICAgIGlmIChkb3dubG9hZFR5cGUgPT0gJ2RsaW5rJykKICAgICAgICAgICAgZG93bmxvYWRMaW5rID0gcmVzdWx0LmRsaW5rWzBdLmRsaW5rOwogICAgICAgICAgZWxzZSBpZiAoZG93bmxvYWRUeXBlID09ICdiYXRjaCcpIHsKICAgICAgICAgICAgZG93bmxvYWRMaW5rID0gcmVzdWx0LmRsaW5rOwogICAgICAgICAgICBpZiAoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09PSAxKQogICAgICAgICAgICAgIGRvd25sb2FkTGluayA9IGRvd25sb2FkTGluayArICcmemlwbmFtZT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHNlbGVjdEZpbGVMaXN0WzBdLmZpbGVuYW1lKSArICcuemlwJzsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGFsZXJ0KCLlj5HnlJ/plJnor6/vvIEiKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LmVycm5vID09IC0xKSB7CiAgICAgICAgICBhbGVydCgn5paH5Lu25LiN5a2Y5Zyo5oiW5bey6KKr55m+5bqm5ZKM6LCQ77yM5peg5rOV5LiL6L2977yBJyk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQuZXJybm8gPT0gMTEyKSB7CiAgICAgICAgICBhbGVydCgi6aG16Z2i6L+H5pyf77yM6K+35Yi35paw6YeN6K+V77yBIik7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KCLlj5HnlJ/plJnor6/vvIEiKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHNlbGVjdEZpbGVMaXN0Lmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgYWxlcnQoIuiOt+WPlumAieS4reaWh+S7tuWksei0pe+8jOivt+WIt+aWsOmHjeivle+8gSIpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID4gMSkgewogICAgICAgICAgYWxlcnQoIuivpeaWueazleS4jeaUr+aMgeWkmuaWh+S7tuS4i+i9ve+8gSIpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoc2VsZWN0RmlsZUxpc3RbMF0uaXNkaXIgPT0gMSkgewogICAgICAgICAgICBhbGVydCgi6K+l5pa55rOV5LiN5pSv5oyB55uu5b2V5LiL6L2977yB6K+35L2/55So5om56YeP5LiL6L29Iik7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKGlkID09ICdkb3dubG9hZC1hcGknKSB7CiAgICAgICAgICBkb3dubG9hZExpbmsgPSBnZXREb3dubG9hZExpbmtXaXRoUkVTVEFQSUJhaWR1KHNlbGVjdEZpbGVMaXN0WzBdLnBhdGgpOwogICAgICAgIH0KICAgICAgfQogICAgICBleGVjRG93bmxvYWQoZG93bmxvYWRMaW5rKTsKICAgIH0KCiAgICAvL+aIkeeahOe9keebmCAtIOaYvuekuumTvuaOpQogICAgZnVuY3Rpb24gbGlua0NsaWNrKGV2ZW50KSB7CiAgICAgIHNsb2coJ+mAieS4reaWh+S7tuWIl+ihqO+8micsIHNlbGVjdEZpbGVMaXN0KTsKICAgICAgdmFyIGlkID0gZXZlbnQudGFyZ2V0LmlkOwogICAgICB2YXIgbGlua0xpc3QsIHRpcDsKCiAgICAgIGlmIChpZC5pbmRleE9mKCdkaXJlY3QnKSAhPSAtMSkgewogICAgICAgIHZhciBkb3dubG9hZFR5cGU7CiAgICAgICAgdmFyIGRvd25sb2FkTGluazsKICAgICAgICBpZiAoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICBhbGVydCgi6I635Y+W6YCJ5Lit5paH5Lu25aSx6LSl77yM6K+35Yi35paw6YeN6K+V77yBIik7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RGaWxlTGlzdC5sZW5ndGggPT0gMSkgewogICAgICAgICAgaWYgKHNlbGVjdEZpbGVMaXN0WzBdLmlzZGlyID09PSAxKQogICAgICAgICAgICBkb3dubG9hZFR5cGUgPSAnYmF0Y2gnOwogICAgICAgICAgZWxzZSBpZiAoc2VsZWN0RmlsZUxpc3RbMF0uaXNkaXIgPT09IDApCiAgICAgICAgICAgIGRvd25sb2FkVHlwZSA9ICdkbGluayc7CiAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RGaWxlTGlzdC5sZW5ndGggPiAxKSB7CiAgICAgICAgICBkb3dubG9hZFR5cGUgPSAnYmF0Y2gnOwogICAgICAgIH0KICAgICAgICBmaWRfbGlzdCA9IGdldEZpZExpc3Qoc2VsZWN0RmlsZUxpc3QpOwogICAgICAgIHZhciByZXN1bHQgPSBnZXREb3dubG9hZExpbmtXaXRoUGFuQVBJKGRvd25sb2FkVHlwZSk7CiAgICAgICAgaWYgKHJlc3VsdC5lcnJubyA9PT0gMCkgewogICAgICAgICAgaWYgKGRvd25sb2FkVHlwZSA9PSAnZGxpbmsnKQogICAgICAgICAgICBkb3dubG9hZExpbmsgPSByZXN1bHQuZGxpbmtbMF0uZGxpbms7CiAgICAgICAgICBlbHNlIGlmIChkb3dubG9hZFR5cGUgPT0gJ2JhdGNoJykgewogICAgICAgICAgICBzbG9nKHNlbGVjdEZpbGVMaXN0KTsKICAgICAgICAgICAgZG93bmxvYWRMaW5rID0gcmVzdWx0LmRsaW5rOwogICAgICAgICAgICBpZiAoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09PSAxKQogICAgICAgICAgICAgIGRvd25sb2FkTGluayA9IGRvd25sb2FkTGluayArICcmemlwbmFtZT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHNlbGVjdEZpbGVMaXN0WzBdLmZpbGVuYW1lKSArICcuemlwJzsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGFsZXJ0KCLlj5HnlJ/plJnor6/vvIEiKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LmVycm5vID09IC0xKSB7CiAgICAgICAgICBhbGVydCgn5paH5Lu25LiN5a2Y5Zyo5oiW5bey6KKr55m+5bqm5ZKM6LCQ77yM5peg5rOV5LiL6L2977yBJyk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQuZXJybm8gPT0gMTEyKSB7CiAgICAgICAgICBhbGVydCgi6aG16Z2i6L+H5pyf77yM6K+35Yi35paw6YeN6K+V77yBIik7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KCLlj5HnlJ/plJnor6/vvIEiKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdmFyIGh0dHBsaW5rID0gZG93bmxvYWRMaW5rLnJlcGxhY2UoL14oW0EtWmEtel0rKTovLCAnaHR0cDonKTsKICAgICAgICB2YXIgaHR0cHNsaW5rID0gZG93bmxvYWRMaW5rLnJlcGxhY2UoL14oW0EtWmEtel0rKTovLCAnaHR0cHM6Jyk7CiAgICAgICAgdmFyIGZpbGVuYW1lID0gJyc7CiAgICAgICAgJC5lYWNoKHNlbGVjdEZpbGVMaXN0LCBmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHsKICAgICAgICAgIGlmIChzZWxlY3RGaWxlTGlzdC5sZW5ndGggPT0gMSkKICAgICAgICAgICAgZmlsZW5hbWUgPSBlbGVtZW50LmZpbGVuYW1lOwogICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGlmIChpbmRleCA9PSAwKQogICAgICAgICAgICAgIGZpbGVuYW1lID0gZWxlbWVudC5maWxlbmFtZTsKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgIGZpbGVuYW1lID0gZmlsZW5hbWUgKyAnLCcgKyBlbGVtZW50LmZpbGVuYW1lOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIGxpbmtMaXN0ID0gewogICAgICAgICAgZmlsZW5hbWU6IGZpbGVuYW1lLAogICAgICAgICAgdXJsczogWwogICAgICAgICAgICB7dXJsOiBodHRwbGluaywgcmFuazogMX0sCiAgICAgICAgICAgIHt1cmw6IGh0dHBzbGluaywgcmFuazogMn0KICAgICAgICAgIF0KICAgICAgICB9OwogICAgICAgIHRpcCA9ICfmmL7npLrmqKHmi5/nmb7luqbnvZHnm5jnvZHpobXojrflj5bnmoTpk77mjqXvvIzlj6/ku6Xkvb/nlKjlj7PplK7ov4Xpm7fmiJZJRE3kuIvovb3vvIzlpJrmlofku7bmiZPljIUo6ZmQMzAwaynkuIvovb3nmoTpk77mjqXlj6/ku6Xnm7TmjqXlpI3liLbkvb/nlKgnOwogICAgICAgIGRpYWxvZy5vcGVuKHt0aXRsZTogJ+S4i+i9vemTvuaOpScsIHR5cGU6ICdsaW5rJywgbGlzdDogbGlua0xpc3QsIHRpcDogdGlwfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHNlbGVjdEZpbGVMaXN0Lmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgYWxlcnQoIuiOt+WPlumAieS4reaWh+S7tuWksei0pe+8jOivt+WIt+aWsOmHjeivle+8gSIpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID4gMSkgewogICAgICAgICAgYWxlcnQoIuivpeaWueazleS4jeaUr+aMgeWkmuaWh+S7tuS4i+i9ve+8geivt+S9v+eUqOaJuemHj+S4i+i9vSIpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoc2VsZWN0RmlsZUxpc3RbMF0uaXNkaXIgPT0gMSkgewogICAgICAgICAgICBhbGVydCgi6K+l5pa55rOV5LiN5pSv5oyB55uu5b2V5LiL6L2977yBIik7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKGlkLmluZGV4T2YoJ2FwaScpICE9IC0xKSB7CiAgICAgICAgICB2YXIgZG93bmxvYWRMaW5rID0gZ2V0RG93bmxvYWRMaW5rV2l0aFJFU1RBUElCYWlkdShzZWxlY3RGaWxlTGlzdFswXS5wYXRoKTsKICAgICAgICAgIHZhciBodHRwbGluayA9IGRvd25sb2FkTGluay5yZXBsYWNlKC9eKFtBLVphLXpdKyk6LywgJ2h0dHA6Jyk7CiAgICAgICAgICB2YXIgaHR0cHNsaW5rID0gZG93bmxvYWRMaW5rLnJlcGxhY2UoL14oW0EtWmEtel0rKTovLCAnaHR0cHM6Jyk7CiAgICAgICAgICBsaW5rTGlzdCA9IHsKICAgICAgICAgICAgZmlsZW5hbWU6IHNlbGVjdEZpbGVMaXN0WzBdLmZpbGVuYW1lLAogICAgICAgICAgICB1cmxzOiBbCiAgICAgICAgICAgICAge3VybDogaHR0cGxpbmssIHJhbms6IDF9LAogICAgICAgICAgICAgIHt1cmw6IGh0dHBzbGluaywgcmFuazogMn0KICAgICAgICAgICAgXQogICAgICAgICAgfTsKICAgICAgICAgIGh0dHBsaW5rID0gaHR0cGxpbmsucmVwbGFjZSgnMjY1NDg2JywgJzI5MDE1MCcpOwogICAgICAgICAgaHR0cHNsaW5rID0gaHR0cHNsaW5rLnJlcGxhY2UoJzI2NTQ4NicsICcyOTAxNTAnKTsKICAgICAgICAgIGxpbmtMaXN0LnVybHMucHVzaCh7dXJsOiBodHRwbGluaywgcmFuazogM30pOwogICAgICAgICAgbGlua0xpc3QudXJscy5wdXNoKHt1cmw6IGh0dHBzbGluaywgcmFuazogNH0pOwogICAgICAgICAgdGlwID0gJ+aYvuekuuaooeaLn0FQUOiOt+WPlueahOmTvuaOpSjkvb/nlKjnmb7luqbkupFJRCnvvIzlj6/ku6Xlj7PplK7kvb/nlKjov4Xpm7fmiJZJRE3kuIvovb3vvIznm7TmjqXlpI3liLbpk77mjqXml6DmlYgnOwogICAgICAgICAgZGlhbG9nLm9wZW4oe3RpdGxlOiAn5LiL6L296ZO+5o6lJywgdHlwZTogJ2xpbmsnLCBsaXN0OiBsaW5rTGlzdCwgdGlwOiB0aXB9KTsKICAgICAgICB9IGVsc2UgaWYgKGlkLmluZGV4T2YoJ291dGVybGluaycpICE9IC0xKSB7CiAgICAgICAgICBnZXREb3dubG9hZExpbmtXaXRoQ2xpZW50QVBJKHNlbGVjdEZpbGVMaXN0WzBdLnBhdGgsIGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgaWYgKHJlc3VsdC5lcnJubyA9PSAwKSB7CiAgICAgICAgICAgICAgbGlua0xpc3QgPSB7CiAgICAgICAgICAgICAgICBmaWxlbmFtZTogc2VsZWN0RmlsZUxpc3RbMF0uZmlsZW5hbWUsCiAgICAgICAgICAgICAgICB1cmxzOiByZXN1bHQudXJscwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LmVycm5vID09IDEpIHsKICAgICAgICAgICAgICBhbGVydCgn5paH5Lu25LiN5a2Y5Zyo77yBJyk7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5lcnJubyA9PSAyKSB7CiAgICAgICAgICAgICAgYWxlcnQoJ+aWh+S7tuS4jeWtmOWcqOaIluiAheW3suiiq+eZvuW6puWSjOiwkO+8jOaXoOazleS4i+i9ve+8gScpOwogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhbGVydCgn5Y+R55Sf6ZSZ6K+v77yBJyk7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRpcCA9ICflt6bplK7ngrnlh7vosIPnlKhJRE3kuIvovb3vvIzmjqjojZBhbGzlvIDlpLTnmoTlnLDlnYDvvIg8Yj7lpI3liLbpk77mjqXml6DmlYg8L2I+77yJJzsKICAgICAgICAgICAgZGlhbG9nLm9wZW4oewogICAgICAgICAgICAgIHRpdGxlOiAn5LiL6L296ZO+5o6lJywKICAgICAgICAgICAgICB0eXBlOiAnR01saW5rJywKICAgICAgICAgICAgICBsaXN0OiBsaW5rTGlzdCwKICAgICAgICAgICAgICB0aXA6IHRpcCwKICAgICAgICAgICAgICBzaG93Y29weTogZmFsc2UsCiAgICAgICAgICAgICAgc2hvd2VkaXQ6IGZhbHNlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgLy8g5oiR55qE572R55uYIC0g5om56YeP5LiL6L29CiAgICBmdW5jdGlvbiBiYXRjaENsaWNrKGV2ZW50KSB7CiAgICAgIHNsb2coJ+mAieS4reaWh+S7tuWIl+ihqO+8micsIHNlbGVjdEZpbGVMaXN0KTsKICAgICAgaWYgKHNlbGVjdEZpbGVMaXN0Lmxlbmd0aCA9PT0gMCkgewogICAgICAgIGFsZXJ0KCfojrflj5bpgInkuK3mlofku7blpLHotKXvvIzor7fliLfmlrDph43or5XvvIEnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIGlkID0gZXZlbnQudGFyZ2V0LmlkOwogICAgICB2YXIgbGlua1R5cGUsIHRpcDsKICAgICAgbGlua1R5cGUgPSBpZC5pbmRleE9mKCdodHRwcycpID09IC0xID8gKGlkLmluZGV4T2YoJ2h0dHAnKSA9PSAtMSA/IGxvY2F0aW9uLnByb3RvY29sICsgJzonIDogJ2h0dHA6JykgOiAnaHR0cHM6JzsKICAgICAgYmF0Y2hMaW5rTGlzdCA9IFtdOwogICAgICBiYXRjaExpbmtMaXN0QWxsID0gW107CiAgICAgIGlmIChpZC5pbmRleE9mKCdkaXJlY3QnKSAhPSAtMSkgewogICAgICAgIGJhdGNoTGlua0xpc3QgPSBnZXREaXJlY3RCYXRjaExpbmsobGlua1R5cGUpOwogICAgICAgIHRpcCA9ICfmmL7npLrmiYDmnInpgInkuK3mlofku7bnmoTnm7TmjqXkuIvovb3pk77mjqXvvIzmlofku7blpLnmmL7npLrkuLrmiZPljIXkuIvovb3nmoTpk77mjqUnOwogICAgICAgIGlmIChiYXRjaExpbmtMaXN0Lmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgYWxlcnQoJ+ayoeaciemTvuaOpeWPr+S7peaYvuekuu+8jEFQSemTvuaOpeS4jeimgeWFqOmDqOmAieS4reaWh+S7tuWkue+8gScpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBkaWFsb2cub3Blbih7dGl0bGU6ICfmibnph4/pk77mjqUnLCB0eXBlOiAnYmF0Y2gnLCBsaXN0OiBiYXRjaExpbmtMaXN0LCB0aXA6IHRpcCwgc2hvd2NvcHk6IHRydWV9KTsKICAgICAgfSBlbHNlIGlmIChpZC5pbmRleE9mKCdhcGknKSAhPSAtMSkgewogICAgICAgIGJhdGNoTGlua0xpc3QgPSBnZXRBUElCYXRjaExpbmsobGlua1R5cGUpOwogICAgICAgIHRpcCA9ICfmmL7npLrmiYDmnInpgInkuK3mlofku7bnmoRBUEnkuIvovb3pk77mjqXvvIznm7TmjqXlpI3liLbpk77mjqXml6DmlYjvvIzor7flronoo4VJRE3miJbov4Xpm7dDaHJvbWXmj5Lku7YnOwogICAgICAgIGlmIChiYXRjaExpbmtMaXN0Lmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgYWxlcnQoJ+ayoeaciemTvuaOpeWPr+S7peaYvuekuu+8jEFQSemTvuaOpeS4jeimgeWFqOmDqOmAieS4reaWh+S7tuWkue+8gScpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBkaWFsb2cub3Blbih7dGl0bGU6ICfmibnph4/pk77mjqUnLCB0eXBlOiAnYmF0Y2gnLCBsaXN0OiBiYXRjaExpbmtMaXN0LCB0aXA6IHRpcCwgc2hvd2NvcHk6IHRydWV9KTsKICAgICAgfSBlbHNlIGlmIChpZC5pbmRleE9mKCdvdXRlcmxpbmsnKSAhPSAtMSkgewogICAgICAgIGdldE91dGVybGlua0JhdGNoTGlua0FsbChmdW5jdGlvbiAoYmF0Y2hMaW5rTGlzdEFsbCkgewogICAgICAgICAgYmF0Y2hMaW5rTGlzdCA9IGdldE91dGVybGlua0JhdGNoTGlua0ZpcnN0KGJhdGNoTGlua0xpc3RBbGwpOwogICAgICAgICAgdGlwID0gJ+W3pumUrueCueWHu+iwg+eUqElETeS4i+i9ve+8jOaOqOiNkGFsbOW8gOWktOeahOWcsOWdgO+8iDxiPuWkjeWItumTvuaOpeaXoOaViDwvYj7vvIknOwogICAgICAgICAgaWYgKGJhdGNoTGlua0xpc3QubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgIGFsZXJ0KCfmsqHmnInpk77mjqXlj6/ku6XmmL7npLrvvIxBUEnpk77mjqXkuI3opoHlhajpg6jpgInkuK3mlofku7blpLnvvIEnKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIGRpYWxvZy5vcGVuKHsKICAgICAgICAgICAgdGl0bGU6ICfmibnph4/pk77mjqUnLAogICAgICAgICAgICB0eXBlOiAnR01iYXRjaCcsCiAgICAgICAgICAgIGxpc3Q6IGJhdGNoTGlua0xpc3QsCiAgICAgICAgICAgIHRpcDogdGlwLAogICAgICAgICAgICBzaG93Y29weTogdHJ1ZSwKICAgICAgICAgICAgYWxsbGlzdDogYmF0Y2hMaW5rTGlzdEFsbCwKICAgICAgICAgICAgc2hvd2FsbDogdHJ1ZQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CgogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0RGlyZWN0QmF0Y2hMaW5rKGxpbmtUeXBlKSB7CiAgICAgIHZhciBsaXN0ID0gW107CiAgICAgICQuZWFjaChzZWxlY3RGaWxlTGlzdCwgZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7CiAgICAgICAgdmFyIGRvd25sb2FkVHlwZSwgZG93bmxvYWRMaW5rLCByZXN1bHQ7CiAgICAgICAgaWYgKGVsZW1lbnQuaXNkaXIgPT0gMCkKICAgICAgICAgIGRvd25sb2FkVHlwZSA9ICdkbGluayc7CiAgICAgICAgZWxzZQogICAgICAgICAgZG93bmxvYWRUeXBlID0gJ2JhdGNoJzsKICAgICAgICBmaWRfbGlzdCA9IGdldEZpZExpc3QoW2VsZW1lbnRdKTsKICAgICAgICByZXN1bHQgPSBnZXREb3dubG9hZExpbmtXaXRoUGFuQVBJKGRvd25sb2FkVHlwZSk7CiAgICAgICAgaWYgKHJlc3VsdC5lcnJubyA9PSAwKSB7CiAgICAgICAgICBpZiAoZG93bmxvYWRUeXBlID09ICdkbGluaycpCiAgICAgICAgICAgIGRvd25sb2FkTGluayA9IHJlc3VsdC5kbGlua1swXS5kbGluazsKICAgICAgICAgIGVsc2UgaWYgKGRvd25sb2FkVHlwZSA9PSAnYmF0Y2gnKQogICAgICAgICAgICBkb3dubG9hZExpbmsgPSByZXN1bHQuZGxpbms7CiAgICAgICAgICBkb3dubG9hZExpbmsgPSBkb3dubG9hZExpbmsucmVwbGFjZSgvXihbQS1aYS16XSspOi8sIGxpbmtUeXBlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZG93bmxvYWRMaW5rID0gJ2Vycm9yJzsKICAgICAgICB9CiAgICAgICAgbGlzdC5wdXNoKHtmaWxlbmFtZTogZWxlbWVudC5maWxlbmFtZSwgZG93bmxvYWRsaW5rOiBkb3dubG9hZExpbmt9KTsKICAgICAgfSk7CiAgICAgIHJldHVybiBsaXN0OwogICAgfQoKICAgIGZ1bmN0aW9uIGdldEFQSUJhdGNoTGluayhsaW5rVHlwZSkgewogICAgICB2YXIgbGlzdCA9IFtdOwogICAgICAkLmVhY2goc2VsZWN0RmlsZUxpc3QsIGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkgewogICAgICAgIGlmIChlbGVtZW50LmlzZGlyID09IDEpCiAgICAgICAgICByZXR1cm47CiAgICAgICAgdmFyIGRvd25sb2FkTGluazsKICAgICAgICBkb3dubG9hZExpbmsgPSBnZXREb3dubG9hZExpbmtXaXRoUkVTVEFQSUJhaWR1KGVsZW1lbnQucGF0aCk7CiAgICAgICAgZG93bmxvYWRMaW5rID0gZG93bmxvYWRMaW5rLnJlcGxhY2UoL14oW0EtWmEtel0rKTovLCBsaW5rVHlwZSk7CiAgICAgICAgbGlzdC5wdXNoKHtmaWxlbmFtZTogZWxlbWVudC5maWxlbmFtZSwgZG93bmxvYWRsaW5rOiBkb3dubG9hZExpbmt9KTsKICAgICAgfSk7CiAgICAgIHJldHVybiBsaXN0OwogICAgfQoKICAgIGZ1bmN0aW9uIGdldE91dGVybGlua0JhdGNoTGlua0FsbChjYikgewogICAgICAkLmVhY2goc2VsZWN0RmlsZUxpc3QsIGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkgewogICAgICAgIGlmIChlbGVtZW50LmlzZGlyID09IDEpCiAgICAgICAgICByZXR1cm47CiAgICAgICAgICBnZXREb3dubG9hZExpbmtXaXRoQ2xpZW50QVBJKGVsZW1lbnQucGF0aCwgZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgICB2YXIgbGlzdCA9IFtdOwogICAgICAgICAgICBpZiAocmVzdWx0LmVycm5vID09IDApIHsKICAgICAgICAgICAgICBsaXN0LnB1c2goe2ZpbGVuYW1lOiBlbGVtZW50LmZpbGVuYW1lLCBsaW5rczogcmVzdWx0LnVybHN9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBsaXN0LnB1c2goe2ZpbGVuYW1lOiBlbGVtZW50LmZpbGVuYW1lLCBsaW5rczogW3tyYW5rOiAxLCB1cmw6ICdlcnJvcid9XX0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNiKGxpc3QpCiAgICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0T3V0ZXJsaW5rQmF0Y2hMaW5rRmlyc3QobGlzdCkgewogICAgICB2YXIgcmVzdWx0ID0gW107CiAgICAgICQuZWFjaChsaXN0LCBmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHsKICAgICAgICByZXN1bHQucHVzaCh7ZmlsZW5hbWU6IGVsZW1lbnQuZmlsZW5hbWUsIGRvd25sb2FkbGluazogZWxlbWVudC5saW5rc1swXS51cmx9KTsKICAgICAgfSk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0U2lnbigpIHsKICAgICAgdmFyIHNpZ25GbmM7CiAgICAgIHRyeSB7CiAgICAgICAgc2lnbkZuYyA9IG5ldyBGdW5jdGlvbigicmV0dXJuICIgKyB5dW5EYXRhLnNpZ24yKSgpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGUubWVzc2FnZSk7CiAgICAgIH0KICAgICAgcmV0dXJuIGJhc2U2NEVuY29kZShzaWduRm5jKHl1bkRhdGEuc2lnbjUsIHl1bkRhdGEuc2lnbjEpKTsKICAgIH0KCiAgICAvL+iOt+WPluW9k+WJjeebruW9lQogICAgZnVuY3Rpb24gZ2V0UGF0aCgpIHsKICAgICAgdmFyIGhhc2ggPSBsb2NhdGlvbi5oYXNoOwogICAgICB2YXIgcmVneCA9IG5ldyBSZWdFeHAoInBhdGg9KFteJl0qKSgmfCQpIiwgJ2knKTsKICAgICAgdmFyIHJlc3VsdCA9IGhhc2gubWF0Y2gocmVneCk7CiAgICAgIC8vY29uc29sZS5sb2cocmVzdWx0KTsKICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChyZXN1bHRbMV0pOwogICAgfQoKICAgIC8v6I635Y+W5YiG57G75pi+56S655qE57G75Yir77yM5Y2z5Zyw5Z2A5qCP5Lit55qEdHlwZQogICAgZnVuY3Rpb24gZ2V0Q2F0ZWdvcnkoKSB7CiAgICAgIHZhciBoYXNoID0gbG9jYXRpb24uaGFzaDsKICAgICAgdmFyIHJlZ3ggPSBuZXcgUmVnRXhwKCJ0eXBlPShbXiZdKikoJnwkKSIsICdpJyk7CiAgICAgIHZhciByZXN1bHQgPSBoYXNoLm1hdGNoKHJlZ3gpOwogICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHJlc3VsdFsxXSk7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0U2VhcmNoS2V5KCkgewogICAgICB2YXIgaGFzaCA9IGxvY2F0aW9uLmhhc2g7CiAgICAgIHZhciByZWd4ID0gbmV3IFJlZ0V4cCgia2V5PShbXiZdKikoJnwkKSIsICdpJyk7CiAgICAgIHZhciByZXN1bHQgPSBoYXNoLm1hdGNoKHJlZ3gpOwogICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHJlc3VsdFsxXSk7CiAgICB9CgogICAgLy/ojrflj5blvZPliY3pobXpnaIoYWxs5oiW6ICFY2F0ZWdvcnnmiJZzZWFyY2gpCiAgICBmdW5jdGlvbiBnZXRDdXJyZW50UGFnZSgpIHsKICAgICAgdmFyIGhhc2ggPSBsb2NhdGlvbi5oYXNoOwogICAgICByZXR1cm4gaGFzaC5zdWJzdHJpbmcoaGFzaC5pbmRleE9mKCcjJykgKyAyLCBoYXNoLmluZGV4T2YoJz8nKSk7CiAgICB9CgogICAgLy/ojrflj5bmlofku7bliJfooagKICAgIGZ1bmN0aW9uIGdldEZpbGVMaXN0KCkgewogICAgICB2YXIgZmlsZWxpc3QgPSBbXTsKICAgICAgdmFyIGxpc3RVcmwgPSBwYW5BUElVcmwgKyAibGlzdCI7CiAgICAgIHZhciBwYXRoID0gZ2V0UGF0aCgpOwogICAgICBsb2dpZCA9IGdldExvZ0lEKCk7CiAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgZGlyOiBwYXRoLAogICAgICAgIGJkc3Rva2VuOiBiZHN0b2tlbiwKICAgICAgICBsb2dpZDogbG9naWQsCiAgICAgICAgb3JkZXI6ICdzaXplJywKICAgICAgICBkZXNjOiAwLAogICAgICAgIGNsaWVudHR5cGU6IDAsCiAgICAgICAgc2hvd2VtcHR5OiAwLAogICAgICAgIHdlYjogMSwKICAgICAgICBjaGFubmVsOiAnY2h1bmxlaScsCiAgICAgICAgYXBwaWQ6IDI2NTQ4NgogICAgICB9OwoKICAgICAgJC5hamF4KHsKICAgICAgICB1cmw6IGxpc3RVcmwsCiAgICAgICAgYXN5bmM6IGZhbHNlLAogICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgZGF0YTogcGFyYW1zLAogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgZmlsZWxpc3QgPSAwID09PSByZXNwb25zZS5lcnJubyA/IHJlc3BvbnNlLmxpc3QgOiBbXTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gZmlsZWxpc3Q7CiAgICB9CgogICAgLy/ojrflj5bliIbnsbvpobXpnaLkuIvnmoTmlofku7bliJfooagKICAgIGZ1bmN0aW9uIGdldENhdGVnb3J5RmlsZUxpc3QoKSB7CiAgICAgIHZhciBmaWxlbGlzdCA9IFtdOwogICAgICB2YXIgbGlzdFVybCA9IHBhbkFQSVVybCArICJjYXRlZ29yeWxpc3QiOwogICAgICB2YXIgY2F0ZWdvcnkgPSBnZXRDYXRlZ29yeSgpOwogICAgICBsb2dpZCA9IGdldExvZ0lEKCk7CiAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5LAogICAgICAgIGJkc3Rva2VuOiBiZHN0b2tlbiwKICAgICAgICBsb2dpZDogbG9naWQsCiAgICAgICAgb3JkZXI6ICdzaXplJywKICAgICAgICBkZXNjOiAwLAogICAgICAgIGNsaWVudHR5cGU6IDAsCiAgICAgICAgc2hvd2VtcHR5OiAwLAogICAgICAgIHdlYjogMSwKICAgICAgICBjaGFubmVsOiAnY2h1bmxlaScsCiAgICAgICAgYXBwaWQ6IDI2NTQ4NgogICAgICB9OwogICAgICAkLmFqYXgoewogICAgICAgIHVybDogbGlzdFVybCwKICAgICAgICBhc3luYzogZmFsc2UsCiAgICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgICBkYXRhOiBwYXJhbXMsCiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBmaWxlbGlzdCA9IDAgPT09IHJlc3BvbnNlLmVycm5vID8gcmVzcG9uc2UuaW5mbyA6IFtdOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiBmaWxlbGlzdDsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRTZWFyY2hGaWxlTGlzdCgpIHsKICAgICAgdmFyIGZpbGVsaXN0ID0gW107CiAgICAgIHZhciBsaXN0VXJsID0gcGFuQVBJVXJsICsgJ3NlYXJjaCc7CiAgICAgIGxvZ2lkID0gZ2V0TG9nSUQoKTsKICAgICAgc2VhcmNoS2V5ID0gZ2V0U2VhcmNoS2V5KCk7CiAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgcmVjdXJzaW9uOiAxLAogICAgICAgIG9yZGVyOiAndGltZScsCiAgICAgICAgZGVzYzogMSwKICAgICAgICBzaG93ZW1wdHk6IDAsCiAgICAgICAgd2ViOiAxLAogICAgICAgIHBhZ2U6IDEsCiAgICAgICAgbnVtOiAxMDAsCiAgICAgICAga2V5OiBzZWFyY2hLZXksCiAgICAgICAgY2hhbm5lbDogJ2NodW5sZWknLAogICAgICAgIGFwcF9pZDogMjUwMjU4LAogICAgICAgIGJkc3Rva2VuOiBiZHN0b2tlbiwKICAgICAgICBsb2dpZDogbG9naWQsCiAgICAgICAgY2xpZW50dHlwZTogMAogICAgICB9OwogICAgICAkLmFqYXgoewogICAgICAgIHVybDogbGlzdFVybCwKICAgICAgICBhc3luYzogZmFsc2UsCiAgICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgICBkYXRhOiBwYXJhbXMsCiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBmaWxlbGlzdCA9IDAgPT09IHJlc3BvbnNlLmVycm5vID8gcmVzcG9uc2UubGlzdCA6IFtdOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiBmaWxlbGlzdDsKICAgIH0KCiAgICAvL+eUn+aIkOS4i+i9veaXtueahGZpZF9saXN05Y+C5pWwCiAgICBmdW5jdGlvbiBnZXRGaWRMaXN0KGxpc3QpIHsKICAgICAgdmFyIGZpZGxpc3QgPSBudWxsOwogICAgICBpZiAobGlzdC5sZW5ndGggPT09IDApCiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIHZhciBmaWxlaWRsaXN0ID0gW107CiAgICAgICQuZWFjaChsaXN0LCBmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHsKICAgICAgICBmaWxlaWRsaXN0LnB1c2goZWxlbWVudC5mc19pZCk7CiAgICAgIH0pOwogICAgICBmaWRsaXN0ID0gJ1snICsgZmlsZWlkbGlzdCArICddJzsKICAgICAgcmV0dXJuIGZpZGxpc3Q7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0VGltZXN0YW1wKCkgewogICAgICByZXR1cm4geXVuRGF0YS50aW1lc3RhbXA7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0QkRTdG9rZW4oKSB7CiAgICAgIHJldHVybiB5dW5EYXRhLk1ZQkRTVE9LRU47CiAgICB9CgogICAgLy/ojrflj5bnm7TmjqXkuIvovb3lnLDlnYAKICAgIC8v6L+Z5Liq5Zyw5Z2A5LiN5piv55u05o6l5LiL6L295Zyw5Z2A77yM6K6/6Zeu6L+Z5Liq5Zyw5Z2A5Lya6L+U5ZueMzAy77yMcmVzcG9uc2UgaGVhZGVy5Lit55qEbG9jYXRpb27miY3mmK/nnJ/lrp7kuIvovb3lnLDlnYAKICAgIC8v5pqC5pe25rKh5pyJ5om+5Yiw5o+Q5Y+W5pa55rOVCiAgICBmdW5jdGlvbiBnZXREb3dubG9hZExpbmtXaXRoUGFuQVBJKHR5cGUpIHsKICAgICAgdmFyIGRvd25sb2FkVXJsID0gcGFuQVBJVXJsICsgImRvd25sb2FkIjsKICAgICAgdmFyIHJlc3VsdDsKICAgICAgbG9naWQgPSBnZXRMb2dJRCgpOwogICAgICB2YXIgcGFyYW1zID0gewogICAgICAgIHNpZ246IHNpZ24sCiAgICAgICAgdGltZXN0YW1wOiB0aW1lc3RhbXAsCiAgICAgICAgZmlkbGlzdDogZmlkX2xpc3QsCiAgICAgICAgdHlwZTogdHlwZSwKICAgICAgICBjaGFubmVsOiAnY2h1bmxlaScsCiAgICAgICAgd2ViOiAxLAogICAgICAgIGFwcF9pZDogMjY1NDg2LAogICAgICAgIGJkc3Rva2VuOiBiZHN0b2tlbiwKICAgICAgICBsb2dpZDogbG9naWQsCiAgICAgICAgY2xpZW50dHlwZTogMAogICAgICB9OwogICAgICAkLmFqYXgoewogICAgICAgIHVybDogZG93bmxvYWRVcmwsCiAgICAgICAgYXN5bmM6IGZhbHNlLAogICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgZGF0YTogcGFyYW1zLAogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgcmVzdWx0ID0gcmVzcG9uc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXREb3dubG9hZExpbmtXaXRoUkVTVEFQSUJhaWR1KHBhdGgpIHsKICAgICAgdmFyIGxpbmsgPSByZXN0QVBJVXJsICsgJ2ZpbGU/bWV0aG9kPWRvd25sb2FkJmFwcF9pZD0yNjU0ODYmcGF0aD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHBhdGgpOwogICAgICByZXR1cm4gbGluazsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXREb3dubG9hZExpbmtXaXRoQ2xpZW50QVBJKHBhdGgsIGNiKSB7CiAgICAgIHZhciByZXN1bHQ7CiAgICAgIHZhciB1cmwgPSBjbGllbnRBUElVcmwgKyAnZmlsZT9tZXRob2Q9bG9jYXRlZG93bmxvYWQmYXBwX2lkPTI2NTQ4NiZ2ZXI9NC4wJnBhdGg9JyArIGVuY29kZVVSSUNvbXBvbmVudChwYXRoKTsKCiAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICBtZXRob2Q6ICJQT1NUIiwKICAgICAgICB1cmw6IHVybCwKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAiVXNlci1BZ2VudCI6ICJuZXRkaXNrOzYuNy4xLjk7UEM7UEMtV2luZG93czsxMC4wLjE3NzYzO1dpbmRvd3NCYWlkdVl1bkd1YW5KaWEiLAogICAgICAgIH0sCiAgICAgICAgb25sb2FkOiBmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgIHJlc3VsdCA9IEpTT04ucGFyc2UocmVzLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgIGlmIChyZXN1bHQuZXJyb3JfY29kZSA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICBpZiAocmVzdWx0LnVybHMgPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICByZXN1bHQuZXJybm8gPSAyOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkLmVhY2gocmVzdWx0LnVybHMsIGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkgewogICAgICAgICAgICAgICAgICByZXN1bHQudXJsc1tpbmRleF0udXJsID0gZWxlbWVudC51cmwucmVwbGFjZSgnXFwnLCAnJyk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJlc3VsdC5lcnJubyA9IDA7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5lcnJvcl9jb2RlID09IDMxMDY2KSB7CiAgICAgICAgICAgICAgcmVzdWx0LmVycm5vID0gMTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICByZXN1bHQuZXJybm8gPSAtMTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVzdWx0ID0ge307CiAgICAgICAgICAgIHJlc3VsdC5lcnJubyA9IC0xOwogICAgICAgICAgfQogICAgICAgICAgY2IocmVzdWx0KQogICAgICAgIH0KICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gZXhlY0Rvd25sb2FkKGxpbmspIHsKICAgICAgc2xvZygi5LiL6L296ZO+5o6l77yaIiArIGxpbmspOwogICAgICAkKCcjaGVscGVyZG93bmxvYWRpZnJhbWUnKS5hdHRyKCdzcmMnLCBsaW5rKTsKICAgIH0KCiAgICBmdW5jdGlvbiBjcmVhdGVJZnJhbWUoKSB7CiAgICAgIHZhciAkZGl2ID0gJCgnPGRpdiBjbGFzcz0iaGVscGVyLWhpZGUiIHN0eWxlPSJwYWRkaW5nOjA7bWFyZ2luOjA7ZGlzcGxheTpibG9jayI+PC9kaXY+Jyk7CiAgICAgIHZhciAkaWZyYW1lID0gJCgnPGlmcmFtZSBzcmM9ImphdmFzY3JpcHQ6dm9pZCgwKSIgaWQ9ImhlbHBlcmRvd25sb2FkaWZyYW1lIiBzdHlsZT0iZGlzcGxheTpub25lIj48L2lmcmFtZT4nKTsKICAgICAgJGRpdi5hcHBlbmQoJGlmcmFtZSk7CiAgICAgICQoJ2JvZHknKS5hcHBlbmQoJGRpdik7CgogICAgfQogIH0KCiAgLy/liIbkuqvpobXpnaLnmoTkuIvovb3liqnmiYsKICBmdW5jdGlvbiBQYW5TaGFyZUhlbHBlcigpIHsKICAgIHZhciB5dW5EYXRhLCBzaWduLCB0aW1lc3RhbXAsIGJkc3Rva2VuLCBjaGFubmVsLCBjbGllbnR0eXBlLCB3ZWIsIGFwcF9pZCwgbG9naWQsIGVuY3J5cHQsIHByb2R1Y3QsIHVrLAogICAgICBwcmltYXJ5aWQsIGZpZF9saXN0LCBleHRyYSwgc2hhcmVpZDsKICAgIHZhciB2Y29kZTsKICAgIHZhciBzaGFyZVR5cGUsIGJ1dHRvblRhcmdldCwgY3VycmVudFBhdGgsIGxpc3RfZ3JpZF9zdGF0dXMsIG9ic2VydmVyLCBkaWFsb2csIHZjb2RlRGlhbG9nOwogICAgdmFyIGZpbGVMaXN0ID0gW10sIHNlbGVjdEZpbGVMaXN0ID0gW107CiAgICB2YXIgcGFuQVBJVXJsID0gbG9jYXRpb24ucHJvdG9jb2wgKyAiLy8iICsgbG9jYXRpb24uaG9zdCArICIvYXBpLyI7CiAgICB2YXIgc2hhcmVMaXN0VXJsID0gbG9jYXRpb24ucHJvdG9jb2wgKyAiLy8iICsgbG9jYXRpb24uaG9zdCArICIvc2hhcmUvbGlzdCI7CgogICAgdGhpcy5pbml0ID0gZnVuY3Rpb24gKCkgewogICAgICB5dW5EYXRhID0gdW5zYWZlV2luZG93Lnl1bkRhdGE7CiAgICAgIHNsb2coJ3l1bkRhdGE6JywgeXVuRGF0YSk7CiAgICAgIGlmICh5dW5EYXRhID09PSB1bmRlZmluZWQgfHwgeXVuRGF0YS5GSUxFSU5GTyA9PSBudWxsKSB7CiAgICAgICAgc2xvZygn6aG16Z2i5pyq5q2j5bi45Yqg6L2977yM5oiW6ICF55m+5bqm5bey57uP5pu05paw77yBJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGluaXRQYXJhbXMoKTsKICAgICAgYWRkQnV0dG9uKCk7CiAgICAgIGRpYWxvZyA9IG5ldyBEaWFsb2coe2FkZENvcHk6IGZhbHNlfSk7CiAgICAgIHZjb2RlRGlhbG9nID0gbmV3IFZDb2RlRGlhbG9nKHJlZnJlc2hWQ29kZSwgY29uZmlybUNsaWNrKTsKICAgICAgY3JlYXRlSWZyYW1lKCk7CgogICAgICBpZiAoIWlzU2luZ2xlU2hhcmUoKSkgewogICAgICAgIHJlZ2lzdGVyRXZlbnRMaXN0ZW5lcigpOwogICAgICAgIGNyZWF0ZU9ic2VydmVyKCk7CiAgICAgIH0KCiAgICAgIHNsb2coJ+WIhuS6q+WKqeaJi+WKoOi9veaIkOWKnyEnKTsKICAgIH07CgogICAgZnVuY3Rpb24gaW5pdFBhcmFtcygpIHsKICAgICAgc2hhcmVUeXBlID0gZ2V0U2hhcmVUeXBlKCk7CiAgICAgIHNpZ24gPSB5dW5EYXRhLlNJR047CiAgICAgIHRpbWVzdGFtcCA9IHl1bkRhdGEuVElNRVNUQU1QOwogICAgICBiZHN0b2tlbiA9IHl1bkRhdGEuTVlCRFNUT0tFTjsKICAgICAgY2hhbm5lbCA9ICdjaHVubGVpJzsKICAgICAgY2xpZW50dHlwZSA9IDA7CiAgICAgIHdlYiA9IDE7CiAgICAgIGFwcF9pZCA9IDI2NTQ4NjsKICAgICAgbG9naWQgPSBnZXRMb2dJRCgpOwogICAgICBlbmNyeXB0ID0gMDsKICAgICAgcHJvZHVjdCA9ICdzaGFyZSc7CiAgICAgIHByaW1hcnlpZCA9IHl1bkRhdGEuU0hBUkVfSUQ7CiAgICAgIHVrID0geXVuRGF0YS5TSEFSRV9VSzsKCiAgICAgIGlmIChzaGFyZVR5cGUgPT0gJ3NlY3JldCcpIHsKICAgICAgICBleHRyYSA9IGdldEV4dHJhKCk7CiAgICAgIH0KICAgICAgaWYgKGlzU2luZ2xlU2hhcmUoKSkgewogICAgICAgIHZhciBvYmogPSB7fTsKICAgICAgICBpZiAoeXVuRGF0YS5DQVRFR09SWSA9PSAyKSB7CiAgICAgICAgICBvYmouZmlsZW5hbWUgPSB5dW5EYXRhLkZJTEVOQU1FOwogICAgICAgICAgb2JqLnBhdGggPSB5dW5EYXRhLlBBVEg7CiAgICAgICAgICBvYmouZnNfaWQgPSB5dW5EYXRhLkZTX0lEOwogICAgICAgICAgb2JqLmlzZGlyID0gMDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgb2JqLmZpbGVuYW1lID0geXVuRGF0YS5GSUxFSU5GT1swXS5zZXJ2ZXJfZmlsZW5hbWUsCiAgICAgICAgICAgIG9iai5wYXRoID0geXVuRGF0YS5GSUxFSU5GT1swXS5wYXRoLAogICAgICAgICAgICBvYmouZnNfaWQgPSB5dW5EYXRhLkZJTEVJTkZPWzBdLmZzX2lkLAogICAgICAgICAgICBvYmouaXNkaXIgPSB5dW5EYXRhLkZJTEVJTkZPWzBdLmlzZGlyCiAgICAgICAgfQogICAgICAgIHNlbGVjdEZpbGVMaXN0LnB1c2gob2JqKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzaGFyZWlkID0geXVuRGF0YS5TSEFSRV9JRDsKICAgICAgICBjdXJyZW50UGF0aCA9IGdldFBhdGgoKTsKICAgICAgICBsaXN0X2dyaWRfc3RhdHVzID0gZ2V0TGlzdEdyaWRTdGF0dXMoKTsKICAgICAgICBmaWxlTGlzdCA9IGdldEZpbGVMaXN0KCk7CiAgICAgIH0KICAgIH0KCiAgICAvL+WIpOaWreWIhuS6q+exu+Wei++8iHB1YmxpY+aIluiAhXNlY3JldO+8iQogICAgZnVuY3Rpb24gZ2V0U2hhcmVUeXBlKCkgewogICAgICByZXR1cm4geXVuRGF0YS5TSEFSRV9QVUJMSUMgPT09IDEgPyAncHVibGljJyA6ICdzZWNyZXQnOwogICAgfQoKICAgIC8v5Yik5pat5piv5Y2V5Liq5paH5Lu25YiG5Lqr6L+Y5piv5paH5Lu25aS55oiW6ICF5aSa5paH5Lu25YiG5LqrCiAgICBmdW5jdGlvbiBpc1NpbmdsZVNoYXJlKCkgewogICAgICByZXR1cm4geXVuRGF0YS5nZXRDb250ZXh0ID09PSB1bmRlZmluZWQgPyB0cnVlIDogZmFsc2U7CiAgICB9CgogICAgLy/liKTmlq3mmK/lkKbkuLroh6rlt7HnmoTliIbkuqvpk77mjqUKICAgIGZ1bmN0aW9uIGlzU2VsZlNoYXJlKCkgewogICAgICByZXR1cm4geXVuRGF0YS5NWVNFTEYgPT0gMSA/IHRydWUgOiBmYWxzZTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRFeHRyYSgpIHsKICAgICAgdmFyIHNlS2V5ID0gZGVjb2RlVVJJQ29tcG9uZW50KGdldENvb2tpZSgnQkRDTE5EJykpOwogICAgICByZXR1cm4gJ3snICsgJyJzZWtleSI6IicgKyBzZUtleSArICciJyArICJ9IjsKICAgIH0KCiAgICAvL+iOt+WPluW9k+WJjeebruW9lQogICAgZnVuY3Rpb24gZ2V0UGF0aCgpIHsKICAgICAgdmFyIGhhc2ggPSBsb2NhdGlvbi5oYXNoOwogICAgICB2YXIgcmVneCA9IG5ldyBSZWdFeHAoInBhdGg9KFteJl0qKSgmfCQpIiwgJ2knKTsKICAgICAgdmFyIHJlc3VsdCA9IGhhc2gubWF0Y2gocmVneCk7CiAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocmVzdWx0WzFdKTsKICAgIH0KCiAgICAvL+iOt+WPluW9k+WJjeeahOinhuWbvuaooeW8jwogICAgZnVuY3Rpb24gZ2V0TGlzdEdyaWRTdGF0dXMoKSB7CiAgICAgIHZhciBzdGF0dXMgPSAnbGlzdCc7CiAgICAgIGlmICgkKCcubGlzdC1zd2l0Y2hlZC1vbicpLmxlbmd0aCA+IDApIHsKICAgICAgICBzdGF0dXMgPSAnbGlzdCc7CiAgICAgIH0gZWxzZSBpZiAoJCgnLmdyaWQtc3dpdGNoZWQtb24nKS5sZW5ndGggPiAwKSB7CiAgICAgICAgc3RhdHVzID0gJ2dyaWQnOwogICAgICB9CiAgICAgIHJldHVybiBzdGF0dXM7CiAgICB9CgogICAgLy/mt7vliqDkuIvovb3liqnmiYvmjInpkq4KICAgIGZ1bmN0aW9uIGFkZEJ1dHRvbigpIHsKICAgICAgaWYgKGlzU2luZ2xlU2hhcmUoKSkgewogICAgICAgICQoJ2Rpdi5zbGlkZS1zaG93LXJpZ2h0JykuY3NzKCd3aWR0aCcsICc1MDBweCcpOwogICAgICAgICQoJ2Rpdi5mcmFtZS1tYWluJykuY3NzKCd3aWR0aCcsICc5NiUnKTsKICAgICAgICAkKCdkaXYuc2hhcmUtZmlsZS12aWV3ZXInKS5jc3MoJ3dpZHRoJywgJzc0MHB4JykuY3NzKCdtYXJnaW4tbGVmdCcsICdhdXRvJykuY3NzKCdtYXJnaW4tcmlnaHQnLCAnYXV0bycpOwogICAgICB9IGVsc2UKICAgICAgICAkKCdkaXYuc2xpZGUtc2hvdy1yaWdodCcpLmNzcygnd2lkdGgnLCAnNTAwcHgnKTsKICAgICAgdmFyICRkcm9wZG93bmJ1dHRvbiA9ICQoJzxzcGFuIGNsYXNzPSJnLWRyb3Bkb3duLWJ1dHRvbiI+PC9zcGFuPicpOwogICAgICB2YXIgJGRyb3Bkb3duYnV0dG9uX2EgPSAkKCc8YSBjbGFzcz0iZy1idXR0b24gZy1idXR0b24tYmx1ZSIgZGF0YS1idXR0b24taWQ9ImIyMDAiIGRhdGEtYnV0dG9uLWluZGV4PSIyMDAiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPjwvYT4nKTsKICAgICAgdmFyICRkcm9wZG93bmJ1dHRvbl9hX3NwYW4gPSAkKCc8c3BhbiBjbGFzcz0iZy1idXR0b24tcmlnaHQiPjxlbSBjbGFzcz0iaWNvbiBpY29uLWRvd25sb2FkIiB0aXRsZT0i55m+5bqm572R55uY5LiL6L295Yqp5omLIj48L2VtPjxzcGFuIGNsYXNzPSJ0ZXh0IiBzdHlsZT0id2lkdGg6IDYwcHg7Ij7kuIvovb3liqnmiYs8L3NwYW4+PC9zcGFuPicpOwogICAgICB2YXIgJGRyb3Bkb3duYnV0dG9uX3NwYW4gPSAkKCc8c3BhbiBjbGFzcz0ibWVudSIgc3R5bGU9IndpZHRoOmF1dG87ei1pbmRleDo0MSI+PC9zcGFuPicpOwoKICAgICAgdmFyICRkb3dubG9hZEJ1dHRvbiA9ICQoJzxhIGRhdGEtbWVudS1pZD0iYi1tZW51MjA3IiBjbGFzcz0iZy1idXR0b24tbWVudSIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+55u05o6l5LiL6L29PC9hPicpOwogICAgICB2YXIgJGxpbmtCdXR0b24gPSAkKCc8YSBkYXRhLW1lbnUtaWQ9ImItbWVudTIwOCIgY2xhc3M9ImctYnV0dG9uLW1lbnUiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPuaYvuekuumTvuaOpTwvYT4nKTsKCiAgICAgIHZhciAkZ2l0aHViID0gJCgnPGlmcmFtZSBzcmM9Imh0dHBzOi8vZ2hidG5zLmNvbS9naXRodWItYnRuLmh0bWw/dXNlcj1zeWh5ejE5OTAmcmVwbz1iYWlkdXl1biZ0eXBlPXN0YXImY291bnQ9dHJ1ZSIgZnJhbWVib3JkZXI9IjAiIHNjcm9sbGluZz0iMCIgc3R5bGU9ImhlaWdodDogMjBweDttYXgtd2lkdGg6IDEwOHB4O3BhZGRpbmc6IDAgNXB4O2JveC1zaXppbmc6IGJvcmRlci1ib3g7bWFyZ2luLXRvcDogNXB4OyI+PC9pZnJhbWU+Jyk7CgogICAgICAkZHJvcGRvd25idXR0b25fc3Bhbi5hcHBlbmQoJGRvd25sb2FkQnV0dG9uKS5hcHBlbmQoJGxpbmtCdXR0b24pLmFwcGVuZCgkZ2l0aHViKTsKICAgICAgJGRyb3Bkb3duYnV0dG9uX2EuYXBwZW5kKCRkcm9wZG93bmJ1dHRvbl9hX3NwYW4pOwogICAgICAkZHJvcGRvd25idXR0b24uYXBwZW5kKCRkcm9wZG93bmJ1dHRvbl9hKS5hcHBlbmQoJGRyb3Bkb3duYnV0dG9uX3NwYW4pOwoKICAgICAgJGRyb3Bkb3duYnV0dG9uLmhvdmVyKGZ1bmN0aW9uICgpIHsKICAgICAgICAkZHJvcGRvd25idXR0b24udG9nZ2xlQ2xhc3MoJ2J1dHRvbi1vcGVuJyk7CiAgICAgIH0pOwoKICAgICAgJGRvd25sb2FkQnV0dG9uLmNsaWNrKGRvd25sb2FkQnV0dG9uQ2xpY2spOwogICAgICAkbGlua0J1dHRvbi5jbGljayhsaW5rQnV0dG9uQ2xpY2spOwoKICAgICAgJCgnZGl2Lm1vZHVsZS1zaGFyZS10b3AtYmFyIGRpdi5iYXIgZGl2LngtYnV0dG9uLWJveCcpLmFwcGVuZCgkZHJvcGRvd25idXR0b24pOwogICAgfQoKICAgIGZ1bmN0aW9uIGNyZWF0ZUlmcmFtZSgpIHsKICAgICAgdmFyICRkaXYgPSAkKCc8ZGl2IGNsYXNzPSJoZWxwZXItaGlkZSIgc3R5bGU9InBhZGRpbmc6MDttYXJnaW46MDtkaXNwbGF5OmJsb2NrIj48L2Rpdj4nKTsKICAgICAgdmFyICRpZnJhbWUgPSAkKCc8aWZyYW1lIHNyYz0iamF2YXNjcmlwdDp2b2lkKDApIiBpZD0iaGVscGVyZG93bmxvYWRpZnJhbWUiIHN0eWxlPSJkaXNwbGF5Om5vbmUiPjwvaWZyYW1lPicpOwogICAgICAkZGl2LmFwcGVuZCgkaWZyYW1lKTsKICAgICAgJCgnYm9keScpLmFwcGVuZCgkZGl2KTsKICAgIH0KCiAgICBmdW5jdGlvbiByZWdpc3RlckV2ZW50TGlzdGVuZXIoKSB7CiAgICAgIHJlZ2lzdGVySGFzaENoYW5nZSgpOwogICAgICByZWdpc3Rlckxpc3RHcmlkU3RhdHVzKCk7CiAgICAgIHJlZ2lzdGVyQ2hlY2tib3goKTsKICAgICAgcmVnaXN0ZXJBbGxDaGVja2JveCgpOwogICAgICByZWdpc3RlckZpbGVTZWxlY3QoKTsKICAgIH0KCiAgICAvL+ebkeinhuWcsOWdgOagjyPmoIfnrb7lj5jljJYKICAgIGZ1bmN0aW9uIHJlZ2lzdGVySGFzaENoYW5nZSgpIHsKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCBmdW5jdGlvbiAoZSkgewogICAgICAgIGxpc3RfZ3JpZF9zdGF0dXMgPSBnZXRMaXN0R3JpZFN0YXR1cygpOwogICAgICAgIGlmIChjdXJyZW50UGF0aCA9PSBnZXRQYXRoKCkpIHsKCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGN1cnJlbnRQYXRoID0gZ2V0UGF0aCgpOwogICAgICAgICAgcmVmcmVzaEZpbGVMaXN0KCk7CiAgICAgICAgICByZWZyZXNoU2VsZWN0RmlsZUxpc3QoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICAgIGZ1bmN0aW9uIHJlZnJlc2hGaWxlTGlzdCgpIHsKICAgICAgZmlsZUxpc3QgPSBnZXRGaWxlTGlzdCgpOwogICAgfQoKICAgIGZ1bmN0aW9uIHJlZnJlc2hTZWxlY3RGaWxlTGlzdCgpIHsKICAgICAgc2VsZWN0RmlsZUxpc3QgPSBbXTsKICAgIH0KCiAgICAvL+ebkeinhuinhuWbvuWPmOWMlgogICAgZnVuY3Rpb24gcmVnaXN0ZXJMaXN0R3JpZFN0YXR1cygpIHsKICAgICAgdmFyICRhX2xpc3QgPSAkKCdhW2RhdGEtdHlwZT1saXN0XScpOwogICAgICAkYV9saXN0LmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBsaXN0X2dyaWRfc3RhdHVzID0gJ2xpc3QnOwogICAgICB9KTsKCiAgICAgIHZhciAkYV9ncmlkID0gJCgnYVtkYXRhLXR5cGU9Z3JpZF0nKTsKICAgICAgJGFfZ3JpZC5jbGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgbGlzdF9ncmlkX3N0YXR1cyA9ICdncmlkJzsKICAgICAgfSk7CiAgICB9CgogICAgLy/nm5Hop4bmlofku7bpgInmi6nmoYYKICAgIGZ1bmN0aW9uIHJlZ2lzdGVyQ2hlY2tib3goKSB7CiAgICAgIHZhciAkY2hlY2tib3ggPSAkKCdzcGFuLicgKyBjbGFzc01hcFsnY2hlY2tib3gnXSk7CiAgICAgIGlmIChsaXN0X2dyaWRfc3RhdHVzID09ICdncmlkJykgewogICAgICAgICRjaGVja2JveCA9ICQoJy4nICsgY2xhc3NNYXBbJ2NoZWtib3gtZ3JpZCddKTsKICAgICAgfQogICAgICAkY2hlY2tib3guZWFjaChmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHsKICAgICAgICAkKGVsZW1lbnQpLmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHZhciAkcGFyZW50ID0gJCh0aGlzKS5wYXJlbnQoKTsKICAgICAgICAgIHZhciBmaWxlbmFtZTsKICAgICAgICAgIHZhciBpc0FjdGl2ZTsKCiAgICAgICAgICBpZiAobGlzdF9ncmlkX3N0YXR1cyA9PSAnbGlzdCcpIHsKICAgICAgICAgICAgZmlsZW5hbWUgPSAkKCdkaXYuZmlsZS1uYW1lIGRpdi50ZXh0IGEnLCAkcGFyZW50KS5hdHRyKCd0aXRsZScpOwogICAgICAgICAgICBpc0FjdGl2ZSA9ICQodGhpcykucGFyZW50cygnZGQnKS5oYXNDbGFzcygnSlMtaXRlbS1hY3RpdmUnKQogICAgICAgICAgfSBlbHNlIGlmIChsaXN0X2dyaWRfc3RhdHVzID09ICdncmlkJykgewogICAgICAgICAgICBmaWxlbmFtZSA9ICQoJ2Rpdi5maWxlLW5hbWUgYScsICQodGhpcykpLmF0dHIoJ3RpdGxlJyk7CiAgICAgICAgICAgIGlzQWN0aXZlID0gISQodGhpcykuaGFzQ2xhc3MoJ0pTLWl0ZW0tYWN0aXZlJykKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoaXNBY3RpdmUpIHsKICAgICAgICAgICAgc2xvZygn5Y+W5raI6YCJ5Lit5paH5Lu277yaJyArIGZpbGVuYW1lKTsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxlY3RGaWxlTGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgIGlmIChzZWxlY3RGaWxlTGlzdFtpXS5maWxlbmFtZSA9PSBmaWxlbmFtZSkgewogICAgICAgICAgICAgICAgc2VsZWN0RmlsZUxpc3Quc3BsaWNlKGksIDEpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc2xvZygn6YCJ5Lit5paH5Lu2OiAnICsgZmlsZW5hbWUpOwogICAgICAgICAgICAkLmVhY2goZmlsZUxpc3QsIGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkgewogICAgICAgICAgICAgIGlmIChlbGVtZW50LnNlcnZlcl9maWxlbmFtZSA9PSBmaWxlbmFtZSkgewogICAgICAgICAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6IGVsZW1lbnQuc2VydmVyX2ZpbGVuYW1lLAogICAgICAgICAgICAgICAgICBwYXRoOiBlbGVtZW50LnBhdGgsCiAgICAgICAgICAgICAgICAgIGZzX2lkOiBlbGVtZW50LmZzX2lkLAogICAgICAgICAgICAgICAgICBpc2RpcjogZWxlbWVudC5pc2RpcgogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0LnB1c2gob2JqKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KCiAgICBmdW5jdGlvbiB1bnJlZ2lzdGVyQ2hlY2tib3goKSB7CiAgICAgIHZhciAkY2hlY2tib3ggPSAkKCdzcGFuLicgKyBjbGFzc01hcFsnY2hlY2tib3gnXSk7CiAgICAgICRjaGVja2JveC5lYWNoKGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkgewogICAgICAgICQoZWxlbWVudCkudW5iaW5kKCdjbGljaycpOwogICAgICB9KTsKICAgIH0KCiAgICAvL+ebkeinhuWFqOmAieahhgogICAgZnVuY3Rpb24gcmVnaXN0ZXJBbGxDaGVja2JveCgpIHsKICAgICAgdmFyICRjaGVja2JveCA9ICQoJ2Rpdi4nICsgY2xhc3NNYXBbJ2NvbC1pdGVtJ10gKyAnLicgKyBjbGFzc01hcFsnY2hlY2snXSk7CiAgICAgICRjaGVja2JveC5lYWNoKGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkgewogICAgICAgICQoZWxlbWVudCkuYmluZCgnY2xpY2snLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgdmFyICRwYXJlbnQgPSAkKHRoaXMpLnBhcmVudCgpOwogICAgICAgICAgaWYgKCRwYXJlbnQuaGFzQ2xhc3MoY2xhc3NNYXBbJ2NoZWNrZWQnXSkpIHsKICAgICAgICAgICAgc2xvZygn5Y+W5raI5YWo6YCJJyk7CiAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0ID0gW107CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzbG9nKCflhajpg6jpgInkuK0nKTsKICAgICAgICAgICAgc2VsZWN0RmlsZUxpc3QgPSBbXTsKICAgICAgICAgICAgJC5lYWNoKGZpbGVMaXN0LCBmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHsKICAgICAgICAgICAgICB2YXIgb2JqID0gewogICAgICAgICAgICAgICAgZmlsZW5hbWU6IGVsZW1lbnQuc2VydmVyX2ZpbGVuYW1lLAogICAgICAgICAgICAgICAgcGF0aDogZWxlbWVudC5wYXRoLAogICAgICAgICAgICAgICAgZnNfaWQ6IGVsZW1lbnQuZnNfaWQsCiAgICAgICAgICAgICAgICBpc2RpcjogZWxlbWVudC5pc2RpcgogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgc2VsZWN0RmlsZUxpc3QucHVzaChvYmopOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gdW5yZWdpc3RlckFsbENoZWNrYm94KCkgewogICAgICB2YXIgJGNoZWNrYm94ID0gJCgnZGl2LicgKyBjbGFzc01hcFsnY29sLWl0ZW0nXSArICcuJyArIGNsYXNzTWFwWydjaGVjayddKTsKICAgICAgJGNoZWNrYm94LmVhY2goZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7CiAgICAgICAgJChlbGVtZW50KS51bmJpbmQoJ2NsaWNrJyk7CiAgICAgIH0pOwogICAgfQoKICAgIC8v55uR6KeG5Y2V5Liq5paH5Lu26YCJ5LitCiAgICBmdW5jdGlvbiByZWdpc3RlckZpbGVTZWxlY3QoKSB7CiAgICAgIHZhciAkZGQgPSAkKCdkaXYuJyArIGNsYXNzTWFwWydsaXN0LXZpZXcnXSArICcgZGQnKTsKICAgICAgJGRkLmVhY2goZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7CiAgICAgICAgJChlbGVtZW50KS5iaW5kKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB2YXIgbm9kZU5hbWUgPSBlLnRhcmdldC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgaWYgKG5vZGVOYW1lICE9ICdzcGFuJyAmJiBub2RlTmFtZSAhPSAnYScgJiYgbm9kZU5hbWUgIT0gJ2VtJykgewogICAgICAgICAgICBzZWxlY3RGaWxlTGlzdCA9IFtdOwogICAgICAgICAgICB2YXIgZmlsZW5hbWUgPSAkKCdkaXYuZmlsZS1uYW1lIGRpdi50ZXh0IGEnLCAkKHRoaXMpKS5hdHRyKCd0aXRsZScpOwogICAgICAgICAgICBzbG9nKCfpgInkuK3mlofku7bvvJonICsgZmlsZW5hbWUpOwogICAgICAgICAgICAkLmVhY2goZmlsZUxpc3QsIGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkgewogICAgICAgICAgICAgIGlmIChlbGVtZW50LnNlcnZlcl9maWxlbmFtZSA9PSBmaWxlbmFtZSkgewogICAgICAgICAgICAgICAgdmFyIG9iaiA9IHsKICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6IGVsZW1lbnQuc2VydmVyX2ZpbGVuYW1lLAogICAgICAgICAgICAgICAgICBwYXRoOiBlbGVtZW50LnBhdGgsCiAgICAgICAgICAgICAgICAgIGZzX2lkOiBlbGVtZW50LmZzX2lkLAogICAgICAgICAgICAgICAgICBpc2RpcjogZWxlbWVudC5pc2RpcgogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0LnB1c2gob2JqKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KCiAgICBmdW5jdGlvbiB1bnJlZ2lzdGVyRmlsZVNlbGVjdCgpIHsKICAgICAgdmFyICRkZCA9ICQoJ2Rpdi4nICsgY2xhc3NNYXBbJ2xpc3QtdmlldyddICsgJyBkZCcpOwogICAgICAkZGQuZWFjaChmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHsKICAgICAgICAkKGVsZW1lbnQpLnVuYmluZCgnY2xpY2snKTsKICAgICAgfSk7CiAgICB9CgogICAgLy/nm5Hop4bmlofku7bliJfooajmmL7npLrlj5jljJYKICAgIGZ1bmN0aW9uIGNyZWF0ZU9ic2VydmVyKCkgewogICAgICB2YXIgTXV0YXRpb25PYnNlcnZlciA9IHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyOwogICAgICB2YXIgb3B0aW9ucyA9IHsKICAgICAgICAnY2hpbGRMaXN0JzogdHJ1ZQogICAgICB9OwogICAgICBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uIChtdXRhdGlvbnMpIHsKICAgICAgICB1bnJlZ2lzdGVyQ2hlY2tib3goKTsKICAgICAgICB1bnJlZ2lzdGVyQWxsQ2hlY2tib3goKTsKICAgICAgICB1bnJlZ2lzdGVyRmlsZVNlbGVjdCgpOwogICAgICAgIHJlZ2lzdGVyQ2hlY2tib3goKTsKICAgICAgICByZWdpc3RlckFsbENoZWNrYm94KCk7CiAgICAgICAgcmVnaXN0ZXJGaWxlU2VsZWN0KCk7CiAgICAgIH0pOwoKICAgICAgdmFyIGxpc3RfdmlldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy4nICsgY2xhc3NNYXBbJ2xpc3QtdmlldyddKTsKICAgICAgdmFyIGdyaWRfdmlldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy4nICsgY2xhc3NNYXBbJ2dyaWQtdmlldyddKTsKCiAgICAgIG9ic2VydmVyLm9ic2VydmUobGlzdF92aWV3LCBvcHRpb25zKTsKICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShncmlkX3ZpZXcsIG9wdGlvbnMpOwogICAgfQoKICAgIC8v6I635Y+W5paH5Lu25L+h5oGv5YiX6KGoCiAgICBmdW5jdGlvbiBnZXRGaWxlTGlzdCgpIHsKICAgICAgdmFyIHJlc3VsdCA9IFtdOwogICAgICBpZiAoZ2V0UGF0aCgpID09ICcvJykgewogICAgICAgIHJlc3VsdCA9IHl1bkRhdGEuRklMRUlORk87CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbG9naWQgPSBnZXRMb2dJRCgpOwogICAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgICB1azogdWssCiAgICAgICAgICBzaGFyZWlkOiBzaGFyZWlkLAogICAgICAgICAgb3JkZXI6ICdvdGhlcicsCiAgICAgICAgICBkZXNjOiAxLAogICAgICAgICAgc2hvd2VtcHR5OiAwLAogICAgICAgICAgd2ViOiB3ZWIsCiAgICAgICAgICBkaXI6IGdldFBhdGgoKSwKICAgICAgICAgIHQ6IE1hdGgucmFuZG9tKCksCiAgICAgICAgICBiZHN0b2tlbjogYmRzdG9rZW4sCiAgICAgICAgICBjaGFubmVsOiBjaGFubmVsLAogICAgICAgICAgY2xpZW50dHlwZTogY2xpZW50dHlwZSwKICAgICAgICAgIGFwcF9pZDogYXBwX2lkLAogICAgICAgICAgbG9naWQ6IGxvZ2lkCiAgICAgICAgfTsKICAgICAgICAkLmFqYXgoewogICAgICAgICAgdXJsOiBzaGFyZUxpc3RVcmwsCiAgICAgICAgICBtZXRob2Q6ICdHRVQnLAogICAgICAgICAgYXN5bmM6IGZhbHNlLAogICAgICAgICAgZGF0YTogcGFyYW1zLAogICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5lcnJubyA9PT0gMCkgewogICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3BvbnNlLmxpc3Q7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgICByZXR1cm4gcmVzdWx0OwogICAgfQoKICAgIGZ1bmN0aW9uIGRvd25sb2FkQnV0dG9uQ2xpY2soKSB7CiAgICAgIHNsb2coJ+mAieS4reaWh+S7tuWIl+ihqO+8micsIHNlbGVjdEZpbGVMaXN0KTsKICAgICAgaWYgKHNlbGVjdEZpbGVMaXN0Lmxlbmd0aCA9PT0gMCkgewogICAgICAgIGFsZXJ0KCfojrflj5bmlofku7ZJROWksei0pe+8jOivt+mHjeivlScpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBidXR0b25UYXJnZXQgPSAnZG93bmxvYWQnOwogICAgICB2YXIgZG93bmxvYWRMaW5rID0gZ2V0RG93bmxvYWRMaW5rKCk7CgogICAgICBpZiAoZG93bmxvYWRMaW5rLmVycm5vID09IC0yMCkgewogICAgICAgIHZjb2RlID0gZ2V0VkNvZGUoKTsKICAgICAgICBpZiAodmNvZGUuZXJybm8gIT09IDApIHsKICAgICAgICAgIGFsZXJ0KCfojrflj5bpqozor4HnoIHlpLHotKXvvIEnKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdmNvZGVEaWFsb2cub3Blbih2Y29kZSk7CiAgICAgIH0gZWxzZSBpZiAoZG93bmxvYWRMaW5rLmVycm5vID09IDExMikgewogICAgICAgIGFsZXJ0KCfpobXpnaLov4fmnJ/vvIzor7fliLfmlrDph43or5UnKTsKCiAgICAgIH0gZWxzZSBpZiAoZG93bmxvYWRMaW5rLmVycm5vID09PSAwKSB7CiAgICAgICAgdmFyIGxpbms7CiAgICAgICAgaWYgKHNlbGVjdEZpbGVMaXN0Lmxlbmd0aCA9PSAxICYmIHNlbGVjdEZpbGVMaXN0WzBdLmlzZGlyID09PSAwKQogICAgICAgICAgbGluayA9IGRvd25sb2FkTGluay5saXN0WzBdLmRsaW5rOwogICAgICAgIGVsc2UKICAgICAgICAgIGxpbmsgPSBkb3dubG9hZExpbmsuZGxpbms7CiAgICAgICAgZXhlY0Rvd25sb2FkKGxpbmspOwogICAgICB9IGVsc2UgewogICAgICAgIGFsZXJ0KCfojrflj5bkuIvovb3pk77mjqXlpLHotKXvvIEnKTsKCiAgICAgIH0KICAgIH0KCiAgICAvL+iOt+WPlumqjOivgeeggQogICAgZnVuY3Rpb24gZ2V0VkNvZGUoKSB7CiAgICAgIHZhciB1cmwgPSBwYW5BUElVcmwgKyAnZ2V0dmNvZGUnOwogICAgICB2YXIgcmVzdWx0OwogICAgICBsb2dpZCA9IGdldExvZ0lEKCk7CiAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgcHJvZDogJ3BhbicsCiAgICAgICAgdDogTWF0aC5yYW5kb20oKSwKICAgICAgICBiZHN0b2tlbjogYmRzdG9rZW4sCiAgICAgICAgY2hhbm5lbDogY2hhbm5lbCwKICAgICAgICBjbGllbnR0eXBlOiBjbGllbnR0eXBlLAogICAgICAgIHdlYjogd2ViLAogICAgICAgIGFwcF9pZDogYXBwX2lkLAogICAgICAgIGxvZ2lkOiBsb2dpZAogICAgICB9OwogICAgICAkLmFqYXgoewogICAgICAgIHVybDogdXJsLAogICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgYXN5bmM6IGZhbHNlLAogICAgICAgIGRhdGE6IHBhcmFtcywKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHJlc3VsdCA9IHJlc3BvbnNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CgogICAgLy/liLfmlrDpqozor4HnoIEKICAgIGZ1bmN0aW9uIHJlZnJlc2hWQ29kZSgpIHsKICAgICAgdmNvZGUgPSBnZXRWQ29kZSgpOwogICAgICAkKCcjZGlhbG9nLWltZycpLmF0dHIoJ3NyYycsIHZjb2RlLmltZyk7CiAgICB9CgogICAgLy/pqozor4HnoIHnoa7orqTmj5DkuqQKICAgIGZ1bmN0aW9uIGNvbmZpcm1DbGljaygpIHsKICAgICAgdmFyIHZhbCA9ICQoJyNkaWFsb2ctaW5wdXQnKS52YWwoKTsKICAgICAgaWYgKHZhbC5sZW5ndGggPT09IDApIHsKICAgICAgICAkKCcjZGlhbG9nLWVycicpLnRleHQoJ+ivt+i+k+WFpemqjOivgeeggScpOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmICh2YWwubGVuZ3RoIDwgNCkgewogICAgICAgICQoJyNkaWFsb2ctZXJyJykudGV4dCgn6aqM6K+B56CB6L6T5YWl6ZSZ6K+v77yM6K+36YeN5paw6L6T5YWlJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHZhciByZXN1bHQgPSBnZXREb3dubG9hZExpbmtXaXRoVkNvZGUodmFsKTsKICAgICAgaWYgKHJlc3VsdC5lcnJubyA9PSAtMjApIHsKICAgICAgICB2Y29kZURpYWxvZy5jbG9zZSgpOwogICAgICAgICQoJyNkaWFsb2ctZXJyJykudGV4dCgn6aqM6K+B56CB6L6T5YWl6ZSZ6K+v77yM6K+36YeN5paw6L6T5YWlJyk7CiAgICAgICAgcmVmcmVzaFZDb2RlKCk7CiAgICAgICAgaWYgKCF2Y29kZSB8fCB2Y29kZS5lcnJubyAhPT0gMCkgewogICAgICAgICAgYWxlcnQoJ+iOt+WPlumqjOivgeeggeWksei0pe+8gScpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICB2Y29kZURpYWxvZy5vcGVuKCk7CiAgICAgIH0gZWxzZSBpZiAocmVzdWx0LmVycm5vID09PSAwKSB7CiAgICAgICAgdmNvZGVEaWFsb2cuY2xvc2UoKTsKICAgICAgICB2YXIgbGluazsKICAgICAgICBpZiAoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09IDEgJiYgc2VsZWN0RmlsZUxpc3RbMF0uaXNkaXIgPT09IDApCiAgICAgICAgICBsaW5rID0gcmVzdWx0Lmxpc3RbMF0uZGxpbms7CiAgICAgICAgZWxzZQogICAgICAgICAgbGluayA9IHJlc3VsdC5kbGluazsKICAgICAgICBpZiAoYnV0dG9uVGFyZ2V0ID09ICdkb3dubG9hZCcpIHsKICAgICAgICAgIGV4ZWNEb3dubG9hZChsaW5rKTsKICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvblRhcmdldCA9PSAnbGluaycpIHsKICAgICAgICAgIHZhciBmaWxlbmFtZSA9ICcnOwogICAgICAgICAgJC5lYWNoKHNlbGVjdEZpbGVMaXN0LCBmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHsKICAgICAgICAgICAgaWYgKHNlbGVjdEZpbGVMaXN0Lmxlbmd0aCA9PSAxKQogICAgICAgICAgICAgIGZpbGVuYW1lID0gZWxlbWVudC5maWxlbmFtZTsKICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgaWYgKGluZGV4ID09IDApCiAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IGVsZW1lbnQuZmlsZW5hbWU7CiAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgZmlsZW5hbWUgPSBmaWxlbmFtZSArICcsJyArIGVsZW1lbnQuZmlsZW5hbWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgdmFyIGxpbmtMaXN0ID0gewogICAgICAgICAgICBmaWxlbmFtZTogZmlsZW5hbWUsCiAgICAgICAgICAgIHVybHM6IFsKICAgICAgICAgICAgICB7dXJsOiBsaW5rLCByYW5rOiAxfQogICAgICAgICAgICBdCiAgICAgICAgICB9OwogICAgICAgICAgdmFyIHRpcCA9ICLmmL7npLrojrflj5bnmoTpk77mjqXvvIzlj6/ku6Xlj7PplK7kvb/nlKjov4Xpm7fmiJZJRE3kuIvovb3vvIznm7TmjqXlpI3liLbpk77mjqXml6DmlYgiOwogICAgICAgICAgZGlhbG9nLm9wZW4oe3RpdGxlOiAn5LiL6L296ZO+5o6lJywgdHlwZTogJ2xpbmsnLCBsaXN0OiBsaW5rTGlzdCwgdGlwOiB0aXB9KTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYWxlcnQoJ+WPkeeUn+mUmeivr++8gScpOwoKICAgICAgfQogICAgfQoKICAgIC8v55Sf5oiQ5LiL6L2955So55qEZmlkX2xpc3Tlj4LmlbAKICAgIGZ1bmN0aW9uIGdldEZpZExpc3QoKSB7CiAgICAgIHZhciBmaWRsaXN0ID0gW107CiAgICAgICQuZWFjaChzZWxlY3RGaWxlTGlzdCwgZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7CiAgICAgICAgZmlkbGlzdC5wdXNoKGVsZW1lbnQuZnNfaWQpOwogICAgICB9KTsKICAgICAgcmV0dXJuICdbJyArIGZpZGxpc3QgKyAnXSc7CiAgICB9CgogICAgZnVuY3Rpb24gbGlua0J1dHRvbkNsaWNrKCkgewogICAgICBzbG9nKCfpgInkuK3mlofku7bliJfooajvvJonLCBzZWxlY3RGaWxlTGlzdCk7CiAgICAgIGlmIChzZWxlY3RGaWxlTGlzdC5sZW5ndGggPT09IDApIHsKICAgICAgICBhbGVydCgn5rKh5pyJ6YCJ5Lit5paH5Lu277yM6K+36YeN6K+VJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGJ1dHRvblRhcmdldCA9ICdsaW5rJzsKICAgICAgdmFyIGRvd25sb2FkTGluayA9IGdldERvd25sb2FkTGluaygpOwoKICAgICAgaWYgKGRvd25sb2FkTGluay5lcnJubyA9PSAtMjApIHsKICAgICAgICB2Y29kZSA9IGdldFZDb2RlKCk7CiAgICAgICAgaWYgKCF2Y29kZSB8fCB2Y29kZS5lcnJubyAhPT0gMCkgewogICAgICAgICAgYWxlcnQoJ+iOt+WPlumqjOivgeeggeWksei0pe+8gScpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICB2Y29kZURpYWxvZy5vcGVuKHZjb2RlKTsKICAgICAgfSBlbHNlIGlmIChkb3dubG9hZExpbmsuZXJybm8gPT0gMTEyKSB7CiAgICAgICAgYWxlcnQoJ+mhtemdoui/h+acn++8jOivt+WIt+aWsOmHjeivlScpOwoKICAgICAgfSBlbHNlIGlmIChkb3dubG9hZExpbmsuZXJybm8gPT09IDApIHsKICAgICAgICB2YXIgbGluazsKICAgICAgICBpZiAoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09IDEgJiYgc2VsZWN0RmlsZUxpc3RbMF0uaXNkaXIgPT09IDApCiAgICAgICAgICBsaW5rID0gZG93bmxvYWRMaW5rLmxpc3RbMF0uZGxpbms7CiAgICAgICAgZWxzZQogICAgICAgICAgbGluayA9IGRvd25sb2FkTGluay5kbGluazsKICAgICAgICBpZiAoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09IDEpCiAgICAgICAgICAkKCcjZGlhbG9nLWRvd25sb2FkbGluaycpLmF0dHIoJ2hyZWYnLCBsaW5rKS50ZXh0KGxpbmspOwogICAgICAgIGVsc2UKICAgICAgICAgICQoJyNkaWFsb2ctZG93bmxvYWRsaW5rJykuYXR0cignaHJlZicsIGxpbmspLnRleHQobGluayk7CiAgICAgICAgdmFyIGZpbGVuYW1lID0gJyc7CiAgICAgICAgJC5lYWNoKHNlbGVjdEZpbGVMaXN0LCBmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHsKICAgICAgICAgIGlmIChzZWxlY3RGaWxlTGlzdC5sZW5ndGggPT0gMSkKICAgICAgICAgICAgZmlsZW5hbWUgPSBlbGVtZW50LmZpbGVuYW1lOwogICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGlmIChpbmRleCA9PSAwKQogICAgICAgICAgICAgIGZpbGVuYW1lID0gZWxlbWVudC5maWxlbmFtZTsKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgIGZpbGVuYW1lID0gZmlsZW5hbWUgKyAnLCcgKyBlbGVtZW50LmZpbGVuYW1lOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHZhciBsaW5rTGlzdCA9IHsKICAgICAgICAgIGZpbGVuYW1lOiBmaWxlbmFtZSwKICAgICAgICAgIHVybHM6IFsKICAgICAgICAgICAge3VybDogbGluaywgcmFuazogMX0KICAgICAgICAgIF0KICAgICAgICB9OwogICAgICAgIHZhciB0aXAgPSAi5pi+56S66I635Y+W55qE6ZO+5o6l77yM5Y+v5Lul5L2/55So5Y+z6ZSu6L+F6Zu35oiWSURN5LiL6L2977yM5aSN5Yi25peg55So77yM6ZyA6KaB5Lyg6YCSY29va2llIjsKICAgICAgICBkaWFsb2cub3Blbih7dGl0bGU6ICfkuIvovb3pk77mjqUnLCB0eXBlOiAnbGluaycsIGxpc3Q6IGxpbmtMaXN0LCB0aXA6IHRpcH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGFsZXJ0KCfojrflj5bkuIvovb3pk77mjqXlpLHotKXvvIEnKTsKCiAgICAgIH0KICAgIH0KCiAgICAvL+iOt+WPluS4i+i9vemTvuaOpQogICAgZnVuY3Rpb24gZ2V0RG93bmxvYWRMaW5rKCkgewogICAgICBpZiAoYmRzdG9rZW4gPT09IG51bGwpIHsKICAgICAgICBhbGVydCgn5o+Q56S6IDog55m75b2V55m+5bqm572R55uY5ZCO5omN6IO95q2j5bi45L2/55So6ISa5pys5ZOmISEhJyk7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgaWYgKGlzU2luZ2xlU2hhcmUpIHsKICAgICAgICAgIGZpZF9saXN0ID0gZ2V0RmlkTGlzdCgpOwogICAgICAgICAgbG9naWQgPSBnZXRMb2dJRCgpOwogICAgICAgICAgdmFyIHVybCA9IHBhbkFQSVVybCArICdzaGFyZWRvd25sb2FkP3NpZ249JyArIHNpZ24gKyAnJnRpbWVzdGFtcD0nICsgdGltZXN0YW1wICsgJyZiZHN0b2tlbj0nICsgYmRzdG9rZW4gKyAnJmNoYW5uZWw9JyArIGNoYW5uZWwgKyAnJmNsaWVudHR5cGU9JyArIGNsaWVudHR5cGUgKyAnJndlYj0nICsgd2ViICsgJyZhcHBfaWQ9JyArIGFwcF9pZCArICcmbG9naWQ9JyArIGxvZ2lkOwogICAgICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICAgICAgZW5jcnlwdDogZW5jcnlwdCwKICAgICAgICAgICAgcHJvZHVjdDogcHJvZHVjdCwKICAgICAgICAgICAgdWs6IHVrLAogICAgICAgICAgICBwcmltYXJ5aWQ6IHByaW1hcnlpZCwKICAgICAgICAgICAgZmlkX2xpc3Q6IGZpZF9saXN0CiAgICAgICAgICB9OwogICAgICAgICAgaWYgKHNoYXJlVHlwZSA9PSAnc2VjcmV0JykgewogICAgICAgICAgICBwYXJhbXMuZXh0cmEgPSBleHRyYTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChzZWxlY3RGaWxlTGlzdFswXS5pc2RpciA9PSAxIHx8IHNlbGVjdEZpbGVMaXN0Lmxlbmd0aCA+IDEpIHsKICAgICAgICAgICAgcGFyYW1zLnR5cGUgPSAnYmF0Y2gnOwogICAgICAgICAgfQogICAgICAgICAgJC5hamF4KHsKICAgICAgICAgICAgdXJsOiB1cmwsCiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICBhc3luYzogZmFsc2UsCiAgICAgICAgICAgIGRhdGE6IHBhcmFtcywKICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzcG9uc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICB9CiAgICB9CgogICAgLy/mnInpqozor4HnoIHovpPlhaXml7bojrflj5bkuIvovb3pk77mjqUKICAgIGZ1bmN0aW9uIGdldERvd25sb2FkTGlua1dpdGhWQ29kZSh2Y29kZUlucHV0KSB7CiAgICAgIHZhciByZXN1bHQ7CiAgICAgIGlmIChpc1NpbmdsZVNoYXJlKSB7CiAgICAgICAgZmlkX2xpc3QgPSBnZXRGaWRMaXN0KCk7CiAgICAgICAgdmFyIHVybCA9IHBhbkFQSVVybCArICdzaGFyZWRvd25sb2FkP3NpZ249JyArIHNpZ24gKyAnJnRpbWVzdGFtcD0nICsgdGltZXN0YW1wICsgJyZiZHN0b2tlbj0nICsgYmRzdG9rZW4gKyAnJmNoYW5uZWw9JyArIGNoYW5uZWwgKyAnJmNsaWVudHR5cGU9JyArIGNsaWVudHR5cGUgKyAnJndlYj0nICsgd2ViICsgJyZhcHBfaWQ9JyArIGFwcF9pZCArICcmbG9naWQ9JyArIGxvZ2lkOwogICAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgICBlbmNyeXB0OiBlbmNyeXB0LAogICAgICAgICAgcHJvZHVjdDogcHJvZHVjdCwKICAgICAgICAgIHZjb2RlX2lucHV0OiB2Y29kZUlucHV0LAogICAgICAgICAgdmNvZGVfc3RyOiB2Y29kZS52Y29kZSwKICAgICAgICAgIHVrOiB1aywKICAgICAgICAgIHByaW1hcnlpZDogcHJpbWFyeWlkLAogICAgICAgICAgZmlkX2xpc3Q6IGZpZF9saXN0CiAgICAgICAgfTsKICAgICAgICBpZiAoc2hhcmVUeXBlID09ICdzZWNyZXQnKSB7CiAgICAgICAgICBwYXJhbXMuZXh0cmEgPSBleHRyYTsKICAgICAgICB9CiAgICAgICAgaWYgKHNlbGVjdEZpbGVMaXN0WzBdLmlzZGlyID09IDEgfHwgc2VsZWN0RmlsZUxpc3QubGVuZ3RoID4gMSkgewogICAgICAgICAgcGFyYW1zLnR5cGUgPSAnYmF0Y2gnOwogICAgICAgIH0KICAgICAgICAkLmFqYXgoewogICAgICAgICAgdXJsOiB1cmwsCiAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgIGFzeW5jOiBmYWxzZSwKICAgICAgICAgIGRhdGE6IHBhcmFtcywKICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICByZXN1bHQgPSByZXNwb25zZTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgICByZXR1cm4gcmVzdWx0OwogICAgfQoKICAgIGZ1bmN0aW9uIGV4ZWNEb3dubG9hZChsaW5rKSB7CiAgICAgIHNsb2coJ+S4i+i9vemTvuaOpe+8micgKyBsaW5rKTsKICAgICAgJCgnI2hlbHBlcmRvd25sb2FkaWZyYW1lJykuYXR0cignc3JjJywgbGluayk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBiYXNlNjRFbmNvZGUodCkgewogICAgdmFyIGEsIHIsIGUsIG4sIGksIHMsIG8gPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgICBmb3IgKGUgPSB0Lmxlbmd0aCwgciA9IDAsIGEgPSAiIjsgZSA+IHI7KSB7CiAgICAgIGlmIChuID0gMjU1ICYgdC5jaGFyQ29kZUF0KHIrKyksIHIgPT0gZSkgewogICAgICAgIGEgKz0gby5jaGFyQXQobiA+PiAyKTsKICAgICAgICBhICs9IG8uY2hhckF0KCgzICYgbikgPDwgNCk7CiAgICAgICAgYSArPSAiPT0iOwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICAgIGlmIChpID0gdC5jaGFyQ29kZUF0KHIrKyksIHIgPT0gZSkgewogICAgICAgIGEgKz0gby5jaGFyQXQobiA+PiAyKTsKICAgICAgICBhICs9IG8uY2hhckF0KCgzICYgbikgPDwgNCB8ICgyNDAgJiBpKSA+PiA0KTsKICAgICAgICBhICs9IG8uY2hhckF0KCgxNSAmIGkpIDw8IDIpOwogICAgICAgIGEgKz0gIj0iOwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICAgIHMgPSB0LmNoYXJDb2RlQXQocisrKTsKICAgICAgYSArPSBvLmNoYXJBdChuID4+IDIpOwogICAgICBhICs9IG8uY2hhckF0KCgzICYgbikgPDwgNCB8ICgyNDAgJiBpKSA+PiA0KTsKICAgICAgYSArPSBvLmNoYXJBdCgoMTUgJiBpKSA8PCAyIHwgKDE5MiAmIHMpID4+IDYpOwogICAgICBhICs9IG8uY2hhckF0KDYzICYgcyk7CiAgICB9CiAgICByZXR1cm4gYTsKICB9CgogIGZ1bmN0aW9uIGRldGVjdFBhZ2UoKSB7CiAgICB2YXIgcmVneCA9IC9bXC9dLitbXC9dL2c7CiAgICB2YXIgcGFnZSA9IGxvY2F0aW9uLnBhdGhuYW1lLm1hdGNoKHJlZ3gpOwogICAgcmV0dXJuIHBhZ2VbMF0ucmVwbGFjZSgvXC8vZywgJycpOwogIH0KCiAgZnVuY3Rpb24gZ2V0Q29va2llKGUpIHsKICAgIHZhciBvLCB0OwogICAgdmFyIG4gPSBkb2N1bWVudCwgYyA9IGRlY29kZVVSSTsKICAgIHJldHVybiBuLmNvb2tpZS5sZW5ndGggPiAwICYmIChvID0gbi5jb29raWUuaW5kZXhPZihlICsgIj0iKSwgLTEgIT0gbykgPyAobyA9IG8gKyBlLmxlbmd0aCArIDEsIHQgPSBuLmNvb2tpZS5pbmRleE9mKCI7IiwgbyksIC0xID09IHQgJiYgKHQgPSBuLmNvb2tpZS5sZW5ndGgpLCBjKG4uY29va2llLnN1YnN0cmluZyhvLCB0KSkpIDogIiI7CiAgfQoKICBmdW5jdGlvbiBnZXRMb2dJRCgpIHsKICAgIHZhciBuYW1lID0gIkJBSURVSUQiOwogICAgdmFyIHUgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrL37vvIFAI++/pSXigKbigKYmIjsKICAgIHZhciBkID0gL1tcdUQ4MDAtXHVEQkZGXVtcdURDMDAtXHVERkZGRl18W15ceDAwLVx4N0ZdL2c7CiAgICB2YXIgZiA9IFN0cmluZy5mcm9tQ2hhckNvZGU7CgogICAgZnVuY3Rpb24gbChlKSB7CiAgICAgIGlmIChlLmxlbmd0aCA8IDIpIHsKICAgICAgICB2YXIgbiA9IGUuY2hhckNvZGVBdCgwKTsKICAgICAgICByZXR1cm4gMTI4ID4gbiA/IGUgOiAyMDQ4ID4gbiA/IGYoMTkyIHwgbiA+Pj4gNikgKyBmKDEyOCB8IDYzICYgbikgOiBmKDIyNCB8IG4gPj4+IDEyICYgMTUpICsgZigxMjggfCBuID4+PiA2ICYgNjMpICsgZigxMjggfCA2MyAmIG4pOwogICAgICB9CiAgICAgIHZhciBuID0gNjU1MzYgKyAxMDI0ICogKGUuY2hhckNvZGVBdCgwKSAtIDU1Mjk2KSArIChlLmNoYXJDb2RlQXQoMSkgLSA1NjMyMCk7CiAgICAgIHJldHVybiBmKDI0MCB8IG4gPj4+IDE4ICYgNykgKyBmKDEyOCB8IG4gPj4+IDEyICYgNjMpICsgZigxMjggfCBuID4+PiA2ICYgNjMpICsgZigxMjggfCA2MyAmIG4pOwogICAgfQoKICAgIGZ1bmN0aW9uIGcoZSkgewogICAgICByZXR1cm4gKGUgKyAiIiArIE1hdGgucmFuZG9tKCkpLnJlcGxhY2UoZCwgbCk7CiAgICB9CgogICAgZnVuY3Rpb24gbShlKSB7CiAgICAgIHZhciBuID0gWzAsIDIsIDFdW2UubGVuZ3RoICUgM107CiAgICAgIHZhciB0ID0gZS5jaGFyQ29kZUF0KDApIDw8IDE2IHwgKGUubGVuZ3RoID4gMSA/IGUuY2hhckNvZGVBdCgxKSA6IDApIDw8IDggfCAoZS5sZW5ndGggPiAyID8gZS5jaGFyQ29kZUF0KDIpIDogMCk7CiAgICAgIHZhciBvID0gW3UuY2hhckF0KHQgPj4+IDE4KSwgdS5jaGFyQXQodCA+Pj4gMTIgJiA2MyksIG4gPj0gMiA/ICI9IiA6IHUuY2hhckF0KHQgPj4+IDYgJiA2MyksIG4gPj0gMSA/ICI9IiA6IHUuY2hhckF0KDYzICYgdCldOwogICAgICByZXR1cm4gby5qb2luKCIiKTsKICAgIH0KCiAgICBmdW5jdGlvbiBoKGUpIHsKICAgICAgcmV0dXJuIGUucmVwbGFjZSgvW1xzXFNdezEsM30vZywgbSk7CiAgICB9CgogICAgZnVuY3Rpb24gcCgpIHsKICAgICAgcmV0dXJuIGgoZygobmV3IERhdGUoKSkuZ2V0VGltZSgpKSk7CiAgICB9CgogICAgZnVuY3Rpb24gdyhlLCBuKSB7CiAgICAgIHJldHVybiBuID8gcChTdHJpbmcoZSkpLnJlcGxhY2UoL1srXC9dL2csIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuICIrIiA9PSBlID8gIi0iIDogIl8iOwogICAgICB9KS5yZXBsYWNlKC89L2csICIiKSA6IHAoU3RyaW5nKGUpKTsKICAgIH0KCiAgICByZXR1cm4gdyhnZXRDb29raWUobmFtZSkpOwogIH0KCiAgZnVuY3Rpb24gRGlhbG9nKCkgewogICAgdmFyIGxpbmtMaXN0ID0gW107CiAgICB2YXIgc2hvd1BhcmFtczsKICAgIHZhciBkaWFsb2csIHNoYWRvdzsKCiAgICBmdW5jdGlvbiBjcmVhdGVEaWFsb2coKSB7CiAgICAgIHZhciBzY3JlZW5XaWR0aCA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7CiAgICAgIHZhciBkaWFsb2dMZWZ0ID0gc2NyZWVuV2lkdGggPiA4MDAgPyAoc2NyZWVuV2lkdGggLSA4MDApIC8gMiA6IDA7CiAgICAgIHZhciAkZGlhbG9nX2RpdiA9ICQoJzxkaXYgY2xhc3M9ImRpYWxvZyIgc3R5bGU9IndpZHRoOiA4MDBweDsgdG9wOiAwcHg7IGJvdHRvbTogYXV0bzsgbGVmdDogJyArIGRpYWxvZ0xlZnQgKyAncHg7IHJpZ2h0OiBhdXRvOyBkaXNwbGF5OiBoaWRkZW47IHZpc2liaWxpdHk6IHZpc2libGU7IHotaW5kZXg6IDUyOyI+PC9kaXY+Jyk7CiAgICAgIHZhciAkZGlhbG9nX2hlYWRlciA9ICQoJzxkaXYgY2xhc3M9ImRpYWxvZy1oZWFkZXIiPjxoMz48c3BhbiBjbGFzcz0iZGlhbG9nLXRpdGxlIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6NzQwcHg7d2hpdGUtc3BhY2U6bm93cmFwO292ZXJmbG93LXg6aGlkZGVuO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXMiPjwvc3Bhbj48L2gzPjwvZGl2PicpOwogICAgICB2YXIgJGRpYWxvZ19jb250cm9sID0gJCgnPGRpdiBjbGFzcz0iZGlhbG9nLWNvbnRyb2wiPjxzcGFuIGNsYXNzPSJkaWFsb2ctaWNvbiBkaWFsb2ctY2xvc2UiPsOXPC9zcGFuPjwvZGl2PicpOwogICAgICB2YXIgJGRpYWxvZ19ib2R5ID0gJCgnPGRpdiBjbGFzcz0iZGlhbG9nLWJvZHkiIHN0eWxlPSJtYXgtaGVpZ2h0OjQ1MHB4O292ZXJmbG93LXk6YXV0bztwYWRkaW5nOjAgMjBweDsiPjwvZGl2PicpOwogICAgICB2YXIgJGRpYWxvZ190aXAgPSAkKCc8ZGl2IGNsYXNzPSJkaWFsb2ctdGlwIiBzdHlsZT0icGFkZGluZy1sZWZ0OjIwcHg7YmFja2dyb3VuZC1jb2xvcjojZmZmO2JvcmRlci10b3A6IDFweCBzb2xpZCAjYzRkYmZlO2NvbG9yOiAjZGMzNzNjOyI+PHA+PC9wPjwvZGl2PicpOwoKICAgICAgJGRpYWxvZ19kaXYuYXBwZW5kKCRkaWFsb2dfaGVhZGVyLmFwcGVuZCgkZGlhbG9nX2NvbnRyb2wpKS5hcHBlbmQoJGRpYWxvZ19ib2R5KTsKCiAgICAgIC8vdmFyICRkaWFsb2dfdGV4dGFyZWEgPSAkKCc8dGV4dGFyZWEgY2xhc3M9ImRpYWxvZy10ZXh0YXJlYSIgc3R5bGU9ImRpc3BsYXk6bm9uZTt3aWR0aCI+PC90ZXh0YXJlYT4nKTsKICAgICAgdmFyICRkaWFsb2dfcmFkaW9fZGl2ID0gJCgnPGRpdiBjbGFzcz0iZGlhbG9nLXJhZGlvIiBzdHlsZT0iZGlzcGxheTpub25lO3dpZHRoOjc2MHB4O3BhZGRpbmctbGVmdDoyMHB4O3BhZGRpbmctcmlnaHQ6MjBweCI+PC9kaXY+Jyk7CiAgICAgIHZhciAkZGlhbG9nX3JhZGlvX211bHRpID0gJCgnPGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSJzaG93bW9kZSIgY2hlY2tlZD0iY2hlY2tlZCIgdmFsdWU9Im11bHRpIj48c3Bhbj7lpJrooYw8L3NwYW4+Jyk7CiAgICAgIHZhciAkZGlhbG9nX3JhZGlvX3NpbmdsZSA9ICQoJzxpbnB1dCB0eXBlPSJyYWRpbyIgbmFtZT0ic2hvd21vZGUiIHZhbHVlPSJzaW5nbGUiPjxzcGFuPuWNleihjDwvc3Bhbj4nKTsKICAgICAgJGRpYWxvZ19yYWRpb19kaXYuYXBwZW5kKCRkaWFsb2dfcmFkaW9fbXVsdGkpLmFwcGVuZCgkZGlhbG9nX3JhZGlvX3NpbmdsZSk7CiAgICAgICRkaWFsb2dfZGl2LmFwcGVuZCgkZGlhbG9nX3JhZGlvX2Rpdik7CiAgICAgICQoJ2lucHV0W3R5cGU9cmFkaW9dW25hbWU9c2hvd21vZGVdJywgJGRpYWxvZ19yYWRpb19kaXYpLmNoYW5nZShmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy52YWx1ZTsKICAgICAgICB2YXIgJHRleHRhcmVhID0gJCgnZGl2LmRpYWxvZy1ib2R5IHRleHRhcmVhW25hbWU9ZGlhbG9nLXRleHRhcmVhXScsIGRpYWxvZyk7CiAgICAgICAgdmFyIGNvbnRlbnQgPSAkdGV4dGFyZWEudmFsKCk7CiAgICAgICAgaWYgKHZhbHVlID09ICdtdWx0aScpIHsKICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoL1xzKy9nLCAnXG4nKTsKICAgICAgICAgICR0ZXh0YXJlYS5jc3MoJ2hlaWdodCcsICczMDBweCcpOwogICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT0gJ3NpbmdsZScpIHsKICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoL1xuKy9nLCAnICcpOwogICAgICAgICAgJHRleHRhcmVhLmNzcygnaGVpZ2h0JywgJycpOwogICAgICAgIH0KICAgICAgICAkdGV4dGFyZWEudmFsKGNvbnRlbnQpOwogICAgICB9KTsKCiAgICAgIHZhciAkZGlhbG9nX2J1dHRvbiA9ICQoJzxkaXYgY2xhc3M9ImRpYWxvZy1idXR0b24iIHN0eWxlPSJkaXNwbGF5Om5vbmUiPjwvZGl2PicpOwogICAgICB2YXIgJGRpYWxvZ19idXR0b25fZGl2ID0gJCgnPGRpdiBzdHlsZT0iZGlzcGxheTp0YWJsZTttYXJnaW46YXV0byI+PC9kaXY+Jyk7CiAgICAgIHZhciAkZGlhbG9nX2NvcHlfYnV0dG9uID0gJCgnPGJ1dHRvbiBpZD0iZGlhbG9nLWNvcHktYnV0dG9uIiBzdHlsZT0iZGlzcGxheTpub25lO3dpZHRoOiAxMDBweDsgbWFyZ2luOiA1cHggMCAxMHB4IDA7IGN1cnNvcjogcG9pbnRlcjsgYmFja2dyb3VuZDogI2NjMzIzNTsgYm9yZGVyOiBub25lOyBoZWlnaHQ6IDMwcHg7IGNvbG9yOiAjZmZmOyBib3JkZXItcmFkaXVzOiAzcHg7Ij7nm7TmjqXlpI3liLbml6DmlYg8L2J1dHRvbj4nKTsKICAgICAgdmFyICRkaWFsb2dfZWRpdF9idXR0b24gPSAkKCc8YnV0dG9uIGlkPSJkaWFsb2ctZWRpdC1idXR0b24iIHN0eWxlPSJkaXNwbGF5Om5vbmUiPue8lui+kTwvYnV0dG9uPicpOwogICAgICB2YXIgJGRpYWxvZ19leGl0X2J1dHRvbiA9ICQoJzxidXR0b24gaWQ9ImRpYWxvZy1leGl0LWJ1dHRvbiIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+6YCA5Ye6PC9idXR0b24+Jyk7CgogICAgICAkZGlhbG9nX2J1dHRvbl9kaXYuYXBwZW5kKCRkaWFsb2dfY29weV9idXR0b24pLmFwcGVuZCgkZGlhbG9nX2VkaXRfYnV0dG9uKS5hcHBlbmQoJGRpYWxvZ19leGl0X2J1dHRvbik7CiAgICAgICRkaWFsb2dfYnV0dG9uLmFwcGVuZCgkZGlhbG9nX2J1dHRvbl9kaXYpOwogICAgICAkZGlhbG9nX2Rpdi5hcHBlbmQoJGRpYWxvZ19idXR0b24pOwoKICAgICAgJGRpYWxvZ19jb3B5X2J1dHRvbi5jbGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGNvbnRlbnQgPSAnJzsKICAgICAgICBpZiAoc2hvd1BhcmFtcy50eXBlID09ICdiYXRjaCcpIHsKICAgICAgICAgICQuZWFjaChsaW5rTGlzdCwgZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7CiAgICAgICAgICAgIGlmIChlbGVtZW50LmRvd25sb2FkbGluayA9PSAnZXJyb3InKQogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgaWYgKGluZGV4ID09IGxpbmtMaXN0Lmxlbmd0aCAtIDEpCiAgICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQgKyBlbGVtZW50LmRvd25sb2FkbGluazsKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50ICsgZWxlbWVudC5kb3dubG9hZGxpbmsgKyAnXG4nOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIGlmIChzaG93UGFyYW1zLnR5cGUgPT0gJ2xpbmsnKSB7CiAgICAgICAgICAkLmVhY2gobGlua0xpc3QsIGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkgewogICAgICAgICAgICBpZiAoZWxlbWVudC51cmwgPT0gJ2Vycm9yJykKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIGlmIChpbmRleCA9PSBsaW5rTGlzdC5sZW5ndGggLSAxKQogICAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50ICsgZWxlbWVudC51cmw7CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICBjb250ZW50ID0gY29udGVudCArIGVsZW1lbnQudXJsICsgJ1xuJzsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CgogICAgICAkZGlhbG9nX2VkaXRfYnV0dG9uLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgJGRpYWxvZ190ZXh0YXJlYSA9ICQoJ2Rpdi5kaWFsb2ctYm9keSB0ZXh0YXJlYVtuYW1lPWRpYWxvZy10ZXh0YXJlYV0nLCBkaWFsb2cpOwogICAgICAgIHZhciAkZGlhbG9nX2l0ZW0gPSAkKCdkaXYuZGlhbG9nLWJvZHkgZGl2JywgZGlhbG9nKTsKICAgICAgICAkZGlhbG9nX2l0ZW0uaGlkZSgpOwogICAgICAgICRkaWFsb2dfY29weV9idXR0b24uaGlkZSgpOwogICAgICAgICRkaWFsb2dfZWRpdF9idXR0b24uaGlkZSgpOwogICAgICAgICRkaWFsb2dfdGV4dGFyZWEuc2hvdygpOwogICAgICAgICRkaWFsb2dfcmFkaW9fZGl2LnNob3coKTsKICAgICAgICAkZGlhbG9nX2V4aXRfYnV0dG9uLnNob3coKTsKICAgICAgfSk7CgogICAgICAkZGlhbG9nX2V4aXRfYnV0dG9uLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgJGRpYWxvZ190ZXh0YXJlYSA9ICQoJ2Rpdi5kaWFsb2ctYm9keSB0ZXh0YXJlYVtuYW1lPWRpYWxvZy10ZXh0YXJlYV0nLCBkaWFsb2cpOwogICAgICAgIHZhciAkZGlhbG9nX2l0ZW0gPSAkKCdkaXYuZGlhbG9nLWJvZHkgZGl2JywgZGlhbG9nKTsKICAgICAgICAkZGlhbG9nX3RleHRhcmVhLmhpZGUoKTsKICAgICAgICAkZGlhbG9nX3JhZGlvX2Rpdi5oaWRlKCk7CiAgICAgICAgJGRpYWxvZ19pdGVtLnNob3coKTsKICAgICAgICAkZGlhbG9nX2V4aXRfYnV0dG9uLmhpZGUoKTsKICAgICAgICAkZGlhbG9nX2NvcHlfYnV0dG9uLnNob3coKTsKICAgICAgICAkZGlhbG9nX2VkaXRfYnV0dG9uLnNob3coKTsKICAgICAgfSk7CgogICAgICAkZGlhbG9nX2Rpdi5hcHBlbmQoJGRpYWxvZ190aXApOwogICAgICAkKCdib2R5JykuYXBwZW5kKCRkaWFsb2dfZGl2KTsKICAgICAgJGRpYWxvZ19kaXYuZGlhbG9nRHJhZygpOwogICAgICAkZGlhbG9nX2NvbnRyb2wuY2xpY2soZGlhbG9nQ29udHJvbCk7CiAgICAgIHJldHVybiAkZGlhbG9nX2RpdjsKICAgIH0KCiAgICBmdW5jdGlvbiBjcmVhdGVTaGFkb3coKSB7CiAgICAgIHZhciAkc2hhZG93ID0gJCgnPGRpdiBjbGFzcz0iZGlhbG9nLXNoYWRvdyIgc3R5bGU9InBvc2l0aW9uOiBmaXhlZDsgbGVmdDogMHB4OyB0b3A6IDBweDsgei1pbmRleDogNTA7IGJhY2tncm91bmQ6IHJnYigwLCAwLCAwKSBub25lIHJlcGVhdCBzY3JvbGwgMCUgMCU7IG9wYWNpdHk6IDAuNTsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgZGlzcGxheTogbm9uZTsiPjwvZGl2PicpOwogICAgICAkKCdib2R5JykuYXBwZW5kKCRzaGFkb3cpOwogICAgICByZXR1cm4gJHNoYWRvdzsKICAgIH0KCiAgICB0aGlzLm9wZW4gPSBmdW5jdGlvbiAocGFyYW1zKSB7CiAgICAgICQoJ2JvZHknKS5vbignY2xpY2snLCAnLkdNbGluaycsIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgbGluayA9ICQodGhpcylbMF0uaW5uZXJUZXh0OwoKICAgICAgICBHTV9kb3dubG9hZCh7CiAgICAgICAgICB1cmw6IGxpbmssCiAgICAgICAgICBuYW1lOiAn6Z2eSURN5LiL6L296K+36Ieq5bex5pS55ZCO57yA5ZCNLnppcCcsCiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICJVc2VyLUFnZW50IjogIm5ldGRpc2s7Ni43LjEuOTtQQztQQy1XaW5kb3dzOzEwLjAuMTc3NjM7V2luZG93c0JhaWR1WXVuR3VhbkppYSIsCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSk7CgogICAgICBzaG93UGFyYW1zID0gcGFyYW1zOwogICAgICBsaW5rTGlzdCA9IFtdOwogICAgICBpZiAocGFyYW1zLnR5cGUgPT0gJ2xpbmsnIHx8IHBhcmFtcy50eXBlID09ICdHTWxpbmsnKSB7CiAgICAgICAgbGlua0xpc3QgPSBwYXJhbXMubGlzdC51cmxzOwogICAgICAgICQoJ2Rpdi5kaWFsb2ctaGVhZGVyIGgzIHNwYW4uZGlhbG9nLXRpdGxlJywgZGlhbG9nKS50ZXh0KHBhcmFtcy50aXRsZSArICLvvJoiICsgcGFyYW1zLmxpc3QuZmlsZW5hbWUpOwogICAgICAgICQuZWFjaChwYXJhbXMubGlzdC51cmxzLCBmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHsKICAgICAgICAgIGlmIChwYXJhbXMudHlwZSA9PSAnR01saW5rJykgewogICAgICAgICAgICB2YXIgJGRpdiA9ICQoJzxkaXY+PGRpdiBzdHlsZT0id2lkdGg6MzBweDtmbG9hdDpsZWZ0Ij4nICsgZWxlbWVudC5yYW5rICsgJzo8L2Rpdj48ZGl2IHN0eWxlPSJ3aGl0ZS1zcGFjZTpub3dyYXA7b3ZlcmZsb3c6aGlkZGVuO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXMiPjxhIGNsYXNzPSJHTWxpbmsiIGhyZWY9ImphdmFzY3JpcHQ6OyI+JyArIGVsZW1lbnQudXJsICsgJzwvYT48L2Rpdj48L2Rpdj4nKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhciAkZGl2ID0gJCgnPGRpdj48ZGl2IHN0eWxlPSJ3aWR0aDozMHB4O2Zsb2F0OmxlZnQiPicgKyBlbGVtZW50LnJhbmsgKyAnOjwvZGl2PjxkaXYgc3R5bGU9IndoaXRlLXNwYWNlOm5vd3JhcDtvdmVyZmxvdzpoaWRkZW47dGV4dC1vdmVyZmxvdzplbGxpcHNpcyI+PGEgaHJlZj0iJyArIGVsZW1lbnQudXJsICsgJyI+JyArIGVsZW1lbnQudXJsICsgJzwvYT48L2Rpdj48L2Rpdj4nKTsKICAgICAgICAgIH0KCiAgICAgICAgICAkKCdkaXYuZGlhbG9nLWJvZHknLCBkaWFsb2cpLmFwcGVuZCgkZGl2KTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmIChwYXJhbXMudHlwZSA9PSAnYmF0Y2gnIHx8IHBhcmFtcy50eXBlID09ICdHTWJhdGNoJykgewogICAgICAgIGxpbmtMaXN0ID0gcGFyYW1zLmxpc3Q7CiAgICAgICAgJCgnZGl2LmRpYWxvZy1oZWFkZXIgaDMgc3Bhbi5kaWFsb2ctdGl0bGUnLCBkaWFsb2cpLnRleHQocGFyYW1zLnRpdGxlKTsKICAgICAgICBpZiAocGFyYW1zLnNob3dhbGwpIHsKICAgICAgICAgICQuZWFjaChwYXJhbXMubGlzdCwgZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7CiAgICAgICAgICAgIHZhciAkaXRlbV9kaXYgPSAkKCc8ZGl2IGNsYXNzPSJpdGVtLWNvbnRhaW5lciIgc3R5bGU9Im92ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO3doaXRlLXNwYWNlOm5vd3JhcCI+PC9kaXY+Jyk7CiAgICAgICAgICAgIHZhciAkaXRlbV9uYW1lID0gJCgnPGRpdiBzdHlsZT0id2lkdGg6MTAwcHg7ZmxvYXQ6bGVmdDtvdmVyZmxvdzpoaWRkZW47dGV4dC1vdmVyZmxvdzplbGxpcHNpcyIgdGl0bGU9IicgKyBlbGVtZW50LmZpbGVuYW1lICsgJyI+JyArIGVsZW1lbnQuZmlsZW5hbWUgKyAnPC9kaXY+Jyk7CiAgICAgICAgICAgIHZhciAkaXRlbV9zZXAgPSAkKCc8ZGl2IHN0eWxlPSJ3aWR0aDoxMnB4O2Zsb2F0OmxlZnQiPjxzcGFuPu+8mjwvc3Bhbj48L2Rpdj4nKTsKICAgICAgICAgICAgdmFyICRpdGVtX2xpbmtfZGl2ID0gJCgnPGRpdiBjbGFzcz0iaXRlbS1saW5rIiBzdHlsZT0iZmxvYXQ6bGVmdDt3aWR0aDo2MThweDsiPjwvZGl2PicpOwogICAgICAgICAgICB2YXIgJGl0ZW1fZmlyc3QgPSAkKCc8ZGl2IGNsYXNzPSJpdGVtLWZpcnN0IiBzdHlsZT0ib3ZlcmZsb3c6aGlkZGVuO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXMiPjxhIGhyZWY9IicgKyBlbGVtZW50LmRvd25sb2FkbGluayArICciPicgKyBlbGVtZW50LmRvd25sb2FkbGluayArICc8L2E+PC9kaXY+Jyk7CiAgICAgICAgICAgICRpdGVtX2xpbmtfZGl2LmFwcGVuZCgkaXRlbV9maXJzdCk7CiAgICAgICAgICAgICQuZWFjaChwYXJhbXMuYWxsbGlzdFtpbmRleF0ubGlua3MsIGZ1bmN0aW9uIChuLCBpdGVtKSB7CiAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuZG93bmxvYWRsaW5rID09IGl0ZW0udXJsKQogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgIGlmIChwYXJhbXMudHlwZSA9PSAnR01iYXRjaCcpIHsKICAgICAgICAgICAgICAgIHZhciAkaXRlbSA9ICQoJzxkaXYgY2xhc3M9Iml0ZW0tZXgiIHN0eWxlPSJkaXNwbGF5Om5vbmU7b3ZlcmZsb3c6aGlkZGVuO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXMiPjxhIGNsYXNzPSJHTWxpbmsiIGhyZWY9ImphdmFzY3JpcHQ6OyI+JyArIGl0ZW0udXJsICsgJzwvYT48L2Rpdj4nKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdmFyICRpdGVtID0gJCgnPGRpdiBjbGFzcz0iaXRlbS1leCIgc3R5bGU9ImRpc3BsYXk6bm9uZTtvdmVyZmxvdzpoaWRkZW47dGV4dC1vdmVyZmxvdzplbGxpcHNpcyI+PGEgaHJlZj0iJyArIGl0ZW0udXJsICsgJyI+JyArIGl0ZW0udXJsICsgJzwvYT48L2Rpdj4nKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICRpdGVtX2xpbmtfZGl2LmFwcGVuZCgkaXRlbSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB2YXIgJGl0ZW1fZXggPSAkKCc8ZGl2IHN0eWxlPSJ3aWR0aDoxNXB4O2Zsb2F0OmxlZnQ7Y3Vyc29yOnBvaW50ZXI7dGV4dC1hbGlnbjpjZW50ZXI7Zm9udC1zaXplOjE2cHgiPjxzcGFuPis8L3NwYW4+PC9kaXY+Jyk7CiAgICAgICAgICAgICRpdGVtX2Rpdi5hcHBlbmQoJGl0ZW1fbmFtZSkuYXBwZW5kKCRpdGVtX3NlcCkuYXBwZW5kKCRpdGVtX2xpbmtfZGl2KS5hcHBlbmQoJGl0ZW1fZXgpOwogICAgICAgICAgICAkaXRlbV9leC5jbGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgdmFyICRwYXJlbnQgPSAkKHRoaXMpLnBhcmVudCgpOwogICAgICAgICAgICAgICRwYXJlbnQudG9nZ2xlQ2xhc3MoJ3Nob3dhbGwnKTsKICAgICAgICAgICAgICBpZiAoJHBhcmVudC5oYXNDbGFzcygnc2hvd2FsbCcpKSB7CiAgICAgICAgICAgICAgICAkKHRoaXMpLnRleHQoJy0nKTsKICAgICAgICAgICAgICAgICQoJ2Rpdi5pdGVtLWxpbmsgZGl2Lml0ZW0tZXgnLCAkcGFyZW50KS5zaG93KCk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICQodGhpcykudGV4dCgnKycpOwogICAgICAgICAgICAgICAgJCgnZGl2Lml0ZW0tbGluayBkaXYuaXRlbS1leCcsICRwYXJlbnQpLmhpZGUoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAkKCdkaXYuZGlhbG9nLWJvZHknLCBkaWFsb2cpLmFwcGVuZCgkaXRlbV9kaXYpOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICQuZWFjaChwYXJhbXMubGlzdCwgZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7CiAgICAgICAgICAgIHZhciAkZGl2ID0gJCgnPGRpdiBzdHlsZT0ib3ZlcmZsb3c6aGlkZGVuO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7d2hpdGUtc3BhY2U6bm93cmFwIj48ZGl2IHN0eWxlPSJ3aWR0aDoxMDBweDtmbG9hdDpsZWZ0O292ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzIiB0aXRsZT0iJyArIGVsZW1lbnQuZmlsZW5hbWUgKyAnIj4nICsgZWxlbWVudC5maWxlbmFtZSArICc8L2Rpdj48c3Bhbj7vvJo8L3NwYW4+PGEgaHJlZj0iJyArIGVsZW1lbnQuZG93bmxvYWRsaW5rICsgJyI+JyArIGVsZW1lbnQuZG93bmxvYWRsaW5rICsgJzwvYT48L2Rpdj4nKTsKICAgICAgICAgICAgJCgnZGl2LmRpYWxvZy1ib2R5JywgZGlhbG9nKS5hcHBlbmQoJGRpdik7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChwYXJhbXMudGlwKSB7CiAgICAgICAgJCgnZGl2LmRpYWxvZy10aXAgcCcsIGRpYWxvZykuaHRtbChwYXJhbXMudGlwKTsKICAgICAgfQoKICAgICAgaWYgKHBhcmFtcy5zaG93Y29weSkgewogICAgICAgICQoJ2Rpdi5kaWFsb2ctYnV0dG9uJywgZGlhbG9nKS5zaG93KCk7CiAgICAgICAgJCgnZGl2LmRpYWxvZy1idXR0b24gYnV0dG9uI2RpYWxvZy1jb3B5LWJ1dHRvbicsIGRpYWxvZykuc2hvdygpOwogICAgICB9CiAgICAgIGlmIChwYXJhbXMuc2hvd2VkaXQpIHsKICAgICAgICAkKCdkaXYuZGlhbG9nLWJ1dHRvbicsIGRpYWxvZykuc2hvdygpOwogICAgICAgICQoJ2Rpdi5kaWFsb2ctYnV0dG9uIGJ1dHRvbiNkaWFsb2ctZWRpdC1idXR0b24nLCBkaWFsb2cpLnNob3coKTsKICAgICAgICB2YXIgJGRpYWxvZ190ZXh0YXJlYSA9ICQoJzx0ZXh0YXJlYSBuYW1lPSJkaWFsb2ctdGV4dGFyZWEiIHN0eWxlPSJkaXNwbGF5Om5vbmU7cmVzaXplOm5vbmU7d2lkdGg6NzU4cHg7aGVpZ2h0OjMwMHB4O3doaXRlLXNwYWNlOnByZTt3b3JkLXdyYXA6bm9ybWFsO292ZXJmbG93LXg6c2Nyb2xsIj48L3RleHRhcmVhPicpOwogICAgICAgIHZhciBjb250ZW50ID0gJyc7CiAgICAgICAgaWYgKHNob3dQYXJhbXMudHlwZSA9PSAnYmF0Y2gnKSB7CiAgICAgICAgICAkLmVhY2gobGlua0xpc3QsIGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkgewogICAgICAgICAgICBpZiAoZWxlbWVudC5kb3dubG9hZGxpbmsgPT0gJ2Vycm9yJykKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIGlmIChpbmRleCA9PSBsaW5rTGlzdC5sZW5ndGggLSAxKQogICAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50ICsgZWxlbWVudC5kb3dubG9hZGxpbms7CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICBjb250ZW50ID0gY29udGVudCArIGVsZW1lbnQuZG93bmxvYWRsaW5rICsgJ1xuJzsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSBpZiAoc2hvd1BhcmFtcy50eXBlID09ICdsaW5rJykgewogICAgICAgICAgJC5lYWNoKGxpbmtMaXN0LCBmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHsKICAgICAgICAgICAgaWYgKGVsZW1lbnQudXJsID09ICdlcnJvcicpCiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICBpZiAoaW5kZXggPT0gbGlua0xpc3QubGVuZ3RoIC0gMSkKICAgICAgICAgICAgICBjb250ZW50ID0gY29udGVudCArIGVsZW1lbnQudXJsOwogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQgKyBlbGVtZW50LnVybCArICdcbic7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgJGRpYWxvZ190ZXh0YXJlYS52YWwoY29udGVudCk7CiAgICAgICAgJCgnZGl2LmRpYWxvZy1ib2R5JywgZGlhbG9nKS5hcHBlbmQoJGRpYWxvZ190ZXh0YXJlYSk7CiAgICAgIH0KCiAgICAgIHNoYWRvdy5zaG93KCk7CiAgICAgIGRpYWxvZy5zaG93KCk7CiAgICB9OwoKICAgIHRoaXMuY2xvc2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgIGRpYWxvZ0NvbnRyb2woKTsKICAgIH07CgogICAgZnVuY3Rpb24gZGlhbG9nQ29udHJvbCgpIHsKICAgICAgJCgnZGl2LmRpYWxvZy1ib2R5JywgZGlhbG9nKS5jaGlsZHJlbigpLnJlbW92ZSgpOwogICAgICAkKCdkaXYuZGlhbG9nLWhlYWRlciBoMyBzcGFuLmRpYWxvZy10aXRsZScsIGRpYWxvZykudGV4dCgnJyk7CiAgICAgICQoJ2Rpdi5kaWFsb2ctdGlwIHAnLCBkaWFsb2cpLnRleHQoJycpOwogICAgICAkKCdkaXYuZGlhbG9nLWJ1dHRvbicsIGRpYWxvZykuaGlkZSgpOwogICAgICAkKCdkaXYuZGlhbG9nLXJhZGlvIGlucHV0W3R5cGU9cmFkaW9dW25hbWU9c2hvd21vZGVdW3ZhbHVlPW11bHRpXScsIGRpYWxvZykucHJvcCgnY2hlY2tlZCcsIHRydWUpOwogICAgICAkKCdkaXYuZGlhbG9nLXJhZGlvJywgZGlhbG9nKS5oaWRlKCk7CiAgICAgICQoJ2Rpdi5kaWFsb2ctYnV0dG9uIGJ1dHRvbiNkaWFsb2ctY29weS1idXR0b24nLCBkaWFsb2cpLmhpZGUoKTsKICAgICAgJCgnZGl2LmRpYWxvZy1idXR0b24gYnV0dG9uI2RpYWxvZy1lZGl0LWJ1dHRvbicsIGRpYWxvZykuaGlkZSgpOwogICAgICAkKCdkaXYuZGlhbG9nLWJ1dHRvbiBidXR0b24jZGlhbG9nLWV4aXQtYnV0dG9uJywgZGlhbG9nKS5oaWRlKCk7CiAgICAgIGRpYWxvZy5oaWRlKCk7CiAgICAgIHNoYWRvdy5oaWRlKCk7CiAgICB9CgogICAgZGlhbG9nID0gY3JlYXRlRGlhbG9nKCk7CiAgICBzaGFkb3cgPSBjcmVhdGVTaGFkb3coKTsKICB9CgogIGZ1bmN0aW9uIFZDb2RlRGlhbG9nKHJlZnJlc2hWQ29kZSwgY29uZmlybUNsaWNrKSB7CiAgICB2YXIgZGlhbG9nLCBzaGFkb3c7CgogICAgZnVuY3Rpb24gY3JlYXRlRGlhbG9nKCkgewogICAgICB2YXIgc2NyZWVuV2lkdGggPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoOwogICAgICB2YXIgZGlhbG9nTGVmdCA9IHNjcmVlbldpZHRoID4gNTIwID8gKHNjcmVlbldpZHRoIC0gNTIwKSAvIDIgOiAwOwogICAgICB2YXIgJGRpYWxvZ19kaXYgPSAkKCc8ZGl2IGNsYXNzPSJkaWFsb2ciIGlkPSJkaWFsb2ctdmNvZGUiIHN0eWxlPSJ3aWR0aDo1MjBweDt0b3A6MHB4O2JvdHRvbTphdXRvO2xlZnQ6JyArIGRpYWxvZ0xlZnQgKyAncHg7cmlnaHQ6YXV0bztkaXNwbGF5Om5vbmU7dmlzaWJpbGl0eTp2aXNpYmxlO3otaW5kZXg6NTIiPjwvZGl2PicpOwogICAgICB2YXIgJGRpYWxvZ19oZWFkZXIgPSAkKCc8ZGl2IGNsYXNzPSJkaWFsb2ctaGVhZGVyIj48aDM+PHNwYW4gY2xhc3M9ImRpYWxvZy1oZWFkZXItdGl0bGUiPjxlbSBjbGFzcz0ic2VsZWN0LXRleHQiPuaPkOekujwvZW0+PC9zcGFuPjwvaDM+PC9kaXY+Jyk7CiAgICAgIHZhciAkZGlhbG9nX2NvbnRyb2wgPSAkKCc8ZGl2IGNsYXNzPSJkaWFsb2ctY29udHJvbCI+PHNwYW4gY2xhc3M9ImRpYWxvZy1pY29uIGRpYWxvZy1jbG9zZSBpY29uIGljb24tY2xvc2UiPjxzcGFuIGNsYXNzPSJzaWNvbiI+eDwvc3Bhbj48L3NwYW4+PC9kaXY+Jyk7CiAgICAgIHZhciAkZGlhbG9nX2JvZHkgPSAkKCc8ZGl2IGNsYXNzPSJkaWFsb2ctYm9keSI+PC9kaXY+Jyk7CiAgICAgIHZhciAkZGlhbG9nX2JvZHlfZGl2ID0gJCgnPGRpdiBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXI7cGFkZGluZzoyMnB4Ij48L2Rpdj4nKTsKICAgICAgdmFyICRkaWFsb2dfYm9keV9kb3dubG9hZF92ZXJpZnkgPSAkKCc8ZGl2IGNsYXNzPSJkb3dubG9hZC12ZXJpZnkiIHN0eWxlPSJtYXJnaW4tdG9wOjEwcHg7cGFkZGluZzowIDI4cHg7dGV4dC1hbGlnbjpsZWZ0O2ZvbnQtc2l6ZToxMnB4OyI+PC9kaXY+Jyk7CiAgICAgIHZhciAkZGlhbG9nX3ZlcmlmeV9ib2R5ID0gJCgnPGRpdiBjbGFzcz0idmVyaWZ5LWJvZHkiPuivt+i+k+WFpemqjOivgeegge+8mjwvZGl2PicpOwogICAgICB2YXIgJGRpYWxvZ19pbnB1dCA9ICQoJzxpbnB1dCBpZD0iZGlhbG9nLWlucHV0IiB0eXBlPSJ0ZXh0IiBzdHlsZT0icGFkZGluZzozcHg7d2lkdGg6ODVweDtoZWlnaHQ6MjNweDtib3JkZXI6MXB4IHNvbGlkICNjNmM2YzY7YmFja2dyb3VuZC1jb2xvcjp3aGl0ZTt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7IiBjbGFzcz0iaW5wdXQtY29kZSIgbWF4bGVuZ3RoPSI0Ij4nKTsKICAgICAgdmFyICRkaWFsb2dfaW1nID0gJCgnPGltZyBpZD0iZGlhbG9nLWltZyIgY2xhc3M9ImltZy1jb2RlIiBzdHlsZT0ibWFyZ2luLWxlZnQ6MTBweDt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7IiBhbHQ9IueCueWHu+aNouS4gOW8oCIgc3JjPSIiIHdpZHRoPSIxMDAiIGhlaWdodD0iMzAiPicpOwogICAgICB2YXIgJGRpYWxvZ19yZWZyZXNoID0gJCgnPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBzdHlsZT0idGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZTsiIGNsYXNzPSJ1bmRlcmxpbmUiPuaNouS4gOW8oDwvYT4nKTsKICAgICAgdmFyICRkaWFsb2dfZXJyID0gJCgnPGRpdiBpZD0iZGlhbG9nLWVyciIgc3R5bGU9InBhZGRpbmctbGVmdDo4NHB4O2hlaWdodDoxOHB4O2NvbG9yOiNkODAwMDAiIGNsYXNzPSJ2ZXJpZnktZXJyb3IiPjwvZGl2PicpOwogICAgICB2YXIgJGRpYWxvZ19mb290ZXIgPSAkKCc8ZGl2IGNsYXNzPSJkaWFsb2ctZm9vdGVyIGctY2xlYXJmaXgiPjwvZGl2PicpOwogICAgICB2YXIgJGRpYWxvZ19jb25maXJtX2J1dHRvbiA9ICQoJzxhIGNsYXNzPSJnLWJ1dHRvbiBnLWJ1dHRvbi1ibHVlIiBkYXRhLWJ1dHRvbi1pZD0iIiBkYXRhLWJ1dHRvbi1pbmRleCBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIHN0eWxlPSJwYWRkaW5nLWxlZnQ6MzZweCI+PHNwYW4gY2xhc3M9ImctYnV0dG9uLXJpZ2h0IiBzdHlsZT0icGFkZGluZy1yaWdodDozNnB4OyI+PHNwYW4gY2xhc3M9InRleHQiIHN0eWxlPSJ3aWR0aDphdXRvOyI+56Gu5a6aPC9zcGFuPjwvc3Bhbj48L2E+Jyk7CiAgICAgIHZhciAkZGlhbG9nX2NhbmNlbF9idXR0b24gPSAkKCc8YSBjbGFzcz0iZy1idXR0b24iIGRhdGEtYnV0dG9uLWlkPSIiIGRhdGEtYnV0dG9uLWluZGV4IGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiIHN0eWxlPSJwYWRkaW5nLWxlZnQ6IDM2cHg7Ij48c3BhbiBjbGFzcz0iZy1idXR0b24tcmlnaHQiIHN0eWxlPSJwYWRkaW5nLXJpZ2h0OiAzNnB4OyI+PHNwYW4gY2xhc3M9InRleHQiIHN0eWxlPSJ3aWR0aDogYXV0bzsiPuWPlua2iDwvc3Bhbj48L3NwYW4+PC9hPicpOwoKICAgICAgJGRpYWxvZ19oZWFkZXIuYXBwZW5kKCRkaWFsb2dfY29udHJvbCk7CiAgICAgICRkaWFsb2dfdmVyaWZ5X2JvZHkuYXBwZW5kKCRkaWFsb2dfaW5wdXQpLmFwcGVuZCgkZGlhbG9nX2ltZykuYXBwZW5kKCRkaWFsb2dfcmVmcmVzaCk7CiAgICAgICRkaWFsb2dfYm9keV9kb3dubG9hZF92ZXJpZnkuYXBwZW5kKCRkaWFsb2dfdmVyaWZ5X2JvZHkpLmFwcGVuZCgkZGlhbG9nX2Vycik7CiAgICAgICRkaWFsb2dfYm9keV9kaXYuYXBwZW5kKCRkaWFsb2dfYm9keV9kb3dubG9hZF92ZXJpZnkpOwogICAgICAkZGlhbG9nX2JvZHkuYXBwZW5kKCRkaWFsb2dfYm9keV9kaXYpOwogICAgICAkZGlhbG9nX2Zvb3Rlci5hcHBlbmQoJGRpYWxvZ19jb25maXJtX2J1dHRvbikuYXBwZW5kKCRkaWFsb2dfY2FuY2VsX2J1dHRvbik7CiAgICAgICRkaWFsb2dfZGl2LmFwcGVuZCgkZGlhbG9nX2hlYWRlcikuYXBwZW5kKCRkaWFsb2dfYm9keSkuYXBwZW5kKCRkaWFsb2dfZm9vdGVyKTsKICAgICAgJCgnYm9keScpLmFwcGVuZCgkZGlhbG9nX2Rpdik7CgogICAgICAkZGlhbG9nX2Rpdi5kaWFsb2dEcmFnKCk7CgogICAgICAkZGlhbG9nX2NvbnRyb2wuY2xpY2soZGlhbG9nQ29udHJvbCk7CiAgICAgICRkaWFsb2dfaW1nLmNsaWNrKHJlZnJlc2hWQ29kZSk7CiAgICAgICRkaWFsb2dfcmVmcmVzaC5jbGljayhyZWZyZXNoVkNvZGUpOwogICAgICAkZGlhbG9nX2lucHV0LmtleXByZXNzKGZ1bmN0aW9uIChldmVudCkgewogICAgICAgIGlmIChldmVudC53aGljaCA9PSAxMykKICAgICAgICAgIGNvbmZpcm1DbGljaygpOwogICAgICB9KTsKICAgICAgJGRpYWxvZ19jb25maXJtX2J1dHRvbi5jbGljayhjb25maXJtQ2xpY2spOwogICAgICAkZGlhbG9nX2NhbmNlbF9idXR0b24uY2xpY2soZGlhbG9nQ29udHJvbCk7CiAgICAgICRkaWFsb2dfaW5wdXQuY2xpY2soZnVuY3Rpb24gKCkgewogICAgICAgICQoJyNkaWFsb2ctZXJyJykudGV4dCgnJyk7CiAgICAgIH0pOwogICAgICByZXR1cm4gJGRpYWxvZ19kaXY7CiAgICB9CgogICAgdGhpcy5vcGVuID0gZnVuY3Rpb24gKHZjb2RlKSB7CiAgICAgIGlmICh2Y29kZSkKICAgICAgICAkKCcjZGlhbG9nLWltZycpLmF0dHIoJ3NyYycsIHZjb2RlLmltZyk7CiAgICAgIGRpYWxvZy5zaG93KCk7CiAgICAgIHNoYWRvdy5zaG93KCk7CiAgICB9OwogICAgdGhpcy5jbG9zZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgZGlhbG9nQ29udHJvbCgpOwogICAgfTsKICAgIGRpYWxvZyA9IGNyZWF0ZURpYWxvZygpOwogICAgc2hhZG93ID0gJCgnZGl2LmRpYWxvZy1zaGFkb3cnKTsKCiAgICBmdW5jdGlvbiBkaWFsb2dDb250cm9sKCkgewogICAgICAkKCcjZGlhbG9nLWltZycsIGRpYWxvZykuYXR0cignc3JjJywgJycpOwogICAgICAkKCcjZGlhbG9nLWVycicpLnRleHQoJycpOwogICAgICBkaWFsb2cuaGlkZSgpOwogICAgICBzaGFkb3cuaGlkZSgpOwogICAgfQogIH0KCiAgJC5mbi5kaWFsb2dEcmFnID0gZnVuY3Rpb24gKCkgewogICAgdmFyIG1vdXNlSW5pdFgsIG1vdXNlSW5pdFksIGRpYWxvZ0luaXRYLCBkaWFsb2dJbml0WTsKICAgIHZhciBzY3JlZW5XaWR0aCA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7CiAgICB2YXIgJHBhcmVudCA9IHRoaXM7CiAgICAkKCdkaXYuZGlhbG9nLWhlYWRlcicsIHRoaXMpLm1vdXNlZG93bihmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgbW91c2VJbml0WCA9IHBhcnNlSW50KGV2ZW50LnBhZ2VYKTsKICAgICAgbW91c2VJbml0WSA9IHBhcnNlSW50KGV2ZW50LnBhZ2VZKTsKICAgICAgZGlhbG9nSW5pdFggPSBwYXJzZUludCgkcGFyZW50LmNzcygnbGVmdCcpLnJlcGxhY2UoJ3B4JywgJycpKTsKICAgICAgZGlhbG9nSW5pdFkgPSBwYXJzZUludCgkcGFyZW50LmNzcygndG9wJykucmVwbGFjZSgncHgnLCAnJykpOwogICAgICAkKHRoaXMpLm1vdXNlbW92ZShmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICB2YXIgdGVtcFggPSBkaWFsb2dJbml0WCArIHBhcnNlSW50KGV2ZW50LnBhZ2VYKSAtIG1vdXNlSW5pdFg7CiAgICAgICAgdmFyIHRlbXBZID0gZGlhbG9nSW5pdFkgKyBwYXJzZUludChldmVudC5wYWdlWSkgLSBtb3VzZUluaXRZOwogICAgICAgIHZhciB3aWR0aCA9IHBhcnNlSW50KCRwYXJlbnQuY3NzKCd3aWR0aCcpLnJlcGxhY2UoJ3B4JywgJycpKTsKICAgICAgICB0ZW1wWCA9IHRlbXBYIDwgMCA/IDAgOiB0ZW1wWCA+IHNjcmVlbldpZHRoIC0gd2lkdGggPyBzY3JlZW5XaWR0aCAtIHdpZHRoIDogdGVtcFg7CiAgICAgICAgdGVtcFkgPSB0ZW1wWSA8IDAgPyAwIDogdGVtcFk7CiAgICAgICAgJHBhcmVudC5jc3MoJ2xlZnQnLCB0ZW1wWCArICdweCcpLmNzcygndG9wJywgdGVtcFkgKyAncHgnKTsKICAgICAgfSk7CiAgICB9KTsKICAgICQoJ2Rpdi5kaWFsb2ctaGVhZGVyJywgdGhpcykubW91c2V1cChmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgJCh0aGlzKS51bmJpbmQoJ21vdXNlbW92ZScpOwogICAgfSk7CiAgfQoKfSkoKTsK","requires":[{"meta":{"name":"jquery.min.js","url":"https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js","ts":1553822931846,"mimetype":"text/javascript"},"source":"LyohIGpRdWVyeSB2MS4xMi40IHwgKGMpIGpRdWVyeSBGb3VuZGF0aW9uIHwganF1ZXJ5Lm9yZy9saWNlbnNlICovCiFmdW5jdGlvbihhLGIpeyJvYmplY3QiPT10eXBlb2YgbW9kdWxlJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPWEuZG9jdW1lbnQ/YihhLCEwKTpmdW5jdGlvbihhKXtpZighYS5kb2N1bWVudCl0aHJvdyBuZXcgRXJyb3IoImpRdWVyeSByZXF1aXJlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnQiKTtyZXR1cm4gYihhKX06YihhKX0oInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnRoaXMsZnVuY3Rpb24oYSxiKXt2YXIgYz1bXSxkPWEuZG9jdW1lbnQsZT1jLnNsaWNlLGY9Yy5jb25jYXQsZz1jLnB1c2gsaD1jLmluZGV4T2YsaT17fSxqPWkudG9TdHJpbmcsaz1pLmhhc093blByb3BlcnR5LGw9e30sbT0iMS4xMi40IixuPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBuLmZuLmluaXQoYSxiKX0sbz0vXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2cscD0vXi1tcy0vLHE9Ly0oW1xkYS16XSkvZ2kscj1mdW5jdGlvbihhLGIpe3JldHVybiBiLnRvVXBwZXJDYXNlKCl9O24uZm49bi5wcm90b3R5cGU9e2pxdWVyeTptLGNvbnN0cnVjdG9yOm4sc2VsZWN0b3I6IiIsbGVuZ3RoOjAsdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBlLmNhbGwodGhpcyl9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT8wPmE/dGhpc1thK3RoaXMubGVuZ3RoXTp0aGlzW2FdOmUuY2FsbCh0aGlzKX0scHVzaFN0YWNrOmZ1bmN0aW9uKGEpe3ZhciBiPW4ubWVyZ2UodGhpcy5jb25zdHJ1Y3RvcigpLGEpO3JldHVybiBiLnByZXZPYmplY3Q9dGhpcyxiLmNvbnRleHQ9dGhpcy5jb250ZXh0LGJ9LGVhY2g6ZnVuY3Rpb24oYSl7cmV0dXJuIG4uZWFjaCh0aGlzLGEpfSxtYXA6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKG4ubWFwKHRoaXMsZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5jYWxsKGIsYyxiKX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxlcTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmxlbmd0aCxjPSthKygwPmE/YjowKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soYz49MCYmYj5jP1t0aGlzW2NdXTpbXSl9LGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZPYmplY3R8fHRoaXMuY29uc3RydWN0b3IoKX0scHVzaDpnLHNvcnQ6Yy5zb3J0LHNwbGljZTpjLnNwbGljZX0sbi5leHRlbmQ9bi5mbi5leHRlbmQ9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZCxlLGYsZz1hcmd1bWVudHNbMF18fHt9LGg9MSxpPWFyZ3VtZW50cy5sZW5ndGgsaj0hMTtmb3IoImJvb2xlYW4iPT10eXBlb2YgZyYmKGo9ZyxnPWFyZ3VtZW50c1toXXx8e30saCsrKSwib2JqZWN0Ij09dHlwZW9mIGd8fG4uaXNGdW5jdGlvbihnKXx8KGc9e30pLGg9PT1pJiYoZz10aGlzLGgtLSk7aT5oO2grKylpZihudWxsIT0oZT1hcmd1bWVudHNbaF0pKWZvcihkIGluIGUpYT1nW2RdLGM9ZVtkXSxnIT09YyYmKGomJmMmJihuLmlzUGxhaW5PYmplY3QoYyl8fChiPW4uaXNBcnJheShjKSkpPyhiPyhiPSExLGY9YSYmbi5pc0FycmF5KGEpP2E6W10pOmY9YSYmbi5pc1BsYWluT2JqZWN0KGEpP2E6e30sZ1tkXT1uLmV4dGVuZChqLGYsYykpOnZvaWQgMCE9PWMmJihnW2RdPWMpKTtyZXR1cm4gZ30sbi5leHRlbmQoe2V4cGFuZG86ImpRdWVyeSIrKG0rTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXEQvZywiIiksaXNSZWFkeTohMCxlcnJvcjpmdW5jdGlvbihhKXt0aHJvdyBuZXcgRXJyb3IoYSl9LG5vb3A6ZnVuY3Rpb24oKXt9LGlzRnVuY3Rpb246ZnVuY3Rpb24oYSl7cmV0dXJuImZ1bmN0aW9uIj09PW4udHlwZShhKX0saXNBcnJheTpBcnJheS5pc0FycmF5fHxmdW5jdGlvbihhKXtyZXR1cm4iYXJyYXkiPT09bi50eXBlKGEpfSxpc1dpbmRvdzpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmYT09YS53aW5kb3d9LGlzTnVtZXJpYzpmdW5jdGlvbihhKXt2YXIgYj1hJiZhLnRvU3RyaW5nKCk7cmV0dXJuIW4uaXNBcnJheShhKSYmYi1wYXJzZUZsb2F0KGIpKzE+PTB9LGlzRW1wdHlPYmplY3Q6ZnVuY3Rpb24oYSl7dmFyIGI7Zm9yKGIgaW4gYSlyZXR1cm4hMTtyZXR1cm4hMH0saXNQbGFpbk9iamVjdDpmdW5jdGlvbihhKXt2YXIgYjtpZighYXx8Im9iamVjdCIhPT1uLnR5cGUoYSl8fGEubm9kZVR5cGV8fG4uaXNXaW5kb3coYSkpcmV0dXJuITE7dHJ5e2lmKGEuY29uc3RydWN0b3ImJiFrLmNhbGwoYSwiY29uc3RydWN0b3IiKSYmIWsuY2FsbChhLmNvbnN0cnVjdG9yLnByb3RvdHlwZSwiaXNQcm90b3R5cGVPZiIpKXJldHVybiExfWNhdGNoKGMpe3JldHVybiExfWlmKCFsLm93bkZpcnN0KWZvcihiIGluIGEpcmV0dXJuIGsuY2FsbChhLGIpO2ZvcihiIGluIGEpO3JldHVybiB2b2lkIDA9PT1ifHxrLmNhbGwoYSxiKX0sdHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT9hKyIiOiJvYmplY3QiPT10eXBlb2YgYXx8ImZ1bmN0aW9uIj09dHlwZW9mIGE/aVtqLmNhbGwoYSldfHwib2JqZWN0Ijp0eXBlb2YgYX0sZ2xvYmFsRXZhbDpmdW5jdGlvbihiKXtiJiZuLnRyaW0oYikmJihhLmV4ZWNTY3JpcHR8fGZ1bmN0aW9uKGIpe2EuZXZhbC5jYWxsKGEsYil9KShiKX0sY2FtZWxDYXNlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UocCwibXMtIikucmVwbGFjZShxLHIpfSxub2RlTmFtZTpmdW5jdGlvbihhLGIpe3JldHVybiBhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1iLnRvTG93ZXJDYXNlKCl9LGVhY2g6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPTA7aWYocyhhKSl7Zm9yKGM9YS5sZW5ndGg7Yz5kO2QrKylpZihiLmNhbGwoYVtkXSxkLGFbZF0pPT09ITEpYnJlYWt9ZWxzZSBmb3IoZCBpbiBhKWlmKGIuY2FsbChhW2RdLGQsYVtkXSk9PT0hMSlicmVhaztyZXR1cm4gYX0sdHJpbTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT8iIjooYSsiIikucmVwbGFjZShvLCIiKX0sbWFrZUFycmF5OmZ1bmN0aW9uKGEsYil7dmFyIGM9Ynx8W107cmV0dXJuIG51bGwhPWEmJihzKE9iamVjdChhKSk/bi5tZXJnZShjLCJzdHJpbmciPT10eXBlb2YgYT9bYV06YSk6Zy5jYWxsKGMsYSkpLGN9LGluQXJyYXk6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO2lmKGIpe2lmKGgpcmV0dXJuIGguY2FsbChiLGEsYyk7Zm9yKGQ9Yi5sZW5ndGgsYz1jPzA+Yz9NYXRoLm1heCgwLGQrYyk6YzowO2Q+YztjKyspaWYoYyBpbiBiJiZiW2NdPT09YSlyZXR1cm4gY31yZXR1cm4tMX0sbWVyZ2U6ZnVuY3Rpb24oYSxiKXt2YXIgYz0rYi5sZW5ndGgsZD0wLGU9YS5sZW5ndGg7d2hpbGUoYz5kKWFbZSsrXT1iW2QrK107aWYoYyE9PWMpd2hpbGUodm9pZCAwIT09YltkXSlhW2UrK109YltkKytdO3JldHVybiBhLmxlbmd0aD1lLGF9LGdyZXA6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZCxlPVtdLGY9MCxnPWEubGVuZ3RoLGg9IWM7Zz5mO2YrKylkPSFiKGFbZl0sZiksZCE9PWgmJmUucHVzaChhW2ZdKTtyZXR1cm4gZX0sbWFwOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGc9MCxoPVtdO2lmKHMoYSkpZm9yKGQ9YS5sZW5ndGg7ZD5nO2crKyllPWIoYVtnXSxnLGMpLG51bGwhPWUmJmgucHVzaChlKTtlbHNlIGZvcihnIGluIGEpZT1iKGFbZ10sZyxjKSxudWxsIT1lJiZoLnB1c2goZSk7cmV0dXJuIGYuYXBwbHkoW10saCl9LGd1aWQ6MSxwcm94eTpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZjtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGImJihmPWFbYl0sYj1hLGE9Ziksbi5pc0Z1bmN0aW9uKGEpPyhjPWUuY2FsbChhcmd1bWVudHMsMiksZD1mdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGJ8fHRoaXMsYy5jb25jYXQoZS5jYWxsKGFyZ3VtZW50cykpKX0sZC5ndWlkPWEuZ3VpZD1hLmd1aWR8fG4uZ3VpZCsrLGQpOnZvaWQgMH0sbm93OmZ1bmN0aW9uKCl7cmV0dXJuK25ldyBEYXRlfSxzdXBwb3J0Omx9KSwiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYobi5mbltTeW1ib2wuaXRlcmF0b3JdPWNbU3ltYm9sLml0ZXJhdG9yXSksbi5lYWNoKCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yIFN5bWJvbCIuc3BsaXQoIiAiKSxmdW5jdGlvbihhLGIpe2lbIltvYmplY3QgIitiKyJdIl09Yi50b0xvd2VyQ2FzZSgpfSk7ZnVuY3Rpb24gcyhhKXt2YXIgYj0hIWEmJiJsZW5ndGgiaW4gYSYmYS5sZW5ndGgsYz1uLnR5cGUoYSk7cmV0dXJuImZ1bmN0aW9uIj09PWN8fG4uaXNXaW5kb3coYSk/ITE6ImFycmF5Ij09PWN8fDA9PT1ifHwibnVtYmVyIj09dHlwZW9mIGImJmI+MCYmYi0xIGluIGF9dmFyIHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdT0ic2l6emxlIisxKm5ldyBEYXRlLHY9YS5kb2N1bWVudCx3PTAseD0wLHk9Z2EoKSx6PWdhKCksQT1nYSgpLEI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWImJihsPSEwKSwwfSxDPTE8PDMxLEQ9e30uaGFzT3duUHJvcGVydHksRT1bXSxGPUUucG9wLEc9RS5wdXNoLEg9RS5wdXNoLEk9RS5zbGljZSxKPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtkPmM7YysrKWlmKGFbY109PT1iKXJldHVybiBjO3JldHVybi0xfSxLPSJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCIsTD0iW1xceDIwXFx0XFxyXFxuXFxmXSIsTT0iKD86XFxcXC58W1xcdy1dfFteXFx4MDAtXFx4YTBdKSsiLE49IlxcWyIrTCsiKigiK00rIikoPzoiK0wrIiooWypeJHwhfl0/PSkiK0wrIiooPzonKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcInwoIitNKyIpKXwpIitMKyIqXFxdIixPPSI6KCIrTSsiKSg/OlxcKCgoJygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCIpfCgoPzpcXFxcLnxbXlxcXFwoKVtcXF1dfCIrTisiKSopfC4qKVxcKXwpIixQPW5ldyBSZWdFeHAoTCsiKyIsImciKSxRPW5ldyBSZWdFeHAoIl4iK0wrIit8KCg/Ol58W15cXFxcXSkoPzpcXFxcLikqKSIrTCsiKyQiLCJnIiksUj1uZXcgUmVnRXhwKCJeIitMKyIqLCIrTCsiKiIpLFM9bmV3IFJlZ0V4cCgiXiIrTCsiKihbPit+XXwiK0wrIikiK0wrIioiKSxUPW5ldyBSZWdFeHAoIj0iK0wrIiooW15cXF0nXCJdKj8pIitMKyIqXFxdIiwiZyIpLFU9bmV3IFJlZ0V4cChPKSxWPW5ldyBSZWdFeHAoIl4iK00rIiQiKSxXPXtJRDpuZXcgUmVnRXhwKCJeIygiK00rIikiKSxDTEFTUzpuZXcgUmVnRXhwKCJeXFwuKCIrTSsiKSIpLFRBRzpuZXcgUmVnRXhwKCJeKCIrTSsifFsqXSkiKSxBVFRSOm5ldyBSZWdFeHAoIl4iK04pLFBTRVVETzpuZXcgUmVnRXhwKCJeIitPKSxDSElMRDpuZXcgUmVnRXhwKCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXCgiK0wrIiooZXZlbnxvZGR8KChbKy1dfCkoXFxkKilufCkiK0wrIiooPzooWystXXwpIitMKyIqKFxcZCspfCkpIitMKyIqXFwpfCkiLCJpIiksYm9vbDpuZXcgUmVnRXhwKCJeKD86IitLKyIpJCIsImkiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cCgiXiIrTCsiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFwoIitMKyIqKCg/Oi1cXGQpP1xcZCopIitMKyIqXFwpfCkoPz1bXi1dfCQpIiwiaSIpfSxYPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksWT0vXmhcZCQvaSxaPS9eW157XStce1xzKlxbbmF0aXZlIFx3LywkPS9eKD86IyhbXHctXSspfChcdyspfFwuKFtcdy1dKykpJC8sXz0vWyt+XS8sYWE9Lyd8XFwvZyxiYT1uZXcgUmVnRXhwKCJcXFxcKFtcXGRhLWZdezEsNn0iK0wrIj98KCIrTCsiKXwuKSIsImlnIiksY2E9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSIweCIrYi02NTUzNjtyZXR1cm4gZCE9PWR8fGM/YjowPmQ/U3RyaW5nLmZyb21DaGFyQ29kZShkKzY1NTM2KTpTdHJpbmcuZnJvbUNoYXJDb2RlKGQ+PjEwfDU1Mjk2LDEwMjMmZHw1NjMyMCl9LGRhPWZ1bmN0aW9uKCl7bSgpfTt0cnl7SC5hcHBseShFPUkuY2FsbCh2LmNoaWxkTm9kZXMpLHYuY2hpbGROb2RlcyksRVt2LmNoaWxkTm9kZXMubGVuZ3RoXS5ub2RlVHlwZX1jYXRjaChlYSl7SD17YXBwbHk6RS5sZW5ndGg/ZnVuY3Rpb24oYSxiKXtHLmFwcGx5KGEsSS5jYWxsKGIpKX06ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmxlbmd0aCxkPTA7d2hpbGUoYVtjKytdPWJbZCsrXSk7YS5sZW5ndGg9Yy0xfX19ZnVuY3Rpb24gZmEoYSxiLGQsZSl7dmFyIGYsaCxqLGssbCxvLHIscyx3PWImJmIub3duZXJEb2N1bWVudCx4PWI/Yi5ub2RlVHlwZTo5O2lmKGQ9ZHx8W10sInN0cmluZyIhPXR5cGVvZiBhfHwhYXx8MSE9PXgmJjkhPT14JiYxMSE9PXgpcmV0dXJuIGQ7aWYoIWUmJigoYj9iLm93bmVyRG9jdW1lbnR8fGI6dikhPT1uJiZtKGIpLGI9Ynx8bixwKSl7aWYoMTEhPT14JiYobz0kLmV4ZWMoYSkpKWlmKGY9b1sxXSl7aWYoOT09PXgpe2lmKCEoaj1iLmdldEVsZW1lbnRCeUlkKGYpKSlyZXR1cm4gZDtpZihqLmlkPT09ZilyZXR1cm4gZC5wdXNoKGopLGR9ZWxzZSBpZih3JiYoaj13LmdldEVsZW1lbnRCeUlkKGYpKSYmdChiLGopJiZqLmlkPT09ZilyZXR1cm4gZC5wdXNoKGopLGR9ZWxzZXtpZihvWzJdKXJldHVybiBILmFwcGx5KGQsYi5nZXRFbGVtZW50c0J5VGFnTmFtZShhKSksZDtpZigoZj1vWzNdKSYmYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpcmV0dXJuIEguYXBwbHkoZCxiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoZikpLGR9aWYoYy5xc2EmJiFBW2ErIiAiXSYmKCFxfHwhcS50ZXN0KGEpKSl7aWYoMSE9PXgpdz1iLHM9YTtlbHNlIGlmKCJvYmplY3QiIT09Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXsoaz1iLmdldEF0dHJpYnV0ZSgiaWQiKSk/az1rLnJlcGxhY2UoYWEsIlxcJCYiKTpiLnNldEF0dHJpYnV0ZSgiaWQiLGs9dSkscj1nKGEpLGg9ci5sZW5ndGgsbD1WLnRlc3Qoayk/IiMiK2s6IltpZD0nIitrKyInXSI7d2hpbGUoaC0tKXJbaF09bCsiICIrcWEocltoXSk7cz1yLmpvaW4oIiwiKSx3PV8udGVzdChhKSYmb2EoYi5wYXJlbnROb2RlKXx8Yn1pZihzKXRyeXtyZXR1cm4gSC5hcHBseShkLHcucXVlcnlTZWxlY3RvckFsbChzKSksZH1jYXRjaCh5KXt9ZmluYWxseXtrPT09dSYmYi5yZW1vdmVBdHRyaWJ1dGUoImlkIil9fX1yZXR1cm4gaShhLnJlcGxhY2UoUSwiJDEiKSxiLGQsZSl9ZnVuY3Rpb24gZ2EoKXt2YXIgYT1bXTtmdW5jdGlvbiBiKGMsZSl7cmV0dXJuIGEucHVzaChjKyIgIik+ZC5jYWNoZUxlbmd0aCYmZGVsZXRlIGJbYS5zaGlmdCgpXSxiW2MrIiAiXT1lfXJldHVybiBifWZ1bmN0aW9uIGhhKGEpe3JldHVybiBhW3VdPSEwLGF9ZnVuY3Rpb24gaWEoYSl7dmFyIGI9bi5jcmVhdGVFbGVtZW50KCJkaXYiKTt0cnl7cmV0dXJuISFhKGIpfWNhdGNoKGMpe3JldHVybiExfWZpbmFsbHl7Yi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYiksYj1udWxsfX1mdW5jdGlvbiBqYShhLGIpe3ZhciBjPWEuc3BsaXQoInwiKSxlPWMubGVuZ3RoO3doaWxlKGUtLSlkLmF0dHJIYW5kbGVbY1tlXV09Yn1mdW5jdGlvbiBrYShhLGIpe3ZhciBjPWImJmEsZD1jJiYxPT09YS5ub2RlVHlwZSYmMT09PWIubm9kZVR5cGUmJih+Yi5zb3VyY2VJbmRleHx8QyktKH5hLnNvdXJjZUluZGV4fHxDKTtpZihkKXJldHVybiBkO2lmKGMpd2hpbGUoYz1jLm5leHRTaWJsaW5nKWlmKGM9PT1iKXJldHVybi0xO3JldHVybiBhPzE6LTF9ZnVuY3Rpb24gbGEoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09YyYmYi50eXBlPT09YX19ZnVuY3Rpb24gbWEoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oImlucHV0Ij09PWN8fCJidXR0b24iPT09YykmJmIudHlwZT09PWF9fWZ1bmN0aW9uIG5hKGEpe3JldHVybiBoYShmdW5jdGlvbihiKXtyZXR1cm4gYj0rYixoYShmdW5jdGlvbihjLGQpe3ZhciBlLGY9YShbXSxjLmxlbmd0aCxiKSxnPWYubGVuZ3RoO3doaWxlKGctLSljW2U9ZltnXV0mJihjW2VdPSEoZFtlXT1jW2VdKSl9KX0pfWZ1bmN0aW9uIG9hKGEpe3JldHVybiBhJiYidW5kZWZpbmVkIiE9dHlwZW9mIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUmJmF9Yz1mYS5zdXBwb3J0PXt9LGY9ZmEuaXNYTUw9ZnVuY3Rpb24oYSl7dmFyIGI9YSYmKGEub3duZXJEb2N1bWVudHx8YSkuZG9jdW1lbnRFbGVtZW50O3JldHVybiBiPyJIVE1MIiE9PWIubm9kZU5hbWU6ITF9LG09ZmEuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oYSl7dmFyIGIsZSxnPWE/YS5vd25lckRvY3VtZW50fHxhOnY7cmV0dXJuIGchPT1uJiY5PT09Zy5ub2RlVHlwZSYmZy5kb2N1bWVudEVsZW1lbnQ/KG49ZyxvPW4uZG9jdW1lbnRFbGVtZW50LHA9IWYobiksKGU9bi5kZWZhdWx0VmlldykmJmUudG9wIT09ZSYmKGUuYWRkRXZlbnRMaXN0ZW5lcj9lLmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIsZGEsITEpOmUuYXR0YWNoRXZlbnQmJmUuYXR0YWNoRXZlbnQoIm9udW5sb2FkIixkYSkpLGMuYXR0cmlidXRlcz1pYShmdW5jdGlvbihhKXtyZXR1cm4gYS5jbGFzc05hbWU9ImkiLCFhLmdldEF0dHJpYnV0ZSgiY2xhc3NOYW1lIil9KSxjLmdldEVsZW1lbnRzQnlUYWdOYW1lPWlhKGZ1bmN0aW9uKGEpe3JldHVybiBhLmFwcGVuZENoaWxkKG4uY3JlYXRlQ29tbWVudCgiIikpLCFhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikubGVuZ3RofSksYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lPVoudGVzdChuLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpLGMuZ2V0QnlJZD1pYShmdW5jdGlvbihhKXtyZXR1cm4gby5hcHBlbmRDaGlsZChhKS5pZD11LCFuLmdldEVsZW1lbnRzQnlOYW1lfHwhbi5nZXRFbGVtZW50c0J5TmFtZSh1KS5sZW5ndGh9KSxjLmdldEJ5SWQ/KGQuZmluZC5JRD1mdW5jdGlvbihhLGIpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgYi5nZXRFbGVtZW50QnlJZCYmcCl7dmFyIGM9Yi5nZXRFbGVtZW50QnlJZChhKTtyZXR1cm4gYz9bY106W119fSxkLmZpbHRlci5JRD1mdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoYmEsY2EpO3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGUoImlkIik9PT1ifX0pOihkZWxldGUgZC5maW5kLklELGQuZmlsdGVyLklEPWZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShiYSxjYSk7cmV0dXJuIGZ1bmN0aW9uKGEpe3ZhciBjPSJ1bmRlZmluZWQiIT10eXBlb2YgYS5nZXRBdHRyaWJ1dGVOb2RlJiZhLmdldEF0dHJpYnV0ZU5vZGUoImlkIik7cmV0dXJuIGMmJmMudmFsdWU9PT1ifX0pLGQuZmluZC5UQUc9Yy5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihhLGIpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgYi5nZXRFbGVtZW50c0J5VGFnTmFtZT9iLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpOmMucXNhP2IucXVlcnlTZWxlY3RvckFsbChhKTp2b2lkIDB9OmZ1bmN0aW9uKGEsYil7dmFyIGMsZD1bXSxlPTAsZj1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpO2lmKCIqIj09PWEpe3doaWxlKGM9ZltlKytdKTE9PT1jLm5vZGVUeXBlJiZkLnB1c2goYyk7cmV0dXJuIGR9cmV0dXJuIGZ9LGQuZmluZC5DTEFTUz1jLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGEsYil7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJnA/Yi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGEpOnZvaWQgMH0scj1bXSxxPVtdLChjLnFzYT1aLnRlc3Qobi5xdWVyeVNlbGVjdG9yQWxsKSkmJihpYShmdW5jdGlvbihhKXtvLmFwcGVuZENoaWxkKGEpLmlubmVySFRNTD0iPGEgaWQ9JyIrdSsiJz48L2E+PHNlbGVjdCBpZD0nIit1KyItXHJcXCcgbXNhbGxvd2NhcHR1cmU9Jyc+PG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD4iLGEucXVlcnlTZWxlY3RvckFsbCgiW21zYWxsb3djYXB0dXJlXj0nJ10iKS5sZW5ndGgmJnEucHVzaCgiWypeJF09IitMKyIqKD86Jyd8XCJcIikiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fHEucHVzaCgiXFxbIitMKyIqKD86dmFsdWV8IitLKyIpIiksYS5xdWVyeVNlbGVjdG9yQWxsKCJbaWR+PSIrdSsiLV0iKS5sZW5ndGh8fHEucHVzaCgifj0iKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIjpjaGVja2VkIikubGVuZ3RofHxxLnB1c2goIjpjaGVja2VkIiksYS5xdWVyeVNlbGVjdG9yQWxsKCJhIyIrdSsiKyoiKS5sZW5ndGh8fHEucHVzaCgiLiMuK1srfl0iKX0pLGlhKGZ1bmN0aW9uKGEpe3ZhciBiPW4uY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtiLnNldEF0dHJpYnV0ZSgidHlwZSIsImhpZGRlbiIpLGEuYXBwZW5kQ2hpbGQoYikuc2V0QXR0cmlidXRlKCJuYW1lIiwiRCIpLGEucXVlcnlTZWxlY3RvckFsbCgiW25hbWU9ZF0iKS5sZW5ndGgmJnEucHVzaCgibmFtZSIrTCsiKlsqXiR8IX5dPz0iKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIjplbmFibGVkIikubGVuZ3RofHxxLnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIiksYS5xdWVyeVNlbGVjdG9yQWxsKCIqLDp4IikscS5wdXNoKCIsLio6Iil9KSksKGMubWF0Y2hlc1NlbGVjdG9yPVoudGVzdChzPW8ubWF0Y2hlc3x8by53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fG8ubW96TWF0Y2hlc1NlbGVjdG9yfHxvLm9NYXRjaGVzU2VsZWN0b3J8fG8ubXNNYXRjaGVzU2VsZWN0b3IpKSYmaWEoZnVuY3Rpb24oYSl7Yy5kaXNjb25uZWN0ZWRNYXRjaD1zLmNhbGwoYSwiZGl2Iikscy5jYWxsKGEsIltzIT0nJ106eCIpLHIucHVzaCgiIT0iLE8pfSkscT1xLmxlbmd0aCYmbmV3IFJlZ0V4cChxLmpvaW4oInwiKSkscj1yLmxlbmd0aCYmbmV3IFJlZ0V4cChyLmpvaW4oInwiKSksYj1aLnRlc3Qoby5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiksdD1ifHxaLnRlc3Qoby5jb250YWlucyk/ZnVuY3Rpb24oYSxiKXt2YXIgYz05PT09YS5ub2RlVHlwZT9hLmRvY3VtZW50RWxlbWVudDphLGQ9YiYmYi5wYXJlbnROb2RlO3JldHVybiBhPT09ZHx8ISghZHx8MSE9PWQubm9kZVR5cGV8fCEoYy5jb250YWlucz9jLmNvbnRhaW5zKGQpOmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24mJjE2JmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZCkpKX06ZnVuY3Rpb24oYSxiKXtpZihiKXdoaWxlKGI9Yi5wYXJlbnROb2RlKWlmKGI9PT1hKXJldHVybiEwO3JldHVybiExfSxCPWI/ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gbD0hMCwwO3ZhciBkPSFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uLSFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO3JldHVybiBkP2Q6KGQ9KGEub3duZXJEb2N1bWVudHx8YSk9PT0oYi5vd25lckRvY3VtZW50fHxiKT9hLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpOjEsMSZkfHwhYy5zb3J0RGV0YWNoZWQmJmIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYSk9PT1kP2E9PT1ufHxhLm93bmVyRG9jdW1lbnQ9PT12JiZ0KHYsYSk/LTE6Yj09PW58fGIub3duZXJEb2N1bWVudD09PXYmJnQodixiKT8xOms/SihrLGEpLUooayxiKTowOjQmZD8tMToxKX06ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gbD0hMCwwO3ZhciBjLGQ9MCxlPWEucGFyZW50Tm9kZSxmPWIucGFyZW50Tm9kZSxnPVthXSxoPVtiXTtpZighZXx8IWYpcmV0dXJuIGE9PT1uPy0xOmI9PT1uPzE6ZT8tMTpmPzE6az9KKGssYSktSihrLGIpOjA7aWYoZT09PWYpcmV0dXJuIGthKGEsYik7Yz1hO3doaWxlKGM9Yy5wYXJlbnROb2RlKWcudW5zaGlmdChjKTtjPWI7d2hpbGUoYz1jLnBhcmVudE5vZGUpaC51bnNoaWZ0KGMpO3doaWxlKGdbZF09PT1oW2RdKWQrKztyZXR1cm4gZD9rYShnW2RdLGhbZF0pOmdbZF09PT12Py0xOmhbZF09PT12PzE6MH0sbik6bn0sZmEubWF0Y2hlcz1mdW5jdGlvbihhLGIpe3JldHVybiBmYShhLG51bGwsbnVsbCxiKX0sZmEubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGEsYil7aWYoKGEub3duZXJEb2N1bWVudHx8YSkhPT1uJiZtKGEpLGI9Yi5yZXBsYWNlKFQsIj0nJDEnXSIpLGMubWF0Y2hlc1NlbGVjdG9yJiZwJiYhQVtiKyIgIl0mJighcnx8IXIudGVzdChiKSkmJighcXx8IXEudGVzdChiKSkpdHJ5e3ZhciBkPXMuY2FsbChhLGIpO2lmKGR8fGMuZGlzY29ubmVjdGVkTWF0Y2h8fGEuZG9jdW1lbnQmJjExIT09YS5kb2N1bWVudC5ub2RlVHlwZSlyZXR1cm4gZH1jYXRjaChlKXt9cmV0dXJuIGZhKGIsbixudWxsLFthXSkubGVuZ3RoPjB9LGZhLmNvbnRhaW5zPWZ1bmN0aW9uKGEsYil7cmV0dXJuKGEub3duZXJEb2N1bWVudHx8YSkhPT1uJiZtKGEpLHQoYSxiKX0sZmEuYXR0cj1mdW5jdGlvbihhLGIpeyhhLm93bmVyRG9jdW1lbnR8fGEpIT09biYmbShhKTt2YXIgZT1kLmF0dHJIYW5kbGVbYi50b0xvd2VyQ2FzZSgpXSxmPWUmJkQuY2FsbChkLmF0dHJIYW5kbGUsYi50b0xvd2VyQ2FzZSgpKT9lKGEsYiwhcCk6dm9pZCAwO3JldHVybiB2b2lkIDAhPT1mP2Y6Yy5hdHRyaWJ1dGVzfHwhcD9hLmdldEF0dHJpYnV0ZShiKTooZj1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiZmLnNwZWNpZmllZD9mLnZhbHVlOm51bGx9LGZhLmVycm9yPWZ1bmN0aW9uKGEpe3Rocm93IG5ldyBFcnJvcigiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogIithKX0sZmEudW5pcXVlU29ydD1mdW5jdGlvbihhKXt2YXIgYixkPVtdLGU9MCxmPTA7aWYobD0hYy5kZXRlY3REdXBsaWNhdGVzLGs9IWMuc29ydFN0YWJsZSYmYS5zbGljZSgwKSxhLnNvcnQoQiksbCl7d2hpbGUoYj1hW2YrK10pYj09PWFbZl0mJihlPWQucHVzaChmKSk7d2hpbGUoZS0tKWEuc3BsaWNlKGRbZV0sMSl9cmV0dXJuIGs9bnVsbCxhfSxlPWZhLmdldFRleHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYz0iIixkPTAsZj1hLm5vZGVUeXBlO2lmKGYpe2lmKDE9PT1mfHw5PT09Znx8MTE9PT1mKXtpZigic3RyaW5nIj09dHlwZW9mIGEudGV4dENvbnRlbnQpcmV0dXJuIGEudGV4dENvbnRlbnQ7Zm9yKGE9YS5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKWMrPWUoYSl9ZWxzZSBpZigzPT09Znx8ND09PWYpcmV0dXJuIGEubm9kZVZhbHVlfWVsc2Ugd2hpbGUoYj1hW2QrK10pYys9ZShiKTtyZXR1cm4gY30sZD1mYS5zZWxlY3RvcnM9e2NhY2hlTGVuZ3RoOjUwLGNyZWF0ZVBzZXVkbzpoYSxtYXRjaDpXLGF0dHJIYW5kbGU6e30sZmluZDp7fSxyZWxhdGl2ZTp7Ij4iOntkaXI6InBhcmVudE5vZGUiLGZpcnN0OiEwfSwiICI6e2RpcjoicGFyZW50Tm9kZSJ9LCIrIjp7ZGlyOiJwcmV2aW91c1NpYmxpbmciLGZpcnN0OiEwfSwifiI6e2RpcjoicHJldmlvdXNTaWJsaW5nIn19LHByZUZpbHRlcjp7QVRUUjpmdW5jdGlvbihhKXtyZXR1cm4gYVsxXT1hWzFdLnJlcGxhY2UoYmEsY2EpLGFbM109KGFbM118fGFbNF18fGFbNV18fCIiKS5yZXBsYWNlKGJhLGNhKSwifj0iPT09YVsyXSYmKGFbM109IiAiK2FbM10rIiAiKSxhLnNsaWNlKDAsNCl9LENISUxEOmZ1bmN0aW9uKGEpe3JldHVybiBhWzFdPWFbMV0udG9Mb3dlckNhc2UoKSwibnRoIj09PWFbMV0uc2xpY2UoMCwzKT8oYVszXXx8ZmEuZXJyb3IoYVswXSksYVs0XT0rKGFbNF0/YVs1XSsoYVs2XXx8MSk6MiooImV2ZW4iPT09YVszXXx8Im9kZCI9PT1hWzNdKSksYVs1XT0rKGFbN10rYVs4XXx8Im9kZCI9PT1hWzNdKSk6YVszXSYmZmEuZXJyb3IoYVswXSksYX0sUFNFVURPOmZ1bmN0aW9uKGEpe3ZhciBiLGM9IWFbNl0mJmFbMl07cmV0dXJuIFcuQ0hJTEQudGVzdChhWzBdKT9udWxsOihhWzNdP2FbMl09YVs0XXx8YVs1XXx8IiI6YyYmVS50ZXN0KGMpJiYoYj1nKGMsITApKSYmKGI9Yy5pbmRleE9mKCIpIixjLmxlbmd0aC1iKS1jLmxlbmd0aCkmJihhWzBdPWFbMF0uc2xpY2UoMCxiKSxhWzJdPWMuc2xpY2UoMCxiKSksYS5zbGljZSgwLDMpKX19LGZpbHRlcjp7VEFHOmZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShiYSxjYSkudG9Mb3dlckNhc2UoKTtyZXR1cm4iKiI9PT1hP2Z1bmN0aW9uKCl7cmV0dXJuITB9OmZ1bmN0aW9uKGEpe3JldHVybiBhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1ifX0sQ0xBU1M6ZnVuY3Rpb24oYSl7dmFyIGI9eVthKyIgIl07cmV0dXJuIGJ8fChiPW5ldyBSZWdFeHAoIihefCIrTCsiKSIrYSsiKCIrTCsifCQpIikpJiZ5KGEsZnVuY3Rpb24oYSl7cmV0dXJuIGIudGVzdCgic3RyaW5nIj09dHlwZW9mIGEuY2xhc3NOYW1lJiZhLmNsYXNzTmFtZXx8InVuZGVmaW5lZCIhPXR5cGVvZiBhLmdldEF0dHJpYnV0ZSYmYS5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiKX0pfSxBVFRSOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7dmFyIGU9ZmEuYXR0cihkLGEpO3JldHVybiBudWxsPT1lPyIhPSI9PT1iOmI/KGUrPSIiLCI9Ij09PWI/ZT09PWM6IiE9Ij09PWI/ZSE9PWM6Il49Ij09PWI/YyYmMD09PWUuaW5kZXhPZihjKToiKj0iPT09Yj9jJiZlLmluZGV4T2YoYyk+LTE6IiQ9Ij09PWI/YyYmZS5zbGljZSgtYy5sZW5ndGgpPT09Yzoifj0iPT09Yj8oIiAiK2UucmVwbGFjZShQLCIgIikrIiAiKS5pbmRleE9mKGMpPi0xOiJ8PSI9PT1iP2U9PT1jfHxlLnNsaWNlKDAsYy5sZW5ndGgrMSk9PT1jKyItIjohMSk6ITB9fSxDSElMRDpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPSJudGgiIT09YS5zbGljZSgwLDMpLGc9Imxhc3QiIT09YS5zbGljZSgtNCksaD0ib2YtdHlwZSI9PT1iO3JldHVybiAxPT09ZCYmMD09PWU/ZnVuY3Rpb24oYSl7cmV0dXJuISFhLnBhcmVudE5vZGV9OmZ1bmN0aW9uKGIsYyxpKXt2YXIgaixrLGwsbSxuLG8scD1mIT09Zz8ibmV4dFNpYmxpbmciOiJwcmV2aW91c1NpYmxpbmciLHE9Yi5wYXJlbnROb2RlLHI9aCYmYi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHM9IWkmJiFoLHQ9ITE7aWYocSl7aWYoZil7d2hpbGUocCl7bT1iO3doaWxlKG09bVtwXSlpZihoP20ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXI6MT09PW0ubm9kZVR5cGUpcmV0dXJuITE7bz1wPSJvbmx5Ij09PWEmJiFvJiYibmV4dFNpYmxpbmcifXJldHVybiEwfWlmKG89W2c/cS5maXJzdENoaWxkOnEubGFzdENoaWxkXSxnJiZzKXttPXEsbD1tW3VdfHwobVt1XT17fSksaz1sW20udW5pcXVlSURdfHwobFttLnVuaXF1ZUlEXT17fSksaj1rW2FdfHxbXSxuPWpbMF09PT13JiZqWzFdLHQ9biYmalsyXSxtPW4mJnEuY2hpbGROb2Rlc1tuXTt3aGlsZShtPSsrbiYmbSYmbVtwXXx8KHQ9bj0wKXx8by5wb3AoKSlpZigxPT09bS5ub2RlVHlwZSYmKyt0JiZtPT09Yil7a1thXT1bdyxuLHRdO2JyZWFrfX1lbHNlIGlmKHMmJihtPWIsbD1tW3VdfHwobVt1XT17fSksaz1sW20udW5pcXVlSURdfHwobFttLnVuaXF1ZUlEXT17fSksaj1rW2FdfHxbXSxuPWpbMF09PT13JiZqWzFdLHQ9biksdD09PSExKXdoaWxlKG09KytuJiZtJiZtW3BdfHwodD1uPTApfHxvLnBvcCgpKWlmKChoP20ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXI6MT09PW0ubm9kZVR5cGUpJiYrK3QmJihzJiYobD1tW3VdfHwobVt1XT17fSksaz1sW20udW5pcXVlSURdfHwobFttLnVuaXF1ZUlEXT17fSksa1thXT1bdyx0XSksbT09PWIpKWJyZWFrO3JldHVybiB0LT1lLHQ9PT1kfHx0JWQ9PT0wJiZ0L2Q+PTB9fX0sUFNFVURPOmZ1bmN0aW9uKGEsYil7dmFyIGMsZT1kLnBzZXVkb3NbYV18fGQuc2V0RmlsdGVyc1thLnRvTG93ZXJDYXNlKCldfHxmYS5lcnJvcigidW5zdXBwb3J0ZWQgcHNldWRvOiAiK2EpO3JldHVybiBlW3VdP2UoYik6ZS5sZW5ndGg+MT8oYz1bYSxhLCIiLGJdLGQuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShhLnRvTG93ZXJDYXNlKCkpP2hhKGZ1bmN0aW9uKGEsYyl7dmFyIGQsZj1lKGEsYiksZz1mLmxlbmd0aDt3aGlsZShnLS0pZD1KKGEsZltnXSksYVtkXT0hKGNbZF09ZltnXSl9KTpmdW5jdGlvbihhKXtyZXR1cm4gZShhLDAsYyl9KTplfX0scHNldWRvczp7bm90OmhhKGZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM9W10sZD1oKGEucmVwbGFjZShRLCIkMSIpKTtyZXR1cm4gZFt1XT9oYShmdW5jdGlvbihhLGIsYyxlKXt2YXIgZixnPWQoYSxudWxsLGUsW10pLGg9YS5sZW5ndGg7d2hpbGUoaC0tKShmPWdbaF0pJiYoYVtoXT0hKGJbaF09ZikpfSk6ZnVuY3Rpb24oYSxlLGYpe3JldHVybiBiWzBdPWEsZChiLG51bGwsZixjKSxiWzBdPW51bGwsIWMucG9wKCl9fSksaGFzOmhhKGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gZmEoYSxiKS5sZW5ndGg+MH19KSxjb250YWluczpoYShmdW5jdGlvbihhKXtyZXR1cm4gYT1hLnJlcGxhY2UoYmEsY2EpLGZ1bmN0aW9uKGIpe3JldHVybihiLnRleHRDb250ZW50fHxiLmlubmVyVGV4dHx8ZShiKSkuaW5kZXhPZihhKT4tMX19KSxsYW5nOmhhKGZ1bmN0aW9uKGEpe3JldHVybiBWLnRlc3QoYXx8IiIpfHxmYS5lcnJvcigidW5zdXBwb3J0ZWQgbGFuZzogIithKSxhPWEucmVwbGFjZShiYSxjYSkudG9Mb3dlckNhc2UoKSxmdW5jdGlvbihiKXt2YXIgYztkbyBpZihjPXA/Yi5sYW5nOmIuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpfHxiLmdldEF0dHJpYnV0ZSgibGFuZyIpKXJldHVybiBjPWMudG9Mb3dlckNhc2UoKSxjPT09YXx8MD09PWMuaW5kZXhPZihhKyItIik7d2hpbGUoKGI9Yi5wYXJlbnROb2RlKSYmMT09PWIubm9kZVR5cGUpO3JldHVybiExfX0pLHRhcmdldDpmdW5jdGlvbihiKXt2YXIgYz1hLmxvY2F0aW9uJiZhLmxvY2F0aW9uLmhhc2g7cmV0dXJuIGMmJmMuc2xpY2UoMSk9PT1iLmlkfSxyb290OmZ1bmN0aW9uKGEpe3JldHVybiBhPT09b30sZm9jdXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1uLmFjdGl2ZUVsZW1lbnQmJighbi5oYXNGb2N1c3x8bi5oYXNGb2N1cygpKSYmISEoYS50eXBlfHxhLmhyZWZ8fH5hLnRhYkluZGV4KX0sZW5hYmxlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5kaXNhYmxlZD09PSExfSxkaXNhYmxlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5kaXNhYmxlZD09PSEwfSxjaGVja2VkOmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09YiYmISFhLmNoZWNrZWR8fCJvcHRpb24iPT09YiYmISFhLnNlbGVjdGVkfSxzZWxlY3RlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxhLnNlbGVjdGVkPT09ITB9LGVtcHR5OmZ1bmN0aW9uKGEpe2ZvcihhPWEuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZylpZihhLm5vZGVUeXBlPDYpcmV0dXJuITE7cmV0dXJuITB9LHBhcmVudDpmdW5jdGlvbihhKXtyZXR1cm4hZC5wc2V1ZG9zLmVtcHR5KGEpfSxoZWFkZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIFkudGVzdChhLm5vZGVOYW1lKX0saW5wdXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIFgudGVzdChhLm5vZGVOYW1lKX0sYnV0dG9uOmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09YiYmImJ1dHRvbiI9PT1hLnR5cGV8fCJidXR0b24iPT09Yn0sdGV4dDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4iaW5wdXQiPT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYidGV4dCI9PT1hLnR5cGUmJihudWxsPT0oYj1hLmdldEF0dHJpYnV0ZSgidHlwZSIpKXx8InRleHQiPT09Yi50b0xvd2VyQ2FzZSgpKX0sZmlyc3Q6bmEoZnVuY3Rpb24oKXtyZXR1cm5bMF19KSxsYXN0Om5hKGZ1bmN0aW9uKGEsYil7cmV0dXJuW2ItMV19KSxlcTpuYShmdW5jdGlvbihhLGIsYyl7cmV0dXJuWzA+Yz9jK2I6Y119KSxldmVuOm5hKGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7Yj5jO2MrPTIpYS5wdXNoKGMpO3JldHVybiBhfSksb2RkOm5hKGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTE7Yj5jO2MrPTIpYS5wdXNoKGMpO3JldHVybiBhfSksbHQ6bmEoZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wPmM/YytiOmM7LS1kPj0wOylhLnB1c2goZCk7cmV0dXJuIGF9KSxndDpuYShmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTA+Yz9jK2I6YzsrK2Q8YjspYS5wdXNoKGQpO3JldHVybiBhfSl9fSxkLnBzZXVkb3MubnRoPWQucHNldWRvcy5lcTtmb3IoYiBpbntyYWRpbzohMCxjaGVja2JveDohMCxmaWxlOiEwLHBhc3N3b3JkOiEwLGltYWdlOiEwfSlkLnBzZXVkb3NbYl09bGEoYik7Zm9yKGIgaW57c3VibWl0OiEwLHJlc2V0OiEwfSlkLnBzZXVkb3NbYl09bWEoYik7ZnVuY3Rpb24gcGEoKXt9cGEucHJvdG90eXBlPWQuZmlsdGVycz1kLnBzZXVkb3MsZC5zZXRGaWx0ZXJzPW5ldyBwYSxnPWZhLnRva2VuaXplPWZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmLGcsaCxpLGosaz16W2ErIiAiXTtpZihrKXJldHVybiBiPzA6ay5zbGljZSgwKTtoPWEsaT1bXSxqPWQucHJlRmlsdGVyO3doaWxlKGgpe2MmJiEoZT1SLmV4ZWMoaCkpfHwoZSYmKGg9aC5zbGljZShlWzBdLmxlbmd0aCl8fGgpLGkucHVzaChmPVtdKSksYz0hMSwoZT1TLmV4ZWMoaCkpJiYoYz1lLnNoaWZ0KCksZi5wdXNoKHt2YWx1ZTpjLHR5cGU6ZVswXS5yZXBsYWNlKFEsIiAiKX0pLGg9aC5zbGljZShjLmxlbmd0aCkpO2ZvcihnIGluIGQuZmlsdGVyKSEoZT1XW2ddLmV4ZWMoaCkpfHxqW2ddJiYhKGU9altnXShlKSl8fChjPWUuc2hpZnQoKSxmLnB1c2goe3ZhbHVlOmMsdHlwZTpnLG1hdGNoZXM6ZX0pLGg9aC5zbGljZShjLmxlbmd0aCkpO2lmKCFjKWJyZWFrfXJldHVybiBiP2gubGVuZ3RoOmg/ZmEuZXJyb3IoYSk6eihhLGkpLnNsaWNlKDApfTtmdW5jdGlvbiBxYShhKXtmb3IodmFyIGI9MCxjPWEubGVuZ3RoLGQ9IiI7Yz5iO2IrKylkKz1hW2JdLnZhbHVlO3JldHVybiBkfWZ1bmN0aW9uIHJhKGEsYixjKXt2YXIgZD1iLmRpcixlPWMmJiJwYXJlbnROb2RlIj09PWQsZj14Kys7cmV0dXJuIGIuZmlyc3Q/ZnVuY3Rpb24oYixjLGYpe3doaWxlKGI9YltkXSlpZigxPT09Yi5ub2RlVHlwZXx8ZSlyZXR1cm4gYShiLGMsZil9OmZ1bmN0aW9uKGIsYyxnKXt2YXIgaCxpLGosaz1bdyxmXTtpZihnKXt3aGlsZShiPWJbZF0paWYoKDE9PT1iLm5vZGVUeXBlfHxlKSYmYShiLGMsZykpcmV0dXJuITB9ZWxzZSB3aGlsZShiPWJbZF0paWYoMT09PWIubm9kZVR5cGV8fGUpe2lmKGo9Ylt1XXx8KGJbdV09e30pLGk9altiLnVuaXF1ZUlEXXx8KGpbYi51bmlxdWVJRF09e30pLChoPWlbZF0pJiZoWzBdPT09dyYmaFsxXT09PWYpcmV0dXJuIGtbMl09aFsyXTtpZihpW2RdPWssa1syXT1hKGIsYyxnKSlyZXR1cm4hMH19fWZ1bmN0aW9uIHNhKGEpe3JldHVybiBhLmxlbmd0aD4xP2Z1bmN0aW9uKGIsYyxkKXt2YXIgZT1hLmxlbmd0aDt3aGlsZShlLS0paWYoIWFbZV0oYixjLGQpKXJldHVybiExO3JldHVybiEwfTphWzBdfWZ1bmN0aW9uIHRhKGEsYixjKXtmb3IodmFyIGQ9MCxlPWIubGVuZ3RoO2U+ZDtkKyspZmEoYSxiW2RdLGMpO3JldHVybiBjfWZ1bmN0aW9uIHVhKGEsYixjLGQsZSl7Zm9yKHZhciBmLGc9W10saD0wLGk9YS5sZW5ndGgsaj1udWxsIT1iO2k+aDtoKyspKGY9YVtoXSkmJihjJiYhYyhmLGQsZSl8fChnLnB1c2goZiksaiYmYi5wdXNoKGgpKSk7cmV0dXJuIGd9ZnVuY3Rpb24gdmEoYSxiLGMsZCxlLGYpe3JldHVybiBkJiYhZFt1XSYmKGQ9dmEoZCkpLGUmJiFlW3VdJiYoZT12YShlLGYpKSxoYShmdW5jdGlvbihmLGcsaCxpKXt2YXIgaixrLGwsbT1bXSxuPVtdLG89Zy5sZW5ndGgscD1mfHx0YShifHwiKiIsaC5ub2RlVHlwZT9baF06aCxbXSkscT0hYXx8IWYmJmI/cDp1YShwLG0sYSxoLGkpLHI9Yz9lfHwoZj9hOm98fGQpP1tdOmc6cTtpZihjJiZjKHEscixoLGkpLGQpe2o9dWEocixuKSxkKGosW10saCxpKSxrPWoubGVuZ3RoO3doaWxlKGstLSkobD1qW2tdKSYmKHJbbltrXV09IShxW25ba11dPWwpKX1pZihmKXtpZihlfHxhKXtpZihlKXtqPVtdLGs9ci5sZW5ndGg7d2hpbGUoay0tKShsPXJba10pJiZqLnB1c2gocVtrXT1sKTtlKG51bGwscj1bXSxqLGkpfWs9ci5sZW5ndGg7d2hpbGUoay0tKShsPXJba10pJiYoaj1lP0ooZixsKTptW2tdKT4tMSYmKGZbal09IShnW2pdPWwpKX19ZWxzZSByPXVhKHI9PT1nP3Iuc3BsaWNlKG8sci5sZW5ndGgpOnIpLGU/ZShudWxsLGcscixpKTpILmFwcGx5KGcscil9KX1mdW5jdGlvbiB3YShhKXtmb3IodmFyIGIsYyxlLGY9YS5sZW5ndGgsZz1kLnJlbGF0aXZlW2FbMF0udHlwZV0saD1nfHxkLnJlbGF0aXZlWyIgIl0saT1nPzE6MCxrPXJhKGZ1bmN0aW9uKGEpe3JldHVybiBhPT09Yn0saCwhMCksbD1yYShmdW5jdGlvbihhKXtyZXR1cm4gSihiLGEpPi0xfSxoLCEwKSxtPVtmdW5jdGlvbihhLGMsZCl7dmFyIGU9IWcmJihkfHxjIT09ail8fCgoYj1jKS5ub2RlVHlwZT9rKGEsYyxkKTpsKGEsYyxkKSk7cmV0dXJuIGI9bnVsbCxlfV07Zj5pO2krKylpZihjPWQucmVsYXRpdmVbYVtpXS50eXBlXSltPVtyYShzYShtKSxjKV07ZWxzZXtpZihjPWQuZmlsdGVyW2FbaV0udHlwZV0uYXBwbHkobnVsbCxhW2ldLm1hdGNoZXMpLGNbdV0pe2ZvcihlPSsraTtmPmU7ZSsrKWlmKGQucmVsYXRpdmVbYVtlXS50eXBlXSlicmVhaztyZXR1cm4gdmEoaT4xJiZzYShtKSxpPjEmJnFhKGEuc2xpY2UoMCxpLTEpLmNvbmNhdCh7dmFsdWU6IiAiPT09YVtpLTJdLnR5cGU/IioiOiIifSkpLnJlcGxhY2UoUSwiJDEiKSxjLGU+aSYmd2EoYS5zbGljZShpLGUpKSxmPmUmJndhKGE9YS5zbGljZShlKSksZj5lJiZxYShhKSl9bS5wdXNoKGMpfXJldHVybiBzYShtKX1mdW5jdGlvbiB4YShhLGIpe3ZhciBjPWIubGVuZ3RoPjAsZT1hLmxlbmd0aD4wLGY9ZnVuY3Rpb24oZixnLGgsaSxrKXt2YXIgbCxvLHEscj0wLHM9IjAiLHQ9ZiYmW10sdT1bXSx2PWoseD1mfHxlJiZkLmZpbmQuVEFHKCIqIixrKSx5PXcrPW51bGw9PXY/MTpNYXRoLnJhbmRvbSgpfHwuMSx6PXgubGVuZ3RoO2ZvcihrJiYoaj1nPT09bnx8Z3x8ayk7cyE9PXomJm51bGwhPShsPXhbc10pO3MrKyl7aWYoZSYmbCl7bz0wLGd8fGwub3duZXJEb2N1bWVudD09PW58fChtKGwpLGg9IXApO3doaWxlKHE9YVtvKytdKWlmKHEobCxnfHxuLGgpKXtpLnB1c2gobCk7YnJlYWt9ayYmKHc9eSl9YyYmKChsPSFxJiZsKSYmci0tLGYmJnQucHVzaChsKSl9aWYocis9cyxjJiZzIT09cil7bz0wO3doaWxlKHE9YltvKytdKXEodCx1LGcsaCk7aWYoZil7aWYocj4wKXdoaWxlKHMtLSl0W3NdfHx1W3NdfHwodVtzXT1GLmNhbGwoaSkpO3U9dWEodSl9SC5hcHBseShpLHUpLGsmJiFmJiZ1Lmxlbmd0aD4wJiZyK2IubGVuZ3RoPjEmJmZhLnVuaXF1ZVNvcnQoaSl9cmV0dXJuIGsmJih3PXksaj12KSx0fTtyZXR1cm4gYz9oYShmKTpmfXJldHVybiBoPWZhLmNvbXBpbGU9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9W10sZj1BW2ErIiAiXTtpZighZil7Ynx8KGI9ZyhhKSksYz1iLmxlbmd0aDt3aGlsZShjLS0pZj13YShiW2NdKSxmW3VdP2QucHVzaChmKTplLnB1c2goZik7Zj1BKGEseGEoZSxkKSksZi5zZWxlY3Rvcj1hfXJldHVybiBmfSxpPWZhLnNlbGVjdD1mdW5jdGlvbihhLGIsZSxmKXt2YXIgaSxqLGssbCxtLG49ImZ1bmN0aW9uIj09dHlwZW9mIGEmJmEsbz0hZiYmZyhhPW4uc2VsZWN0b3J8fGEpO2lmKGU9ZXx8W10sMT09PW8ubGVuZ3RoKXtpZihqPW9bMF09b1swXS5zbGljZSgwKSxqLmxlbmd0aD4yJiYiSUQiPT09KGs9alswXSkudHlwZSYmYy5nZXRCeUlkJiY5PT09Yi5ub2RlVHlwZSYmcCYmZC5yZWxhdGl2ZVtqWzFdLnR5cGVdKXtpZihiPShkLmZpbmQuSUQoay5tYXRjaGVzWzBdLnJlcGxhY2UoYmEsY2EpLGIpfHxbXSlbMF0sIWIpcmV0dXJuIGU7biYmKGI9Yi5wYXJlbnROb2RlKSxhPWEuc2xpY2Uoai5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9aT1XLm5lZWRzQ29udGV4dC50ZXN0KGEpPzA6ai5sZW5ndGg7d2hpbGUoaS0tKXtpZihrPWpbaV0sZC5yZWxhdGl2ZVtsPWsudHlwZV0pYnJlYWs7aWYoKG09ZC5maW5kW2xdKSYmKGY9bShrLm1hdGNoZXNbMF0ucmVwbGFjZShiYSxjYSksXy50ZXN0KGpbMF0udHlwZSkmJm9hKGIucGFyZW50Tm9kZSl8fGIpKSl7aWYoai5zcGxpY2UoaSwxKSxhPWYubGVuZ3RoJiZxYShqKSwhYSlyZXR1cm4gSC5hcHBseShlLGYpLGU7YnJlYWt9fX1yZXR1cm4obnx8aChhLG8pKShmLGIsIXAsZSwhYnx8Xy50ZXN0KGEpJiZvYShiLnBhcmVudE5vZGUpfHxiKSxlfSxjLnNvcnRTdGFibGU9dS5zcGxpdCgiIikuc29ydChCKS5qb2luKCIiKT09PXUsYy5kZXRlY3REdXBsaWNhdGVzPSEhbCxtKCksYy5zb3J0RGV0YWNoZWQ9aWEoZnVuY3Rpb24oYSl7cmV0dXJuIDEmYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihuLmNyZWF0ZUVsZW1lbnQoImRpdiIpKX0pLGlhKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlubmVySFRNTD0iPGEgaHJlZj0nIyc+PC9hPiIsIiMiPT09YS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgiaHJlZiIpfSl8fGphKCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoIixmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGM/dm9pZCAwOmEuZ2V0QXR0cmlidXRlKGIsInR5cGUiPT09Yi50b0xvd2VyQ2FzZSgpPzE6Mil9KSxjLmF0dHJpYnV0ZXMmJmlhKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlubmVySFRNTD0iPGlucHV0Lz4iLGEuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoInZhbHVlIiwiIiksIiI9PT1hLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpfSl8fGphKCJ2YWx1ZSIsZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjfHwiaW5wdXQiIT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpP3ZvaWQgMDphLmRlZmF1bHRWYWx1ZX0pLGlhKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hLmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQiKX0pfHxqYShLLGZ1bmN0aW9uKGEsYixjKXt2YXIgZDtyZXR1cm4gYz92b2lkIDA6YVtiXT09PSEwP2IudG9Mb3dlckNhc2UoKTooZD1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiZkLnNwZWNpZmllZD9kLnZhbHVlOm51bGx9KSxmYX0oYSk7bi5maW5kPXQsbi5leHByPXQuc2VsZWN0b3JzLG4uZXhwclsiOiJdPW4uZXhwci5wc2V1ZG9zLG4udW5pcXVlU29ydD1uLnVuaXF1ZT10LnVuaXF1ZVNvcnQsbi50ZXh0PXQuZ2V0VGV4dCxuLmlzWE1MRG9jPXQuaXNYTUwsbi5jb250YWlucz10LmNvbnRhaW5zO3ZhciB1PWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bXSxlPXZvaWQgMCE9PWM7d2hpbGUoKGE9YVtiXSkmJjkhPT1hLm5vZGVUeXBlKWlmKDE9PT1hLm5vZGVUeXBlKXtpZihlJiZuKGEpLmlzKGMpKWJyZWFrO2QucHVzaChhKX1yZXR1cm4gZH0sdj1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1bXTthO2E9YS5uZXh0U2libGluZykxPT09YS5ub2RlVHlwZSYmYSE9PWImJmMucHVzaChhKTtyZXR1cm4gY30sdz1uLmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LHg9L148KFtcdy1dKylccypcLz8+KD86PFwvXDE+fCkkLyx5PS9eLlteOiNcW1wuLF0qJC87ZnVuY3Rpb24geihhLGIsYyl7aWYobi5pc0Z1bmN0aW9uKGIpKXJldHVybiBuLmdyZXAoYSxmdW5jdGlvbihhLGQpe3JldHVybiEhYi5jYWxsKGEsZCxhKSE9PWN9KTtpZihiLm5vZGVUeXBlKXJldHVybiBuLmdyZXAoYSxmdW5jdGlvbihhKXtyZXR1cm4gYT09PWIhPT1jfSk7aWYoInN0cmluZyI9PXR5cGVvZiBiKXtpZih5LnRlc3QoYikpcmV0dXJuIG4uZmlsdGVyKGIsYSxjKTtiPW4uZmlsdGVyKGIsYSl9cmV0dXJuIG4uZ3JlcChhLGZ1bmN0aW9uKGEpe3JldHVybiBuLmluQXJyYXkoYSxiKT4tMSE9PWN9KX1uLmZpbHRlcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YlswXTtyZXR1cm4gYyYmKGE9Ijpub3QoIithKyIpIiksMT09PWIubGVuZ3RoJiYxPT09ZC5ub2RlVHlwZT9uLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGQsYSk/W2RdOltdOm4uZmluZC5tYXRjaGVzKGEsbi5ncmVwKGIsZnVuY3Rpb24oYSl7cmV0dXJuIDE9PT1hLm5vZGVUeXBlfSkpfSxuLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihhKXt2YXIgYixjPVtdLGQ9dGhpcyxlPWQubGVuZ3RoO2lmKCJzdHJpbmciIT10eXBlb2YgYSlyZXR1cm4gdGhpcy5wdXNoU3RhY2sobihhKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IoYj0wO2U+YjtiKyspaWYobi5jb250YWlucyhkW2JdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihiPTA7ZT5iO2IrKyluLmZpbmQoYSxkW2JdLGMpO3JldHVybiBjPXRoaXMucHVzaFN0YWNrKGU+MT9uLnVuaXF1ZShjKTpjKSxjLnNlbGVjdG9yPXRoaXMuc2VsZWN0b3I/dGhpcy5zZWxlY3RvcisiICIrYTphLGN9LGZpbHRlcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soeih0aGlzLGF8fFtdLCExKSl9LG5vdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soeih0aGlzLGF8fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKGEpe3JldHVybiEheih0aGlzLCJzdHJpbmciPT10eXBlb2YgYSYmdy50ZXN0KGEpP24oYSk6YXx8W10sITEpLmxlbmd0aH19KTt2YXIgQSxCPS9eKD86XHMqKDxbXHdcV10rPilbXj5dKnwjKFtcdy1dKikpJC8sQz1uLmZuLmluaXQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBlLGY7aWYoIWEpcmV0dXJuIHRoaXM7aWYoYz1jfHxBLCJzdHJpbmciPT10eXBlb2YgYSl7aWYoZT0iPCI9PT1hLmNoYXJBdCgwKSYmIj4iPT09YS5jaGFyQXQoYS5sZW5ndGgtMSkmJmEubGVuZ3RoPj0zP1tudWxsLGEsbnVsbF06Qi5leGVjKGEpLCFlfHwhZVsxXSYmYilyZXR1cm4hYnx8Yi5qcXVlcnk/KGJ8fGMpLmZpbmQoYSk6dGhpcy5jb25zdHJ1Y3RvcihiKS5maW5kKGEpO2lmKGVbMV0pe2lmKGI9YiBpbnN0YW5jZW9mIG4/YlswXTpiLG4ubWVyZ2UodGhpcyxuLnBhcnNlSFRNTChlWzFdLGImJmIubm9kZVR5cGU/Yi5vd25lckRvY3VtZW50fHxiOmQsITApKSx4LnRlc3QoZVsxXSkmJm4uaXNQbGFpbk9iamVjdChiKSlmb3IoZSBpbiBiKW4uaXNGdW5jdGlvbih0aGlzW2VdKT90aGlzW2VdKGJbZV0pOnRoaXMuYXR0cihlLGJbZV0pO3JldHVybiB0aGlzfWlmKGY9ZC5nZXRFbGVtZW50QnlJZChlWzJdKSxmJiZmLnBhcmVudE5vZGUpe2lmKGYuaWQhPT1lWzJdKXJldHVybiBBLmZpbmQoYSk7dGhpcy5sZW5ndGg9MSx0aGlzWzBdPWZ9cmV0dXJuIHRoaXMuY29udGV4dD1kLHRoaXMuc2VsZWN0b3I9YSx0aGlzfXJldHVybiBhLm5vZGVUeXBlPyh0aGlzLmNvbnRleHQ9dGhpc1swXT1hLHRoaXMubGVuZ3RoPTEsdGhpcyk6bi5pc0Z1bmN0aW9uKGEpPyJ1bmRlZmluZWQiIT10eXBlb2YgYy5yZWFkeT9jLnJlYWR5KGEpOmEobik6KHZvaWQgMCE9PWEuc2VsZWN0b3ImJih0aGlzLnNlbGVjdG9yPWEuc2VsZWN0b3IsdGhpcy5jb250ZXh0PWEuY29udGV4dCksbi5tYWtlQXJyYXkoYSx0aGlzKSl9O0MucHJvdG90eXBlPW4uZm4sQT1uKGQpO3ZhciBEPS9eKD86cGFyZW50c3xwcmV2KD86VW50aWx8QWxsKSkvLEU9e2NoaWxkcmVuOiEwLGNvbnRlbnRzOiEwLG5leHQ6ITAscHJldjohMH07bi5mbi5leHRlbmQoe2hhczpmdW5jdGlvbihhKXt2YXIgYixjPW4oYSx0aGlzKSxkPWMubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2ZvcihiPTA7ZD5iO2IrKylpZihuLmNvbnRhaW5zKHRoaXMsY1tiXSkpcmV0dXJuITB9KX0sY2xvc2VzdDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkPTAsZT10aGlzLmxlbmd0aCxmPVtdLGc9dy50ZXN0KGEpfHwic3RyaW5nIiE9dHlwZW9mIGE/bihhLGJ8fHRoaXMuY29udGV4dCk6MDtlPmQ7ZCsrKWZvcihjPXRoaXNbZF07YyYmYyE9PWI7Yz1jLnBhcmVudE5vZGUpaWYoYy5ub2RlVHlwZTwxMSYmKGc/Zy5pbmRleChjKT4tMToxPT09Yy5ub2RlVHlwZSYmbi5maW5kLm1hdGNoZXNTZWxlY3RvcihjLGEpKSl7Zi5wdXNoKGMpO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjayhmLmxlbmd0aD4xP24udW5pcXVlU29ydChmKTpmKX0saW5kZXg6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/InN0cmluZyI9PXR5cGVvZiBhP24uaW5BcnJheSh0aGlzWzBdLG4oYSkpOm4uaW5BcnJheShhLmpxdWVyeT9hWzBdOmEsdGhpcyk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2sobi51bmlxdWVTb3J0KG4ubWVyZ2UodGhpcy5nZXQoKSxuKGEsYikpKSl9LGFkZEJhY2s6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWE/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoYSkpfX0pO2Z1bmN0aW9uIEYoYSxiKXtkbyBhPWFbYl07d2hpbGUoYSYmMSE9PWEubm9kZVR5cGUpO3JldHVybiBhfW4uZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmMTEhPT1iLm5vZGVUeXBlP2I6bnVsbH0scGFyZW50czpmdW5jdGlvbihhKXtyZXR1cm4gdShhLCJwYXJlbnROb2RlIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHUoYSwicGFyZW50Tm9kZSIsYyl9LG5leHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIEYoYSwibmV4dFNpYmxpbmciKX0scHJldjpmdW5jdGlvbihhKXtyZXR1cm4gRihhLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihhKXtyZXR1cm4gdShhLCJuZXh0U2libGluZyIpfSxwcmV2QWxsOmZ1bmN0aW9uKGEpe3JldHVybiB1KGEsInByZXZpb3VzU2libGluZyIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB1KGEsIm5leHRTaWJsaW5nIixjKX0scHJldlVudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdShhLCJwcmV2aW91c1NpYmxpbmciLGMpfSxzaWJsaW5nczpmdW5jdGlvbihhKXtyZXR1cm4gdigoYS5wYXJlbnROb2RlfHx7fSkuZmlyc3RDaGlsZCxhKX0sY2hpbGRyZW46ZnVuY3Rpb24oYSl7cmV0dXJuIHYoYS5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oYSl7cmV0dXJuIG4ubm9kZU5hbWUoYSwiaWZyYW1lIik/YS5jb250ZW50RG9jdW1lbnR8fGEuY29udGVudFdpbmRvdy5kb2N1bWVudDpuLm1lcmdlKFtdLGEuY2hpbGROb2Rlcyl9fSxmdW5jdGlvbihhLGIpe24uZm5bYV09ZnVuY3Rpb24oYyxkKXt2YXIgZT1uLm1hcCh0aGlzLGIsYyk7cmV0dXJuIlVudGlsIiE9PWEuc2xpY2UoLTUpJiYoZD1jKSxkJiYic3RyaW5nIj09dHlwZW9mIGQmJihlPW4uZmlsdGVyKGQsZSkpLHRoaXMubGVuZ3RoPjEmJihFW2FdfHwoZT1uLnVuaXF1ZVNvcnQoZSkpLEQudGVzdChhKSYmKGU9ZS5yZXZlcnNlKCkpKSx0aGlzLnB1c2hTdGFjayhlKX19KTt2YXIgRz0vXFMrL2c7ZnVuY3Rpb24gSChhKXt2YXIgYj17fTtyZXR1cm4gbi5lYWNoKGEubWF0Y2goRyl8fFtdLGZ1bmN0aW9uKGEsYyl7YltjXT0hMH0pLGJ9bi5DYWxsYmFja3M9ZnVuY3Rpb24oYSl7YT0ic3RyaW5nIj09dHlwZW9mIGE/SChhKTpuLmV4dGVuZCh7fSxhKTt2YXIgYixjLGQsZSxmPVtdLGc9W10saD0tMSxpPWZ1bmN0aW9uKCl7Zm9yKGU9YS5vbmNlLGQ9Yj0hMDtnLmxlbmd0aDtoPS0xKXtjPWcuc2hpZnQoKTt3aGlsZSgrK2g8Zi5sZW5ndGgpZltoXS5hcHBseShjWzBdLGNbMV0pPT09ITEmJmEuc3RvcE9uRmFsc2UmJihoPWYubGVuZ3RoLGM9ITEpfWEubWVtb3J5fHwoYz0hMSksYj0hMSxlJiYoZj1jP1tdOiIiKX0saj17YWRkOmZ1bmN0aW9uKCl7cmV0dXJuIGYmJihjJiYhYiYmKGg9Zi5sZW5ndGgtMSxnLnB1c2goYykpLGZ1bmN0aW9uIGQoYil7bi5lYWNoKGIsZnVuY3Rpb24oYixjKXtuLmlzRnVuY3Rpb24oYyk/YS51bmlxdWUmJmouaGFzKGMpfHxmLnB1c2goYyk6YyYmYy5sZW5ndGgmJiJzdHJpbmciIT09bi50eXBlKGMpJiZkKGMpfSl9KGFyZ3VtZW50cyksYyYmIWImJmkoKSksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIG4uZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oYSxiKXt2YXIgYzt3aGlsZSgoYz1uLmluQXJyYXkoYixmLGMpKT4tMSlmLnNwbGljZShjLDEpLGg+PWMmJmgtLX0pLHRoaXN9LGhhczpmdW5jdGlvbihhKXtyZXR1cm4gYT9uLmluQXJyYXkoYSxmKT4tMTpmLmxlbmd0aD4wfSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBmJiYoZj1bXSksdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiBlPWc9W10sZj1jPSIiLHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIWZ9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gZT0hMCxjfHxqLmRpc2FibGUoKSx0aGlzfSxsb2NrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWV9LGZpcmVXaXRoOmZ1bmN0aW9uKGEsYyl7cmV0dXJuIGV8fChjPWN8fFtdLGM9W2EsYy5zbGljZT9jLnNsaWNlKCk6Y10sZy5wdXNoKGMpLGJ8fGkoKSksdGhpc30sZmlyZTpmdW5jdGlvbigpe3JldHVybiBqLmZpcmVXaXRoKHRoaXMsYXJndW1lbnRzKSx0aGlzfSxmaXJlZDpmdW5jdGlvbigpe3JldHVybiEhZH19O3JldHVybiBqfSxuLmV4dGVuZCh7RGVmZXJyZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9W1sicmVzb2x2ZSIsImRvbmUiLG4uQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLCJyZXNvbHZlZCJdLFsicmVqZWN0IiwiZmFpbCIsbi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksInJlamVjdGVkIl0sWyJub3RpZnkiLCJwcm9ncmVzcyIsbi5DYWxsYmFja3MoIm1lbW9yeSIpXV0sYz0icGVuZGluZyIsZD17c3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gY30sYWx3YXlzOmZ1bmN0aW9uKCl7cmV0dXJuIGUuZG9uZShhcmd1bWVudHMpLmZhaWwoYXJndW1lbnRzKSx0aGlzfSx0aGVuOmZ1bmN0aW9uKCl7dmFyIGE9YXJndW1lbnRzO3JldHVybiBuLkRlZmVycmVkKGZ1bmN0aW9uKGMpe24uZWFjaChiLGZ1bmN0aW9uKGIsZil7dmFyIGc9bi5pc0Z1bmN0aW9uKGFbYl0pJiZhW2JdO2VbZlsxXV0oZnVuY3Rpb24oKXt2YXIgYT1nJiZnLmFwcGx5KHRoaXMsYXJndW1lbnRzKTthJiZuLmlzRnVuY3Rpb24oYS5wcm9taXNlKT9hLnByb21pc2UoKS5wcm9ncmVzcyhjLm5vdGlmeSkuZG9uZShjLnJlc29sdmUpLmZhaWwoYy5yZWplY3QpOmNbZlswXSsiV2l0aCJdKHRoaXM9PT1kP2MucHJvbWlzZSgpOnRoaXMsZz9bYV06YXJndW1lbnRzKX0pfSksYT1udWxsfSkucHJvbWlzZSgpfSxwcm9taXNlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hP24uZXh0ZW5kKGEsZCk6ZH19LGU9e307cmV0dXJuIGQucGlwZT1kLnRoZW4sbi5lYWNoKGIsZnVuY3Rpb24oYSxmKXt2YXIgZz1mWzJdLGg9ZlszXTtkW2ZbMV1dPWcuYWRkLGgmJmcuYWRkKGZ1bmN0aW9uKCl7Yz1ofSxiWzFeYV1bMl0uZGlzYWJsZSxiWzJdWzJdLmxvY2spLGVbZlswXV09ZnVuY3Rpb24oKXtyZXR1cm4gZVtmWzBdKyJXaXRoIl0odGhpcz09PWU/ZDp0aGlzLGFyZ3VtZW50cyksdGhpc30sZVtmWzBdKyJXaXRoIl09Zy5maXJlV2l0aH0pLGQucHJvbWlzZShlKSxhJiZhLmNhbGwoZSxlKSxlfSx3aGVuOmZ1bmN0aW9uKGEpe3ZhciBiPTAsYz1lLmNhbGwoYXJndW1lbnRzKSxkPWMubGVuZ3RoLGY9MSE9PWR8fGEmJm4uaXNGdW5jdGlvbihhLnByb21pc2UpP2Q6MCxnPTE9PT1mP2E6bi5EZWZlcnJlZCgpLGg9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBmdW5jdGlvbihkKXtiW2FdPXRoaXMsY1thXT1hcmd1bWVudHMubGVuZ3RoPjE/ZS5jYWxsKGFyZ3VtZW50cyk6ZCxjPT09aT9nLm5vdGlmeVdpdGgoYixjKTotLWZ8fGcucmVzb2x2ZVdpdGgoYixjKX19LGksaixrO2lmKGQ+MSlmb3IoaT1uZXcgQXJyYXkoZCksaj1uZXcgQXJyYXkoZCksaz1uZXcgQXJyYXkoZCk7ZD5iO2IrKyljW2JdJiZuLmlzRnVuY3Rpb24oY1tiXS5wcm9taXNlKT9jW2JdLnByb21pc2UoKS5wcm9ncmVzcyhoKGIsaixpKSkuZG9uZShoKGIsayxjKSkuZmFpbChnLnJlamVjdCk6LS1mO3JldHVybiBmfHxnLnJlc29sdmVXaXRoKGssYyksZy5wcm9taXNlKCl9fSk7dmFyIEk7bi5mbi5yZWFkeT1mdW5jdGlvbihhKXtyZXR1cm4gbi5yZWFkeS5wcm9taXNlKCkuZG9uZShhKSx0aGlzfSxuLmV4dGVuZCh7aXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxob2xkUmVhZHk6ZnVuY3Rpb24oYSl7YT9uLnJlYWR5V2FpdCsrOm4ucmVhZHkoITApfSxyZWFkeTpmdW5jdGlvbihhKXsoYT09PSEwPy0tbi5yZWFkeVdhaXQ6bi5pc1JlYWR5KXx8KG4uaXNSZWFkeT0hMCxhIT09ITAmJi0tbi5yZWFkeVdhaXQ+MHx8KEkucmVzb2x2ZVdpdGgoZCxbbl0pLG4uZm4udHJpZ2dlckhhbmRsZXImJihuKGQpLnRyaWdnZXJIYW5kbGVyKCJyZWFkeSIpLG4oZCkub2ZmKCJyZWFkeSIpKSkpfX0pO2Z1bmN0aW9uIEooKXtkLmFkZEV2ZW50TGlzdGVuZXI/KGQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsSyksYS5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIixLKSk6KGQuZGV0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsSyksYS5kZXRhY2hFdmVudCgib25sb2FkIixLKSl9ZnVuY3Rpb24gSygpeyhkLmFkZEV2ZW50TGlzdGVuZXJ8fCJsb2FkIj09PWEuZXZlbnQudHlwZXx8ImNvbXBsZXRlIj09PWQucmVhZHlTdGF0ZSkmJihKKCksbi5yZWFkeSgpKX1uLnJlYWR5LnByb21pc2U9ZnVuY3Rpb24oYil7aWYoIUkpaWYoST1uLkRlZmVycmVkKCksImNvbXBsZXRlIj09PWQucmVhZHlTdGF0ZXx8ImxvYWRpbmciIT09ZC5yZWFkeVN0YXRlJiYhZC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwpYS5zZXRUaW1lb3V0KG4ucmVhZHkpO2Vsc2UgaWYoZC5hZGRFdmVudExpc3RlbmVyKWQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsSyksYS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixLKTtlbHNle2QuYXR0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsSyksYS5hdHRhY2hFdmVudCgib25sb2FkIixLKTt2YXIgYz0hMTt0cnl7Yz1udWxsPT1hLmZyYW1lRWxlbWVudCYmZC5kb2N1bWVudEVsZW1lbnR9Y2F0Y2goZSl7fWMmJmMuZG9TY3JvbGwmJiFmdW5jdGlvbiBmKCl7aWYoIW4uaXNSZWFkeSl7dHJ5e2MuZG9TY3JvbGwoImxlZnQiKX1jYXRjaChiKXtyZXR1cm4gYS5zZXRUaW1lb3V0KGYsNTApfUooKSxuLnJlYWR5KCl9fSgpfXJldHVybiBJLnByb21pc2UoYil9LG4ucmVhZHkucHJvbWlzZSgpO3ZhciBMO2ZvcihMIGluIG4obCkpYnJlYWs7bC5vd25GaXJzdD0iMCI9PT1MLGwuaW5saW5lQmxvY2tOZWVkc0xheW91dD0hMSxuKGZ1bmN0aW9uKCl7dmFyIGEsYixjLGU7Yz1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IilbMF0sYyYmYy5zdHlsZSYmKGI9ZC5jcmVhdGVFbGVtZW50KCJkaXYiKSxlPWQuY3JlYXRlRWxlbWVudCgiZGl2IiksZS5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtib3JkZXI6MDt3aWR0aDowO2hlaWdodDowO3RvcDowO2xlZnQ6LTk5OTlweCIsYy5hcHBlbmRDaGlsZChlKS5hcHBlbmRDaGlsZChiKSwidW5kZWZpbmVkIiE9dHlwZW9mIGIuc3R5bGUuem9vbSYmKGIuc3R5bGUuY3NzVGV4dD0iZGlzcGxheTppbmxpbmU7bWFyZ2luOjA7Ym9yZGVyOjA7cGFkZGluZzoxcHg7d2lkdGg6MXB4O3pvb206MSIsbC5pbmxpbmVCbG9ja05lZWRzTGF5b3V0PWE9Mz09PWIub2Zmc2V0V2lkdGgsYSYmKGMuc3R5bGUuem9vbT0xKSksYy5yZW1vdmVDaGlsZChlKSl9KSxmdW5jdGlvbigpe3ZhciBhPWQuY3JlYXRlRWxlbWVudCgiZGl2Iik7bC5kZWxldGVFeHBhbmRvPSEwO3RyeXtkZWxldGUgYS50ZXN0fWNhdGNoKGIpe2wuZGVsZXRlRXhwYW5kbz0hMX1hPW51bGx9KCk7dmFyIE09ZnVuY3Rpb24oYSl7dmFyIGI9bi5ub0RhdGFbKGEubm9kZU5hbWUrIiAiKS50b0xvd2VyQ2FzZSgpXSxjPSthLm5vZGVUeXBlfHwxO3JldHVybiAxIT09YyYmOSE9PWM/ITE6IWJ8fGIhPT0hMCYmYS5nZXRBdHRyaWJ1dGUoImNsYXNzaWQiKT09PWJ9LE49L14oPzpce1tcd1xXXSpcfXxcW1tcd1xXXSpcXSkkLyxPPS8oW0EtWl0pL2c7ZnVuY3Rpb24gUChhLGIsYyl7aWYodm9pZCAwPT09YyYmMT09PWEubm9kZVR5cGUpe3ZhciBkPSJkYXRhLSIrYi5yZXBsYWNlKE8sIi0kMSIpLnRvTG93ZXJDYXNlKCk7aWYoYz1hLmdldEF0dHJpYnV0ZShkKSwic3RyaW5nIj09dHlwZW9mIGMpe3RyeXtjPSJ0cnVlIj09PWM/ITA6ImZhbHNlIj09PWM/ITE6Im51bGwiPT09Yz9udWxsOitjKyIiPT09Yz8rYzpOLnRlc3QoYyk/bi5wYXJzZUpTT04oYyk6Y31jYXRjaChlKXt9bi5kYXRhKGEsYixjKX1lbHNlIGM9dm9pZCAwOwp9cmV0dXJuIGN9ZnVuY3Rpb24gUShhKXt2YXIgYjtmb3IoYiBpbiBhKWlmKCgiZGF0YSIhPT1ifHwhbi5pc0VtcHR5T2JqZWN0KGFbYl0pKSYmInRvSlNPTiIhPT1iKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIFIoYSxiLGQsZSl7aWYoTShhKSl7dmFyIGYsZyxoPW4uZXhwYW5kbyxpPWEubm9kZVR5cGUsaj1pP24uY2FjaGU6YSxrPWk/YVtoXTphW2hdJiZoO2lmKGsmJmpba10mJihlfHxqW2tdLmRhdGEpfHx2b2lkIDAhPT1kfHwic3RyaW5nIiE9dHlwZW9mIGIpcmV0dXJuIGt8fChrPWk/YVtoXT1jLnBvcCgpfHxuLmd1aWQrKzpoKSxqW2tdfHwoaltrXT1pP3t9Ont0b0pTT046bi5ub29wfSksIm9iamVjdCIhPXR5cGVvZiBiJiYiZnVuY3Rpb24iIT10eXBlb2YgYnx8KGU/altrXT1uLmV4dGVuZChqW2tdLGIpOmpba10uZGF0YT1uLmV4dGVuZChqW2tdLmRhdGEsYikpLGc9altrXSxlfHwoZy5kYXRhfHwoZy5kYXRhPXt9KSxnPWcuZGF0YSksdm9pZCAwIT09ZCYmKGdbbi5jYW1lbENhc2UoYildPWQpLCJzdHJpbmciPT10eXBlb2YgYj8oZj1nW2JdLG51bGw9PWYmJihmPWdbbi5jYW1lbENhc2UoYildKSk6Zj1nLGZ9fWZ1bmN0aW9uIFMoYSxiLGMpe2lmKE0oYSkpe3ZhciBkLGUsZj1hLm5vZGVUeXBlLGc9Zj9uLmNhY2hlOmEsaD1mP2Fbbi5leHBhbmRvXTpuLmV4cGFuZG87aWYoZ1toXSl7aWYoYiYmKGQ9Yz9nW2hdOmdbaF0uZGF0YSkpe24uaXNBcnJheShiKT9iPWIuY29uY2F0KG4ubWFwKGIsbi5jYW1lbENhc2UpKTpiIGluIGQ/Yj1bYl06KGI9bi5jYW1lbENhc2UoYiksYj1iIGluIGQ/W2JdOmIuc3BsaXQoIiAiKSksZT1iLmxlbmd0aDt3aGlsZShlLS0pZGVsZXRlIGRbYltlXV07aWYoYz8hUShkKTohbi5pc0VtcHR5T2JqZWN0KGQpKXJldHVybn0oY3x8KGRlbGV0ZSBnW2hdLmRhdGEsUShnW2hdKSkpJiYoZj9uLmNsZWFuRGF0YShbYV0sITApOmwuZGVsZXRlRXhwYW5kb3x8ZyE9Zy53aW5kb3c/ZGVsZXRlIGdbaF06Z1toXT12b2lkIDApfX19bi5leHRlbmQoe2NhY2hlOnt9LG5vRGF0YTp7ImFwcGxldCAiOiEwLCJlbWJlZCAiOiEwLCJvYmplY3QgIjoiY2xzaWQ6RDI3Q0RCNkUtQUU2RC0xMWNmLTk2QjgtNDQ0NTUzNTQwMDAwIn0saGFzRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gYT1hLm5vZGVUeXBlP24uY2FjaGVbYVtuLmV4cGFuZG9dXTphW24uZXhwYW5kb10sISFhJiYhUShhKX0sZGF0YTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIFIoYSxiLGMpfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEsYil7cmV0dXJuIFMoYSxiKX0sX2RhdGE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBSKGEsYixjLCEwKX0sX3JlbW92ZURhdGE6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gUyhhLGIsITApfX0pLG4uZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9dGhpc1swXSxnPWYmJmYuYXR0cmlidXRlcztpZih2b2lkIDA9PT1hKXtpZih0aGlzLmxlbmd0aCYmKGU9bi5kYXRhKGYpLDE9PT1mLm5vZGVUeXBlJiYhbi5fZGF0YShmLCJwYXJzZWRBdHRycyIpKSl7Yz1nLmxlbmd0aDt3aGlsZShjLS0pZ1tjXSYmKGQ9Z1tjXS5uYW1lLDA9PT1kLmluZGV4T2YoImRhdGEtIikmJihkPW4uY2FtZWxDYXNlKGQuc2xpY2UoNSkpLFAoZixkLGVbZF0pKSk7bi5fZGF0YShmLCJwYXJzZWRBdHRycyIsITApfXJldHVybiBlfXJldHVybiJvYmplY3QiPT10eXBlb2YgYT90aGlzLmVhY2goZnVuY3Rpb24oKXtuLmRhdGEodGhpcyxhKX0pOmFyZ3VtZW50cy5sZW5ndGg+MT90aGlzLmVhY2goZnVuY3Rpb24oKXtuLmRhdGEodGhpcyxhLGIpfSk6Zj9QKGYsYSxuLmRhdGEoZixhKSk6dm9pZCAwfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtuLnJlbW92ZURhdGEodGhpcyxhKX0pfX0pLG4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ7cmV0dXJuIGE/KGI9KGJ8fCJmeCIpKyJxdWV1ZSIsZD1uLl9kYXRhKGEsYiksYyYmKCFkfHxuLmlzQXJyYXkoYyk/ZD1uLl9kYXRhKGEsYixuLm1ha2VBcnJheShjKSk6ZC5wdXNoKGMpKSxkfHxbXSk6dm9pZCAwfSxkZXF1ZXVlOmZ1bmN0aW9uKGEsYil7Yj1ifHwiZngiO3ZhciBjPW4ucXVldWUoYSxiKSxkPWMubGVuZ3RoLGU9Yy5zaGlmdCgpLGY9bi5fcXVldWVIb29rcyhhLGIpLGc9ZnVuY3Rpb24oKXtuLmRlcXVldWUoYSxiKX07ImlucHJvZ3Jlc3MiPT09ZSYmKGU9Yy5zaGlmdCgpLGQtLSksZSYmKCJmeCI9PT1iJiZjLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSxkZWxldGUgZi5zdG9wLGUuY2FsbChhLGcsZikpLCFkJiZmJiZmLmVtcHR5LmZpcmUoKX0sX3F1ZXVlSG9va3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iKyJxdWV1ZUhvb2tzIjtyZXR1cm4gbi5fZGF0YShhLGMpfHxuLl9kYXRhKGEsYyx7ZW1wdHk6bi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikuYWRkKGZ1bmN0aW9uKCl7bi5fcmVtb3ZlRGF0YShhLGIrInF1ZXVlIiksbi5fcmVtb3ZlRGF0YShhLGMpfSl9KX19KSxuLmZuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz0yO3JldHVybiJzdHJpbmciIT10eXBlb2YgYSYmKGI9YSxhPSJmeCIsYy0tKSxhcmd1bWVudHMubGVuZ3RoPGM/bi5xdWV1ZSh0aGlzWzBdLGEpOnZvaWQgMD09PWI/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1uLnF1ZXVlKHRoaXMsYSxiKTtuLl9xdWV1ZUhvb2tzKHRoaXMsYSksImZ4Ij09PWEmJiJpbnByb2dyZXNzIiE9PWNbMF0mJm4uZGVxdWV1ZSh0aGlzLGEpfSl9LGRlcXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe24uZGVxdWV1ZSh0aGlzLGEpfSl9LGNsZWFyUXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucXVldWUoYXx8ImZ4IixbXSl9LHByb21pc2U6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPTEsZT1uLkRlZmVycmVkKCksZj10aGlzLGc9dGhpcy5sZW5ndGgsaD1mdW5jdGlvbigpey0tZHx8ZS5yZXNvbHZlV2l0aChmLFtmXSl9OyJzdHJpbmciIT10eXBlb2YgYSYmKGI9YSxhPXZvaWQgMCksYT1hfHwiZngiO3doaWxlKGctLSljPW4uX2RhdGEoZltnXSxhKyJxdWV1ZUhvb2tzIiksYyYmYy5lbXB0eSYmKGQrKyxjLmVtcHR5LmFkZChoKSk7cmV0dXJuIGgoKSxlLnByb21pc2UoYil9fSksZnVuY3Rpb24oKXt2YXIgYTtsLnNocmlua1dyYXBCbG9ja3M9ZnVuY3Rpb24oKXtpZihudWxsIT1hKXJldHVybiBhO2E9ITE7dmFyIGIsYyxlO3JldHVybiBjPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXSxjJiZjLnN0eWxlPyhiPWQuY3JlYXRlRWxlbWVudCgiZGl2IiksZT1kLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGUuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7Ym9yZGVyOjA7d2lkdGg6MDtoZWlnaHQ6MDt0b3A6MDtsZWZ0Oi05OTk5cHgiLGMuYXBwZW5kQ2hpbGQoZSkuYXBwZW5kQ2hpbGQoYiksInVuZGVmaW5lZCIhPXR5cGVvZiBiLnN0eWxlLnpvb20mJihiLnN0eWxlLmNzc1RleHQ9Ii13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDstbW96LWJveC1zaXppbmc6Y29udGVudC1ib3g7Ym94LXNpemluZzpjb250ZW50LWJveDtkaXNwbGF5OmJsb2NrO21hcmdpbjowO2JvcmRlcjowO3BhZGRpbmc6MXB4O3dpZHRoOjFweDt6b29tOjEiLGIuYXBwZW5kQ2hpbGQoZC5jcmVhdGVFbGVtZW50KCJkaXYiKSkuc3R5bGUud2lkdGg9IjVweCIsYT0zIT09Yi5vZmZzZXRXaWR0aCksYy5yZW1vdmVDaGlsZChlKSxhKTp2b2lkIDB9fSgpO3ZhciBUPS9bKy1dPyg/OlxkKlwufClcZCsoPzpbZUVdWystXT9cZCt8KS8uc291cmNlLFU9bmV3IFJlZ0V4cCgiXig/OihbKy1dKT18KSgiK1QrIikoW2EteiVdKikkIiwiaSIpLFY9WyJUb3AiLCJSaWdodCIsIkJvdHRvbSIsIkxlZnQiXSxXPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9Ynx8YSwibm9uZSI9PT1uLmNzcyhhLCJkaXNwbGF5Iil8fCFuLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKX07ZnVuY3Rpb24gWChhLGIsYyxkKXt2YXIgZSxmPTEsZz0yMCxoPWQ/ZnVuY3Rpb24oKXtyZXR1cm4gZC5jdXIoKX06ZnVuY3Rpb24oKXtyZXR1cm4gbi5jc3MoYSxiLCIiKX0saT1oKCksaj1jJiZjWzNdfHwobi5jc3NOdW1iZXJbYl0/IiI6InB4Iiksaz0obi5jc3NOdW1iZXJbYl18fCJweCIhPT1qJiYraSkmJlUuZXhlYyhuLmNzcyhhLGIpKTtpZihrJiZrWzNdIT09ail7aj1qfHxrWzNdLGM9Y3x8W10saz0raXx8MTtkbyBmPWZ8fCIuNSIsay89ZixuLnN0eWxlKGEsYixrK2opO3doaWxlKGYhPT0oZj1oKCkvaSkmJjEhPT1mJiYtLWcpfXJldHVybiBjJiYoaz0ra3x8K2l8fDAsZT1jWzFdP2srKGNbMV0rMSkqY1syXTorY1syXSxkJiYoZC51bml0PWosZC5zdGFydD1rLGQuZW5kPWUpKSxlfXZhciBZPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe3ZhciBoPTAsaT1hLmxlbmd0aCxqPW51bGw9PWM7aWYoIm9iamVjdCI9PT1uLnR5cGUoYykpe2U9ITA7Zm9yKGggaW4gYylZKGEsYixoLGNbaF0sITAsZixnKX1lbHNlIGlmKHZvaWQgMCE9PWQmJihlPSEwLG4uaXNGdW5jdGlvbihkKXx8KGc9ITApLGomJihnPyhiLmNhbGwoYSxkKSxiPW51bGwpOihqPWIsYj1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGouY2FsbChuKGEpLGMpfSkpLGIpKWZvcig7aT5oO2grKyliKGFbaF0sYyxnP2Q6ZC5jYWxsKGFbaF0saCxiKGFbaF0sYykpKTtyZXR1cm4gZT9hOmo/Yi5jYWxsKGEpOmk/YihhWzBdLGMpOmZ9LFo9L14oPzpjaGVja2JveHxyYWRpbykkL2ksJD0vPChbXHc6LV0rKS8sXz0vXiR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2ksYWE9L15ccysvLGJhPSJhYmJyfGFydGljbGV8YXNpZGV8YXVkaW98YmRpfGNhbnZhc3xkYXRhfGRhdGFsaXN0fGRldGFpbHN8ZGlhbG9nfGZpZ2NhcHRpb258ZmlndXJlfGZvb3RlcnxoZWFkZXJ8aGdyb3VwfG1haW58bWFya3xtZXRlcnxuYXZ8b3V0cHV0fHBpY3R1cmV8cHJvZ3Jlc3N8c2VjdGlvbnxzdW1tYXJ5fHRlbXBsYXRlfHRpbWV8dmlkZW8iO2Z1bmN0aW9uIGNhKGEpe3ZhciBiPWJhLnNwbGl0KCJ8IiksYz1hLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtpZihjLmNyZWF0ZUVsZW1lbnQpd2hpbGUoYi5sZW5ndGgpYy5jcmVhdGVFbGVtZW50KGIucG9wKCkpO3JldHVybiBjfSFmdW5jdGlvbigpe3ZhciBhPWQuY3JlYXRlRWxlbWVudCgiZGl2IiksYj1kLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxjPWQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTthLmlubmVySFRNTD0iICA8bGluay8+PHRhYmxlPjwvdGFibGU+PGEgaHJlZj0nL2EnPmE8L2E+PGlucHV0IHR5cGU9J2NoZWNrYm94Jy8+IixsLmxlYWRpbmdXaGl0ZXNwYWNlPTM9PT1hLmZpcnN0Q2hpbGQubm9kZVR5cGUsbC50Ym9keT0hYS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGJvZHkiKS5sZW5ndGgsbC5odG1sU2VyaWFsaXplPSEhYS5nZXRFbGVtZW50c0J5VGFnTmFtZSgibGluayIpLmxlbmd0aCxsLmh0bWw1Q2xvbmU9Ijw6bmF2PjwvOm5hdj4iIT09ZC5jcmVhdGVFbGVtZW50KCJuYXYiKS5jbG9uZU5vZGUoITApLm91dGVySFRNTCxjLnR5cGU9ImNoZWNrYm94IixjLmNoZWNrZWQ9ITAsYi5hcHBlbmRDaGlsZChjKSxsLmFwcGVuZENoZWNrZWQ9Yy5jaGVja2VkLGEuaW5uZXJIVE1MPSI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+IixsLm5vQ2xvbmVDaGVja2VkPSEhYS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWUsYi5hcHBlbmRDaGlsZChhKSxjPWQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxjLnNldEF0dHJpYnV0ZSgidHlwZSIsInJhZGlvIiksYy5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJjaGVja2VkIiksYy5zZXRBdHRyaWJ1dGUoIm5hbWUiLCJ0IiksYS5hcHBlbmRDaGlsZChjKSxsLmNoZWNrQ2xvbmU9YS5jbG9uZU5vZGUoITApLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmNoZWNrZWQsbC5ub0Nsb25lRXZlbnQ9ISFhLmFkZEV2ZW50TGlzdGVuZXIsYVtuLmV4cGFuZG9dPTEsbC5hdHRyaWJ1dGVzPSFhLmdldEF0dHJpYnV0ZShuLmV4cGFuZG8pfSgpO3ZhciBkYT17b3B0aW9uOlsxLCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+IiwiPC9zZWxlY3Q+Il0sbGVnZW5kOlsxLCI8ZmllbGRzZXQ+IiwiPC9maWVsZHNldD4iXSxhcmVhOlsxLCI8bWFwPiIsIjwvbWFwPiJdLHBhcmFtOlsxLCI8b2JqZWN0PiIsIjwvb2JqZWN0PiJdLHRoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSx0cjpbMiwiPHRhYmxlPjx0Ym9keT4iLCI8L3Rib2R5PjwvdGFibGU+Il0sY29sOlsyLCI8dGFibGU+PHRib2R5PjwvdGJvZHk+PGNvbGdyb3VwPiIsIjwvY29sZ3JvdXA+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sX2RlZmF1bHQ6bC5odG1sU2VyaWFsaXplP1swLCIiLCIiXTpbMSwiWDxkaXY+IiwiPC9kaXY+Il19O2RhLm9wdGdyb3VwPWRhLm9wdGlvbixkYS50Ym9keT1kYS50Zm9vdD1kYS5jb2xncm91cD1kYS5jYXB0aW9uPWRhLnRoZWFkLGRhLnRoPWRhLnRkO2Z1bmN0aW9uIGVhKGEsYil7dmFyIGMsZCxlPTAsZj0idW5kZWZpbmVkIiE9dHlwZW9mIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWU/YS5nZXRFbGVtZW50c0J5VGFnTmFtZShifHwiKiIpOiJ1bmRlZmluZWQiIT10eXBlb2YgYS5xdWVyeVNlbGVjdG9yQWxsP2EucXVlcnlTZWxlY3RvckFsbChifHwiKiIpOnZvaWQgMDtpZighZilmb3IoZj1bXSxjPWEuY2hpbGROb2Rlc3x8YTtudWxsIT0oZD1jW2VdKTtlKyspIWJ8fG4ubm9kZU5hbWUoZCxiKT9mLnB1c2goZCk6bi5tZXJnZShmLGVhKGQsYikpO3JldHVybiB2b2lkIDA9PT1ifHxiJiZuLm5vZGVOYW1lKGEsYik/bi5tZXJnZShbYV0sZik6Zn1mdW5jdGlvbiBmYShhLGIpe2Zvcih2YXIgYyxkPTA7bnVsbCE9KGM9YVtkXSk7ZCsrKW4uX2RhdGEoYywiZ2xvYmFsRXZhbCIsIWJ8fG4uX2RhdGEoYltkXSwiZ2xvYmFsRXZhbCIpKX12YXIgZ2E9Lzx8JiM/XHcrOy8saGE9Lzx0Ym9keS9pO2Z1bmN0aW9uIGlhKGEpe1oudGVzdChhLnR5cGUpJiYoYS5kZWZhdWx0Q2hlY2tlZD1hLmNoZWNrZWQpfWZ1bmN0aW9uIGphKGEsYixjLGQsZSl7Zm9yKHZhciBmLGcsaCxpLGosayxtLG89YS5sZW5ndGgscD1jYShiKSxxPVtdLHI9MDtvPnI7cisrKWlmKGc9YVtyXSxnfHwwPT09ZylpZigib2JqZWN0Ij09PW4udHlwZShnKSluLm1lcmdlKHEsZy5ub2RlVHlwZT9bZ106Zyk7ZWxzZSBpZihnYS50ZXN0KGcpKXtpPWl8fHAuYXBwZW5kQ2hpbGQoYi5jcmVhdGVFbGVtZW50KCJkaXYiKSksaj0oJC5leGVjKGcpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpLG09ZGFbal18fGRhLl9kZWZhdWx0LGkuaW5uZXJIVE1MPW1bMV0rbi5odG1sUHJlZmlsdGVyKGcpK21bMl0sZj1tWzBdO3doaWxlKGYtLSlpPWkubGFzdENoaWxkO2lmKCFsLmxlYWRpbmdXaGl0ZXNwYWNlJiZhYS50ZXN0KGcpJiZxLnB1c2goYi5jcmVhdGVUZXh0Tm9kZShhYS5leGVjKGcpWzBdKSksIWwudGJvZHkpe2c9InRhYmxlIiE9PWp8fGhhLnRlc3QoZyk/Ijx0YWJsZT4iIT09bVsxXXx8aGEudGVzdChnKT8wOmk6aS5maXJzdENoaWxkLGY9ZyYmZy5jaGlsZE5vZGVzLmxlbmd0aDt3aGlsZShmLS0pbi5ub2RlTmFtZShrPWcuY2hpbGROb2Rlc1tmXSwidGJvZHkiKSYmIWsuY2hpbGROb2Rlcy5sZW5ndGgmJmcucmVtb3ZlQ2hpbGQoayl9bi5tZXJnZShxLGkuY2hpbGROb2RlcyksaS50ZXh0Q29udGVudD0iIjt3aGlsZShpLmZpcnN0Q2hpbGQpaS5yZW1vdmVDaGlsZChpLmZpcnN0Q2hpbGQpO2k9cC5sYXN0Q2hpbGR9ZWxzZSBxLnB1c2goYi5jcmVhdGVUZXh0Tm9kZShnKSk7aSYmcC5yZW1vdmVDaGlsZChpKSxsLmFwcGVuZENoZWNrZWR8fG4uZ3JlcChlYShxLCJpbnB1dCIpLGlhKSxyPTA7d2hpbGUoZz1xW3IrK10paWYoZCYmbi5pbkFycmF5KGcsZCk+LTEpZSYmZS5wdXNoKGcpO2Vsc2UgaWYoaD1uLmNvbnRhaW5zKGcub3duZXJEb2N1bWVudCxnKSxpPWVhKHAuYXBwZW5kQ2hpbGQoZyksInNjcmlwdCIpLGgmJmZhKGkpLGMpe2Y9MDt3aGlsZShnPWlbZisrXSlfLnRlc3QoZy50eXBlfHwiIikmJmMucHVzaChnKX1yZXR1cm4gaT1udWxsLHB9IWZ1bmN0aW9uKCl7dmFyIGIsYyxlPWQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zm9yKGIgaW57c3VibWl0OiEwLGNoYW5nZTohMCxmb2N1c2luOiEwfSljPSJvbiIrYiwobFtiXT1jIGluIGEpfHwoZS5zZXRBdHRyaWJ1dGUoYywidCIpLGxbYl09ZS5hdHRyaWJ1dGVzW2NdLmV4cGFuZG89PT0hMSk7ZT1udWxsfSgpO3ZhciBrYT0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYSkkL2ksbGE9L15rZXkvLG1hPS9eKD86bW91c2V8cG9pbnRlcnxjb250ZXh0bWVudXxkcmFnfGRyb3ApfGNsaWNrLyxuYT0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8sb2E9L14oW14uXSopKD86XC4oLispfCkvO2Z1bmN0aW9uIHBhKCl7cmV0dXJuITB9ZnVuY3Rpb24gcWEoKXtyZXR1cm4hMX1mdW5jdGlvbiByYSgpe3RyeXtyZXR1cm4gZC5hY3RpdmVFbGVtZW50fWNhdGNoKGEpe319ZnVuY3Rpb24gc2EoYSxiLGMsZCxlLGYpe3ZhciBnLGg7aWYoIm9iamVjdCI9PXR5cGVvZiBiKXsic3RyaW5nIiE9dHlwZW9mIGMmJihkPWR8fGMsYz12b2lkIDApO2ZvcihoIGluIGIpc2EoYSxoLGMsZCxiW2hdLGYpO3JldHVybiBhfWlmKG51bGw9PWQmJm51bGw9PWU/KGU9YyxkPWM9dm9pZCAwKTpudWxsPT1lJiYoInN0cmluZyI9PXR5cGVvZiBjPyhlPWQsZD12b2lkIDApOihlPWQsZD1jLGM9dm9pZCAwKSksZT09PSExKWU9cWE7ZWxzZSBpZighZSlyZXR1cm4gYTtyZXR1cm4gMT09PWYmJihnPWUsZT1mdW5jdGlvbihhKXtyZXR1cm4gbigpLm9mZihhKSxnLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5ndWlkPWcuZ3VpZHx8KGcuZ3VpZD1uLmd1aWQrKykpLGEuZWFjaChmdW5jdGlvbigpe24uZXZlbnQuYWRkKHRoaXMsYixlLGQsYyl9KX1uLmV2ZW50PXtnbG9iYWw6e30sYWRkOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZyxoLGksaixrLGwsbSxvLHAscSxyPW4uX2RhdGEoYSk7aWYocil7Yy5oYW5kbGVyJiYoaT1jLGM9aS5oYW5kbGVyLGU9aS5zZWxlY3RvciksYy5ndWlkfHwoYy5ndWlkPW4uZ3VpZCsrKSwoZz1yLmV2ZW50cyl8fChnPXIuZXZlbnRzPXt9KSwoaz1yLmhhbmRsZSl8fChrPXIuaGFuZGxlPWZ1bmN0aW9uKGEpe3JldHVybiJ1bmRlZmluZWQiPT10eXBlb2Ygbnx8YSYmbi5ldmVudC50cmlnZ2VyZWQ9PT1hLnR5cGU/dm9pZCAwOm4uZXZlbnQuZGlzcGF0Y2guYXBwbHkoay5lbGVtLGFyZ3VtZW50cyl9LGsuZWxlbT1hKSxiPShifHwiIikubWF0Y2goRyl8fFsiIl0saD1iLmxlbmd0aDt3aGlsZShoLS0pZj1vYS5leGVjKGJbaF0pfHxbXSxvPXE9ZlsxXSxwPShmWzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCksbyYmKGo9bi5ldmVudC5zcGVjaWFsW29dfHx7fSxvPShlP2ouZGVsZWdhdGVUeXBlOmouYmluZFR5cGUpfHxvLGo9bi5ldmVudC5zcGVjaWFsW29dfHx7fSxsPW4uZXh0ZW5kKHt0eXBlOm8sb3JpZ1R5cGU6cSxkYXRhOmQsaGFuZGxlcjpjLGd1aWQ6Yy5ndWlkLHNlbGVjdG9yOmUsbmVlZHNDb250ZXh0OmUmJm4uZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdChlKSxuYW1lc3BhY2U6cC5qb2luKCIuIil9LGkpLChtPWdbb10pfHwobT1nW29dPVtdLG0uZGVsZWdhdGVDb3VudD0wLGouc2V0dXAmJmouc2V0dXAuY2FsbChhLGQscCxrKSE9PSExfHwoYS5hZGRFdmVudExpc3RlbmVyP2EuYWRkRXZlbnRMaXN0ZW5lcihvLGssITEpOmEuYXR0YWNoRXZlbnQmJmEuYXR0YWNoRXZlbnQoIm9uIitvLGspKSksai5hZGQmJihqLmFkZC5jYWxsKGEsbCksbC5oYW5kbGVyLmd1aWR8fChsLmhhbmRsZXIuZ3VpZD1jLmd1aWQpKSxlP20uc3BsaWNlKG0uZGVsZWdhdGVDb3VudCsrLDAsbCk6bS5wdXNoKGwpLG4uZXZlbnQuZ2xvYmFsW29dPSEwKTthPW51bGx9fSxyZW1vdmU6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGgsaSxqLGssbCxtLG8scCxxLHI9bi5oYXNEYXRhKGEpJiZuLl9kYXRhKGEpO2lmKHImJihrPXIuZXZlbnRzKSl7Yj0oYnx8IiIpLm1hdGNoKEcpfHxbIiJdLGo9Yi5sZW5ndGg7d2hpbGUoai0tKWlmKGg9b2EuZXhlYyhiW2pdKXx8W10sbz1xPWhbMV0scD0oaFsyXXx8IiIpLnNwbGl0KCIuIikuc29ydCgpLG8pe2w9bi5ldmVudC5zcGVjaWFsW29dfHx7fSxvPShkP2wuZGVsZWdhdGVUeXBlOmwuYmluZFR5cGUpfHxvLG09a1tvXXx8W10saD1oWzJdJiZuZXcgUmVnRXhwKCIoXnxcXC4pIitwLmpvaW4oIlxcLig/Oi4qXFwufCkiKSsiKFxcLnwkKSIpLGk9Zj1tLmxlbmd0aDt3aGlsZShmLS0pZz1tW2ZdLCFlJiZxIT09Zy5vcmlnVHlwZXx8YyYmYy5ndWlkIT09Zy5ndWlkfHxoJiYhaC50ZXN0KGcubmFtZXNwYWNlKXx8ZCYmZCE9PWcuc2VsZWN0b3ImJigiKioiIT09ZHx8IWcuc2VsZWN0b3IpfHwobS5zcGxpY2UoZiwxKSxnLnNlbGVjdG9yJiZtLmRlbGVnYXRlQ291bnQtLSxsLnJlbW92ZSYmbC5yZW1vdmUuY2FsbChhLGcpKTtpJiYhbS5sZW5ndGgmJihsLnRlYXJkb3duJiZsLnRlYXJkb3duLmNhbGwoYSxwLHIuaGFuZGxlKSE9PSExfHxuLnJlbW92ZUV2ZW50KGEsbyxyLmhhbmRsZSksZGVsZXRlIGtbb10pfWVsc2UgZm9yKG8gaW4gayluLmV2ZW50LnJlbW92ZShhLG8rYltqXSxjLGQsITApO24uaXNFbXB0eU9iamVjdChrKSYmKGRlbGV0ZSByLmhhbmRsZSxuLl9yZW1vdmVEYXRhKGEsImV2ZW50cyIpKX19LHRyaWdnZXI6ZnVuY3Rpb24oYixjLGUsZil7dmFyIGcsaCxpLGosbCxtLG8scD1bZXx8ZF0scT1rLmNhbGwoYiwidHlwZSIpP2IudHlwZTpiLHI9ay5jYWxsKGIsIm5hbWVzcGFjZSIpP2IubmFtZXNwYWNlLnNwbGl0KCIuIik6W107aWYoaT1tPWU9ZXx8ZCwzIT09ZS5ub2RlVHlwZSYmOCE9PWUubm9kZVR5cGUmJiFuYS50ZXN0KHErbi5ldmVudC50cmlnZ2VyZWQpJiYocS5pbmRleE9mKCIuIik+LTEmJihyPXEuc3BsaXQoIi4iKSxxPXIuc2hpZnQoKSxyLnNvcnQoKSksaD1xLmluZGV4T2YoIjoiKTwwJiYib24iK3EsYj1iW24uZXhwYW5kb10/YjpuZXcgbi5FdmVudChxLCJvYmplY3QiPT10eXBlb2YgYiYmYiksYi5pc1RyaWdnZXI9Zj8yOjMsYi5uYW1lc3BhY2U9ci5qb2luKCIuIiksYi5ybmFtZXNwYWNlPWIubmFtZXNwYWNlP25ldyBSZWdFeHAoIihefFxcLikiK3Iuam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIik6bnVsbCxiLnJlc3VsdD12b2lkIDAsYi50YXJnZXR8fChiLnRhcmdldD1lKSxjPW51bGw9PWM/W2JdOm4ubWFrZUFycmF5KGMsW2JdKSxsPW4uZXZlbnQuc3BlY2lhbFtxXXx8e30sZnx8IWwudHJpZ2dlcnx8bC50cmlnZ2VyLmFwcGx5KGUsYykhPT0hMSkpe2lmKCFmJiYhbC5ub0J1YmJsZSYmIW4uaXNXaW5kb3coZSkpe2ZvcihqPWwuZGVsZWdhdGVUeXBlfHxxLG5hLnRlc3QoaitxKXx8KGk9aS5wYXJlbnROb2RlKTtpO2k9aS5wYXJlbnROb2RlKXAucHVzaChpKSxtPWk7bT09PShlLm93bmVyRG9jdW1lbnR8fGQpJiZwLnB1c2gobS5kZWZhdWx0Vmlld3x8bS5wYXJlbnRXaW5kb3d8fGEpfW89MDt3aGlsZSgoaT1wW28rK10pJiYhYi5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKWIudHlwZT1vPjE/ajpsLmJpbmRUeXBlfHxxLGc9KG4uX2RhdGEoaSwiZXZlbnRzIil8fHt9KVtiLnR5cGVdJiZuLl9kYXRhKGksImhhbmRsZSIpLGcmJmcuYXBwbHkoaSxjKSxnPWgmJmlbaF0sZyYmZy5hcHBseSYmTShpKSYmKGIucmVzdWx0PWcuYXBwbHkoaSxjKSxiLnJlc3VsdD09PSExJiZiLnByZXZlbnREZWZhdWx0KCkpO2lmKGIudHlwZT1xLCFmJiYhYi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmKCFsLl9kZWZhdWx0fHxsLl9kZWZhdWx0LmFwcGx5KHAucG9wKCksYyk9PT0hMSkmJk0oZSkmJmgmJmVbcV0mJiFuLmlzV2luZG93KGUpKXttPWVbaF0sbSYmKGVbaF09bnVsbCksbi5ldmVudC50cmlnZ2VyZWQ9cTt0cnl7ZVtxXSgpfWNhdGNoKHMpe31uLmV2ZW50LnRyaWdnZXJlZD12b2lkIDAsbSYmKGVbaF09bSl9cmV0dXJuIGIucmVzdWx0fX0sZGlzcGF0Y2g6ZnVuY3Rpb24oYSl7YT1uLmV2ZW50LmZpeChhKTt2YXIgYixjLGQsZixnLGg9W10saT1lLmNhbGwoYXJndW1lbnRzKSxqPShuLl9kYXRhKHRoaXMsImV2ZW50cyIpfHx7fSlbYS50eXBlXXx8W10saz1uLmV2ZW50LnNwZWNpYWxbYS50eXBlXXx8e307aWYoaVswXT1hLGEuZGVsZWdhdGVUYXJnZXQ9dGhpcywhay5wcmVEaXNwYXRjaHx8ay5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsYSkhPT0hMSl7aD1uLmV2ZW50LmhhbmRsZXJzLmNhbGwodGhpcyxhLGopLGI9MDt3aGlsZSgoZj1oW2IrK10pJiYhYS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKXthLmN1cnJlbnRUYXJnZXQ9Zi5lbGVtLGM9MDt3aGlsZSgoZz1mLmhhbmRsZXJzW2MrK10pJiYhYS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKWEucm5hbWVzcGFjZSYmIWEucm5hbWVzcGFjZS50ZXN0KGcubmFtZXNwYWNlKXx8KGEuaGFuZGxlT2JqPWcsYS5kYXRhPWcuZGF0YSxkPSgobi5ldmVudC5zcGVjaWFsW2cub3JpZ1R5cGVdfHx7fSkuaGFuZGxlfHxnLmhhbmRsZXIpLmFwcGx5KGYuZWxlbSxpKSx2b2lkIDAhPT1kJiYoYS5yZXN1bHQ9ZCk9PT0hMSYmKGEucHJldmVudERlZmF1bHQoKSxhLnN0b3BQcm9wYWdhdGlvbigpKSl9cmV0dXJuIGsucG9zdERpc3BhdGNoJiZrLnBvc3REaXNwYXRjaC5jYWxsKHRoaXMsYSksYS5yZXN1bHR9fSxoYW5kbGVyczpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmLGc9W10saD1iLmRlbGVnYXRlQ291bnQsaT1hLnRhcmdldDtpZihoJiZpLm5vZGVUeXBlJiYoImNsaWNrIiE9PWEudHlwZXx8aXNOYU4oYS5idXR0b24pfHxhLmJ1dHRvbjwxKSlmb3IoO2khPXRoaXM7aT1pLnBhcmVudE5vZGV8fHRoaXMpaWYoMT09PWkubm9kZVR5cGUmJihpLmRpc2FibGVkIT09ITB8fCJjbGljayIhPT1hLnR5cGUpKXtmb3IoZD1bXSxjPTA7aD5jO2MrKylmPWJbY10sZT1mLnNlbGVjdG9yKyIgIix2b2lkIDA9PT1kW2VdJiYoZFtlXT1mLm5lZWRzQ29udGV4dD9uKGUsdGhpcykuaW5kZXgoaSk+LTE6bi5maW5kKGUsdGhpcyxudWxsLFtpXSkubGVuZ3RoKSxkW2VdJiZkLnB1c2goZik7ZC5sZW5ndGgmJmcucHVzaCh7ZWxlbTppLGhhbmRsZXJzOmR9KX1yZXR1cm4gaDxiLmxlbmd0aCYmZy5wdXNoKHtlbGVtOnRoaXMsaGFuZGxlcnM6Yi5zbGljZShoKX0pLGd9LGZpeDpmdW5jdGlvbihhKXtpZihhW24uZXhwYW5kb10pcmV0dXJuIGE7dmFyIGIsYyxlLGY9YS50eXBlLGc9YSxoPXRoaXMuZml4SG9va3NbZl07aHx8KHRoaXMuZml4SG9va3NbZl09aD1tYS50ZXN0KGYpP3RoaXMubW91c2VIb29rczpsYS50ZXN0KGYpP3RoaXMua2V5SG9va3M6e30pLGU9aC5wcm9wcz90aGlzLnByb3BzLmNvbmNhdChoLnByb3BzKTp0aGlzLnByb3BzLGE9bmV3IG4uRXZlbnQoZyksYj1lLmxlbmd0aDt3aGlsZShiLS0pYz1lW2JdLGFbY109Z1tjXTtyZXR1cm4gYS50YXJnZXR8fChhLnRhcmdldD1nLnNyY0VsZW1lbnR8fGQpLDM9PT1hLnRhcmdldC5ub2RlVHlwZSYmKGEudGFyZ2V0PWEudGFyZ2V0LnBhcmVudE5vZGUpLGEubWV0YUtleT0hIWEubWV0YUtleSxoLmZpbHRlcj9oLmZpbHRlcihhLGcpOmF9LHByb3BzOiJhbHRLZXkgYnViYmxlcyBjYW5jZWxhYmxlIGN0cmxLZXkgY3VycmVudFRhcmdldCBkZXRhaWwgZXZlbnRQaGFzZSBtZXRhS2V5IHJlbGF0ZWRUYXJnZXQgc2hpZnRLZXkgdGFyZ2V0IHRpbWVTdGFtcCB2aWV3IHdoaWNoIi5zcGxpdCgiICIpLGZpeEhvb2tzOnt9LGtleUhvb2tzOntwcm9wczoiY2hhciBjaGFyQ29kZSBrZXkga2V5Q29kZSIuc3BsaXQoIiAiKSxmaWx0ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbD09YS53aGljaCYmKGEud2hpY2g9bnVsbCE9Yi5jaGFyQ29kZT9iLmNoYXJDb2RlOmIua2V5Q29kZSksYX19LG1vdXNlSG9va3M6e3Byb3BzOiJidXR0b24gYnV0dG9ucyBjbGllbnRYIGNsaWVudFkgZnJvbUVsZW1lbnQgb2Zmc2V0WCBvZmZzZXRZIHBhZ2VYIHBhZ2VZIHNjcmVlblggc2NyZWVuWSB0b0VsZW1lbnQiLnNwbGl0KCIgIiksZmlsdGVyOmZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmLGc9Yi5idXR0b24saD1iLmZyb21FbGVtZW50O3JldHVybiBudWxsPT1hLnBhZ2VYJiZudWxsIT1iLmNsaWVudFgmJihlPWEudGFyZ2V0Lm93bmVyRG9jdW1lbnR8fGQsZj1lLmRvY3VtZW50RWxlbWVudCxjPWUuYm9keSxhLnBhZ2VYPWIuY2xpZW50WCsoZiYmZi5zY3JvbGxMZWZ0fHxjJiZjLnNjcm9sbExlZnR8fDApLShmJiZmLmNsaWVudExlZnR8fGMmJmMuY2xpZW50TGVmdHx8MCksYS5wYWdlWT1iLmNsaWVudFkrKGYmJmYuc2Nyb2xsVG9wfHxjJiZjLnNjcm9sbFRvcHx8MCktKGYmJmYuY2xpZW50VG9wfHxjJiZjLmNsaWVudFRvcHx8MCkpLCFhLnJlbGF0ZWRUYXJnZXQmJmgmJihhLnJlbGF0ZWRUYXJnZXQ9aD09PWEudGFyZ2V0P2IudG9FbGVtZW50OmgpLGEud2hpY2h8fHZvaWQgMD09PWd8fChhLndoaWNoPTEmZz8xOjImZz8zOjQmZz8yOjApLGF9fSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sZm9jdXM6e3RyaWdnZXI6ZnVuY3Rpb24oKXtpZih0aGlzIT09cmEoKSYmdGhpcy5mb2N1cyl0cnl7cmV0dXJuIHRoaXMuZm9jdXMoKSwhMX1jYXRjaChhKXt9fSxkZWxlZ2F0ZVR5cGU6ImZvY3VzaW4ifSxibHVyOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXM9PT1yYSgpJiZ0aGlzLmJsdXI/KHRoaXMuYmx1cigpLCExKTp2b2lkIDB9LGRlbGVnYXRlVHlwZToiZm9jdXNvdXQifSxjbGljazp7dHJpZ2dlcjpmdW5jdGlvbigpe3JldHVybiBuLm5vZGVOYW1lKHRoaXMsImlucHV0IikmJiJjaGVja2JveCI9PT10aGlzLnR5cGUmJnRoaXMuY2xpY2s/KHRoaXMuY2xpY2soKSwhMSk6dm9pZCAwfSxfZGVmYXVsdDpmdW5jdGlvbihhKXtyZXR1cm4gbi5ub2RlTmFtZShhLnRhcmdldCwiYSIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oYSl7dm9pZCAwIT09YS5yZXN1bHQmJmEub3JpZ2luYWxFdmVudCYmKGEub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1hLnJlc3VsdCl9fX0sc2ltdWxhdGU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW4uZXh0ZW5kKG5ldyBuLkV2ZW50LGMse3R5cGU6YSxpc1NpbXVsYXRlZDohMH0pO24uZXZlbnQudHJpZ2dlcihkLG51bGwsYiksZC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmYy5wcmV2ZW50RGVmYXVsdCgpfX0sbi5yZW1vdmVFdmVudD1kLnJlbW92ZUV2ZW50TGlzdGVuZXI/ZnVuY3Rpb24oYSxiLGMpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lciYmYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsYyl9OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD0ib24iK2I7YS5kZXRhY2hFdmVudCYmKCJ1bmRlZmluZWQiPT10eXBlb2YgYVtkXSYmKGFbZF09bnVsbCksYS5kZXRhY2hFdmVudChkLGMpKX0sbi5FdmVudD1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzIGluc3RhbmNlb2Ygbi5FdmVudD8oYSYmYS50eXBlPyh0aGlzLm9yaWdpbmFsRXZlbnQ9YSx0aGlzLnR5cGU9YS50eXBlLHRoaXMuaXNEZWZhdWx0UHJldmVudGVkPWEuZGVmYXVsdFByZXZlbnRlZHx8dm9pZCAwPT09YS5kZWZhdWx0UHJldmVudGVkJiZhLnJldHVyblZhbHVlPT09ITE/cGE6cWEpOnRoaXMudHlwZT1hLGImJm4uZXh0ZW5kKHRoaXMsYiksdGhpcy50aW1lU3RhbXA9YSYmYS50aW1lU3RhbXB8fG4ubm93KCksdm9pZCh0aGlzW24uZXhwYW5kb109ITApKTpuZXcgbi5FdmVudChhLGIpfSxuLkV2ZW50LnByb3RvdHlwZT17Y29uc3RydWN0b3I6bi5FdmVudCxpc0RlZmF1bHRQcmV2ZW50ZWQ6cWEsaXNQcm9wYWdhdGlvblN0b3BwZWQ6cWEsaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6cWEscHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9cGEsYSYmKGEucHJldmVudERlZmF1bHQ/YS5wcmV2ZW50RGVmYXVsdCgpOmEucmV0dXJuVmFsdWU9ITEpfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZD1wYSxhJiYhdGhpcy5pc1NpbXVsYXRlZCYmKGEuc3RvcFByb3BhZ2F0aW9uJiZhLnN0b3BQcm9wYWdhdGlvbigpLGEuY2FuY2VsQnViYmxlPSEwKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9cGEsYSYmYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24mJmEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdGhpcy5zdG9wUHJvcGFnYXRpb24oKX19LG4uZWFjaCh7bW91c2VlbnRlcjoibW91c2VvdmVyIixtb3VzZWxlYXZlOiJtb3VzZW91dCIscG9pbnRlcmVudGVyOiJwb2ludGVyb3ZlciIscG9pbnRlcmxlYXZlOiJwb2ludGVyb3V0In0sZnVuY3Rpb24oYSxiKXtuLmV2ZW50LnNwZWNpYWxbYV09e2RlbGVnYXRlVHlwZTpiLGJpbmRUeXBlOmIsaGFuZGxlOmZ1bmN0aW9uKGEpe3ZhciBjLGQ9dGhpcyxlPWEucmVsYXRlZFRhcmdldCxmPWEuaGFuZGxlT2JqO3JldHVybiBlJiYoZT09PWR8fG4uY29udGFpbnMoZCxlKSl8fChhLnR5cGU9Zi5vcmlnVHlwZSxjPWYuaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyksYS50eXBlPWIpLGN9fX0pLGwuc3VibWl0fHwobi5ldmVudC5zcGVjaWFsLnN1Ym1pdD17c2V0dXA6ZnVuY3Rpb24oKXtyZXR1cm4gbi5ub2RlTmFtZSh0aGlzLCJmb3JtIik/ITE6dm9pZCBuLmV2ZW50LmFkZCh0aGlzLCJjbGljay5fc3VibWl0IGtleXByZXNzLl9zdWJtaXQiLGZ1bmN0aW9uKGEpe3ZhciBiPWEudGFyZ2V0LGM9bi5ub2RlTmFtZShiLCJpbnB1dCIpfHxuLm5vZGVOYW1lKGIsImJ1dHRvbiIpP24ucHJvcChiLCJmb3JtIik6dm9pZCAwO2MmJiFuLl9kYXRhKGMsInN1Ym1pdCIpJiYobi5ldmVudC5hZGQoYywic3VibWl0Ll9zdWJtaXQiLGZ1bmN0aW9uKGEpe2EuX3N1Ym1pdEJ1YmJsZT0hMH0pLG4uX2RhdGEoYywic3VibWl0IiwhMCkpfSl9LHBvc3REaXNwYXRjaDpmdW5jdGlvbihhKXthLl9zdWJtaXRCdWJibGUmJihkZWxldGUgYS5fc3VibWl0QnViYmxlLHRoaXMucGFyZW50Tm9kZSYmIWEuaXNUcmlnZ2VyJiZuLmV2ZW50LnNpbXVsYXRlKCJzdWJtaXQiLHRoaXMucGFyZW50Tm9kZSxhKSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7cmV0dXJuIG4ubm9kZU5hbWUodGhpcywiZm9ybSIpPyExOnZvaWQgbi5ldmVudC5yZW1vdmUodGhpcywiLl9zdWJtaXQiKX19KSxsLmNoYW5nZXx8KG4uZXZlbnQuc3BlY2lhbC5jaGFuZ2U9e3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIGthLnRlc3QodGhpcy5ub2RlTmFtZSk/KCJjaGVja2JveCIhPT10aGlzLnR5cGUmJiJyYWRpbyIhPT10aGlzLnR5cGV8fChuLmV2ZW50LmFkZCh0aGlzLCJwcm9wZXJ0eWNoYW5nZS5fY2hhbmdlIixmdW5jdGlvbihhKXsiY2hlY2tlZCI9PT1hLm9yaWdpbmFsRXZlbnQucHJvcGVydHlOYW1lJiYodGhpcy5fanVzdENoYW5nZWQ9ITApfSksbi5ldmVudC5hZGQodGhpcywiY2xpY2suX2NoYW5nZSIsZnVuY3Rpb24oYSl7dGhpcy5fanVzdENoYW5nZWQmJiFhLmlzVHJpZ2dlciYmKHRoaXMuX2p1c3RDaGFuZ2VkPSExKSxuLmV2ZW50LnNpbXVsYXRlKCJjaGFuZ2UiLHRoaXMsYSl9KSksITEpOnZvaWQgbi5ldmVudC5hZGQodGhpcywiYmVmb3JlYWN0aXZhdGUuX2NoYW5nZSIsZnVuY3Rpb24oYSl7dmFyIGI9YS50YXJnZXQ7a2EudGVzdChiLm5vZGVOYW1lKSYmIW4uX2RhdGEoYiwiY2hhbmdlIikmJihuLmV2ZW50LmFkZChiLCJjaGFuZ2UuX2NoYW5nZSIsZnVuY3Rpb24oYSl7IXRoaXMucGFyZW50Tm9kZXx8YS5pc1NpbXVsYXRlZHx8YS5pc1RyaWdnZXJ8fG4uZXZlbnQuc2ltdWxhdGUoImNoYW5nZSIsdGhpcy5wYXJlbnROb2RlLGEpfSksbi5fZGF0YShiLCJjaGFuZ2UiLCEwKSl9KX0saGFuZGxlOmZ1bmN0aW9uKGEpe3ZhciBiPWEudGFyZ2V0O3JldHVybiB0aGlzIT09Ynx8YS5pc1NpbXVsYXRlZHx8YS5pc1RyaWdnZXJ8fCJyYWRpbyIhPT1iLnR5cGUmJiJjaGVja2JveCIhPT1iLnR5cGU/YS5oYW5kbGVPYmouaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dm9pZCAwfSx0ZWFyZG93bjpmdW5jdGlvbigpe3JldHVybiBuLmV2ZW50LnJlbW92ZSh0aGlzLCIuX2NoYW5nZSIpLCFrYS50ZXN0KHRoaXMubm9kZU5hbWUpfX0pLGwuZm9jdXNpbnx8bi5lYWNoKHtmb2N1czoiZm9jdXNpbiIsYmx1cjoiZm9jdXNvdXQifSxmdW5jdGlvbihhLGIpe3ZhciBjPWZ1bmN0aW9uKGEpe24uZXZlbnQuc2ltdWxhdGUoYixhLnRhcmdldCxuLmV2ZW50LmZpeChhKSl9O24uZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsZT1uLl9kYXRhKGQsYik7ZXx8ZC5hZGRFdmVudExpc3RlbmVyKGEsYywhMCksbi5fZGF0YShkLGIsKGV8fDApKzEpfSx0ZWFyZG93bjpmdW5jdGlvbigpe3ZhciBkPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcyxlPW4uX2RhdGEoZCxiKS0xO2U/bi5fZGF0YShkLGIsZSk6KGQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGMsITApLG4uX3JlbW92ZURhdGEoZCxiKSl9fX0pLG4uZm4uZXh0ZW5kKHtvbjpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gc2EodGhpcyxhLGIsYyxkKX0sb25lOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBzYSh0aGlzLGEsYixjLGQsMSl9LG9mZjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZTtpZihhJiZhLnByZXZlbnREZWZhdWx0JiZhLmhhbmRsZU9iailyZXR1cm4gZD1hLmhhbmRsZU9iaixuKGEuZGVsZWdhdGVUYXJnZXQpLm9mZihkLm5hbWVzcGFjZT9kLm9yaWdUeXBlKyIuIitkLm5hbWVzcGFjZTpkLm9yaWdUeXBlLGQuc2VsZWN0b3IsZC5oYW5kbGVyKSx0aGlzO2lmKCJvYmplY3QiPT10eXBlb2YgYSl7Zm9yKGUgaW4gYSl0aGlzLm9mZihlLGIsYVtlXSk7cmV0dXJuIHRoaXN9cmV0dXJuIGIhPT0hMSYmImZ1bmN0aW9uIiE9dHlwZW9mIGJ8fChjPWIsYj12b2lkIDApLGM9PT0hMSYmKGM9cWEpLHRoaXMuZWFjaChmdW5jdGlvbigpe24uZXZlbnQucmVtb3ZlKHRoaXMsYSxjLGIpfSl9LHRyaWdnZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bi5ldmVudC50cmlnZ2VyKGEsYix0aGlzKX0pfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXNbMF07cmV0dXJuIGM/bi5ldmVudC50cmlnZ2VyKGEsYixjLCEwKTp2b2lkIDB9fSk7dmFyIHRhPS8galF1ZXJ5XGQrPSIoPzpudWxsfFxkKykiL2csdWE9bmV3IFJlZ0V4cCgiPCg/OiIrYmErIilbXFxzLz5dIiwiaSIpLHZhPS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcdzotXSspW14+XSopXC8+L2dpLHdhPS88c2NyaXB0fDxzdHlsZXw8bGluay9pLHhhPS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLHlhPS9edHJ1ZVwvKC4qKS8semE9L15ccyo8ISg/OlxbQ0RBVEFcW3wtLSl8KD86XF1cXXwtLSk+XHMqJC9nLEFhPWNhKGQpLEJhPUFhLmFwcGVuZENoaWxkKGQuY3JlYXRlRWxlbWVudCgiZGl2IikpO2Z1bmN0aW9uIENhKGEsYil7cmV0dXJuIG4ubm9kZU5hbWUoYSwidGFibGUiKSYmbi5ub2RlTmFtZSgxMSE9PWIubm9kZVR5cGU/YjpiLmZpcnN0Q2hpbGQsInRyIik/YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGJvZHkiKVswXXx8YS5hcHBlbmRDaGlsZChhLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGJvZHkiKSk6YX1mdW5jdGlvbiBEYShhKXtyZXR1cm4gYS50eXBlPShudWxsIT09bi5maW5kLmF0dHIoYSwidHlwZSIpKSsiLyIrYS50eXBlLGF9ZnVuY3Rpb24gRWEoYSl7dmFyIGI9eWEuZXhlYyhhLnR5cGUpO3JldHVybiBiP2EudHlwZT1iWzFdOmEucmVtb3ZlQXR0cmlidXRlKCJ0eXBlIiksYX1mdW5jdGlvbiBGYShhLGIpe2lmKDE9PT1iLm5vZGVUeXBlJiZuLmhhc0RhdGEoYSkpe3ZhciBjLGQsZSxmPW4uX2RhdGEoYSksZz1uLl9kYXRhKGIsZiksaD1mLmV2ZW50cztpZihoKXtkZWxldGUgZy5oYW5kbGUsZy5ldmVudHM9e307Zm9yKGMgaW4gaClmb3IoZD0wLGU9aFtjXS5sZW5ndGg7ZT5kO2QrKyluLmV2ZW50LmFkZChiLGMsaFtjXVtkXSl9Zy5kYXRhJiYoZy5kYXRhPW4uZXh0ZW5kKHt9LGcuZGF0YSkpfX1mdW5jdGlvbiBHYShhLGIpe3ZhciBjLGQsZTtpZigxPT09Yi5ub2RlVHlwZSl7aWYoYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksIWwubm9DbG9uZUV2ZW50JiZiW24uZXhwYW5kb10pe2U9bi5fZGF0YShiKTtmb3IoZCBpbiBlLmV2ZW50cyluLnJlbW92ZUV2ZW50KGIsZCxlLmhhbmRsZSk7Yi5yZW1vdmVBdHRyaWJ1dGUobi5leHBhbmRvKX0ic2NyaXB0Ij09PWMmJmIudGV4dCE9PWEudGV4dD8oRGEoYikudGV4dD1hLnRleHQsRWEoYikpOiJvYmplY3QiPT09Yz8oYi5wYXJlbnROb2RlJiYoYi5vdXRlckhUTUw9YS5vdXRlckhUTUwpLGwuaHRtbDVDbG9uZSYmYS5pbm5lckhUTUwmJiFuLnRyaW0oYi5pbm5lckhUTUwpJiYoYi5pbm5lckhUTUw9YS5pbm5lckhUTUwpKToiaW5wdXQiPT09YyYmWi50ZXN0KGEudHlwZSk/KGIuZGVmYXVsdENoZWNrZWQ9Yi5jaGVja2VkPWEuY2hlY2tlZCxiLnZhbHVlIT09YS52YWx1ZSYmKGIudmFsdWU9YS52YWx1ZSkpOiJvcHRpb24iPT09Yz9iLmRlZmF1bHRTZWxlY3RlZD1iLnNlbGVjdGVkPWEuZGVmYXVsdFNlbGVjdGVkOiJpbnB1dCIhPT1jJiYidGV4dGFyZWEiIT09Y3x8KGIuZGVmYXVsdFZhbHVlPWEuZGVmYXVsdFZhbHVlKX19ZnVuY3Rpb24gSGEoYSxiLGMsZCl7Yj1mLmFwcGx5KFtdLGIpO3ZhciBlLGcsaCxpLGosayxtPTAsbz1hLmxlbmd0aCxwPW8tMSxxPWJbMF0scj1uLmlzRnVuY3Rpb24ocSk7aWYocnx8bz4xJiYic3RyaW5nIj09dHlwZW9mIHEmJiFsLmNoZWNrQ2xvbmUmJnhhLnRlc3QocSkpcmV0dXJuIGEuZWFjaChmdW5jdGlvbihlKXt2YXIgZj1hLmVxKGUpO3ImJihiWzBdPXEuY2FsbCh0aGlzLGUsZi5odG1sKCkpKSxIYShmLGIsYyxkKX0pO2lmKG8mJihrPWphKGIsYVswXS5vd25lckRvY3VtZW50LCExLGEsZCksZT1rLmZpcnN0Q2hpbGQsMT09PWsuY2hpbGROb2Rlcy5sZW5ndGgmJihrPWUpLGV8fGQpKXtmb3IoaT1uLm1hcChlYShrLCJzY3JpcHQiKSxEYSksaD1pLmxlbmd0aDtvPm07bSsrKWc9ayxtIT09cCYmKGc9bi5jbG9uZShnLCEwLCEwKSxoJiZuLm1lcmdlKGksZWEoZywic2NyaXB0IikpKSxjLmNhbGwoYVttXSxnLG0pO2lmKGgpZm9yKGo9aVtpLmxlbmd0aC0xXS5vd25lckRvY3VtZW50LG4ubWFwKGksRWEpLG09MDtoPm07bSsrKWc9aVttXSxfLnRlc3QoZy50eXBlfHwiIikmJiFuLl9kYXRhKGcsImdsb2JhbEV2YWwiKSYmbi5jb250YWlucyhqLGcpJiYoZy5zcmM/bi5fZXZhbFVybCYmbi5fZXZhbFVybChnLnNyYyk6bi5nbG9iYWxFdmFsKChnLnRleHR8fGcudGV4dENvbnRlbnR8fGcuaW5uZXJIVE1MfHwiIikucmVwbGFjZSh6YSwiIikpKTtrPWU9bnVsbH1yZXR1cm4gYX1mdW5jdGlvbiBJYShhLGIsYyl7Zm9yKHZhciBkLGU9Yj9uLmZpbHRlcihiLGEpOmEsZj0wO251bGwhPShkPWVbZl0pO2YrKyljfHwxIT09ZC5ub2RlVHlwZXx8bi5jbGVhbkRhdGEoZWEoZCkpLGQucGFyZW50Tm9kZSYmKGMmJm4uY29udGFpbnMoZC5vd25lckRvY3VtZW50LGQpJiZmYShlYShkLCJzY3JpcHQiKSksZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGQpKTtyZXR1cm4gYX1uLmV4dGVuZCh7aHRtbFByZWZpbHRlcjpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKHZhLCI8JDE+PC8kMj4iKX0sY2xvbmU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGgsaT1uLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKTtpZihsLmh0bWw1Q2xvbmV8fG4uaXNYTUxEb2MoYSl8fCF1YS50ZXN0KCI8IithLm5vZGVOYW1lKyI+Iik/Zj1hLmNsb25lTm9kZSghMCk6KEJhLmlubmVySFRNTD1hLm91dGVySFRNTCxCYS5yZW1vdmVDaGlsZChmPUJhLmZpcnN0Q2hpbGQpKSwhKGwubm9DbG9uZUV2ZW50JiZsLm5vQ2xvbmVDaGVja2VkfHwxIT09YS5ub2RlVHlwZSYmMTEhPT1hLm5vZGVUeXBlfHxuLmlzWE1MRG9jKGEpKSlmb3IoZD1lYShmKSxoPWVhKGEpLGc9MDtudWxsIT0oZT1oW2ddKTsrK2cpZFtnXSYmR2EoZSxkW2ddKTtpZihiKWlmKGMpZm9yKGg9aHx8ZWEoYSksZD1kfHxlYShmKSxnPTA7bnVsbCE9KGU9aFtnXSk7ZysrKUZhKGUsZFtnXSk7ZWxzZSBGYShhLGYpO3JldHVybiBkPWVhKGYsInNjcmlwdCIpLGQubGVuZ3RoPjAmJmZhKGQsIWkmJmVhKGEsInNjcmlwdCIpKSxkPWg9ZT1udWxsLGZ9LGNsZWFuRGF0YTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgZCxlLGYsZyxoPTAsaT1uLmV4cGFuZG8saj1uLmNhY2hlLGs9bC5hdHRyaWJ1dGVzLG09bi5ldmVudC5zcGVjaWFsO251bGwhPShkPWFbaF0pO2grKylpZigoYnx8TShkKSkmJihmPWRbaV0sZz1mJiZqW2ZdKSl7aWYoZy5ldmVudHMpZm9yKGUgaW4gZy5ldmVudHMpbVtlXT9uLmV2ZW50LnJlbW92ZShkLGUpOm4ucmVtb3ZlRXZlbnQoZCxlLGcuaGFuZGxlKTtqW2ZdJiYoZGVsZXRlIGpbZl0sa3x8InVuZGVmaW5lZCI9PXR5cGVvZiBkLnJlbW92ZUF0dHJpYnV0ZT9kW2ldPXZvaWQgMDpkLnJlbW92ZUF0dHJpYnV0ZShpKSxjLnB1c2goZikpfX19KSxuLmZuLmV4dGVuZCh7ZG9tTWFuaXA6SGEsZGV0YWNoOmZ1bmN0aW9uKGEpe3JldHVybiBJYSh0aGlzLGEsITApfSxyZW1vdmU6ZnVuY3Rpb24oYSl7cmV0dXJuIElhKHRoaXMsYSl9LHRleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIFkodGhpcyxmdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwPT09YT9uLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmFwcGVuZCgodGhpc1swXSYmdGhpc1swXS5vd25lckRvY3VtZW50fHxkKS5jcmVhdGVUZXh0Tm9kZShhKSl9LG51bGwsYSxhcmd1bWVudHMubGVuZ3RoKX0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIEhhKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGEpe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgYj1DYSh0aGlzLGEpO2IuYXBwZW5kQ2hpbGQoYSl9fSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gSGEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYSl7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpe3ZhciBiPUNhKHRoaXMsYSk7Yi5pbnNlcnRCZWZvcmUoYSxiLmZpcnN0Q2hpbGQpfX0pfSxiZWZvcmU6ZnVuY3Rpb24oKXtyZXR1cm4gSGEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsdGhpcyl9KX0sYWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gSGEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsdGhpcy5uZXh0U2libGluZyl9KX0sZW1wdHk6ZnVuY3Rpb24oKXtmb3IodmFyIGEsYj0wO251bGwhPShhPXRoaXNbYl0pO2IrKyl7MT09PWEubm9kZVR5cGUmJm4uY2xlYW5EYXRhKGVhKGEsITEpKTt3aGlsZShhLmZpcnN0Q2hpbGQpYS5yZW1vdmVDaGlsZChhLmZpcnN0Q2hpbGQpO2Eub3B0aW9ucyYmbi5ub2RlTmFtZShhLCJzZWxlY3QiKSYmKGEub3B0aW9ucy5sZW5ndGg9MCl9cmV0dXJuIHRoaXN9LGNsb25lOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9bnVsbD09YT8hMTphLGI9bnVsbD09Yj9hOmIsdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gbi5jbG9uZSh0aGlzLGEsYil9KX0saHRtbDpmdW5jdGlvbihhKXtyZXR1cm4gWSh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXNbMF18fHt9LGM9MCxkPXRoaXMubGVuZ3RoO2lmKHZvaWQgMD09PWEpcmV0dXJuIDE9PT1iLm5vZGVUeXBlP2IuaW5uZXJIVE1MLnJlcGxhY2UodGEsIiIpOnZvaWQgMDtpZigic3RyaW5nIj09dHlwZW9mIGEmJiF3YS50ZXN0KGEpJiYobC5odG1sU2VyaWFsaXplfHwhdWEudGVzdChhKSkmJihsLmxlYWRpbmdXaGl0ZXNwYWNlfHwhYWEudGVzdChhKSkmJiFkYVsoJC5leGVjKGEpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpXSl7YT1uLmh0bWxQcmVmaWx0ZXIoYSk7dHJ5e2Zvcig7ZD5jO2MrKyliPXRoaXNbY118fHt9LDE9PT1iLm5vZGVUeXBlJiYobi5jbGVhbkRhdGEoZWEoYiwhMSkpLGIuaW5uZXJIVE1MPWEpO2I9MH1jYXRjaChlKXt9fWImJnRoaXMuZW1wdHkoKS5hcHBlbmQoYSl9LG51bGwsYSxhcmd1bWVudHMubGVuZ3RoKX0scmVwbGFjZVdpdGg6ZnVuY3Rpb24oKXt2YXIgYT1bXTtyZXR1cm4gSGEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5wYXJlbnROb2RlO24uaW5BcnJheSh0aGlzLGEpPDAmJihuLmNsZWFuRGF0YShlYSh0aGlzKSksYyYmYy5yZXBsYWNlQ2hpbGQoYix0aGlzKSl9LGEpfX0pLG4uZWFjaCh7YXBwZW5kVG86ImFwcGVuZCIscHJlcGVuZFRvOiJwcmVwZW5kIixpbnNlcnRCZWZvcmU6ImJlZm9yZSIsaW5zZXJ0QWZ0ZXI6ImFmdGVyIixyZXBsYWNlQWxsOiJyZXBsYWNlV2l0aCJ9LGZ1bmN0aW9uKGEsYil7bi5mblthXT1mdW5jdGlvbihhKXtmb3IodmFyIGMsZD0wLGU9W10sZj1uKGEpLGg9Zi5sZW5ndGgtMTtoPj1kO2QrKyljPWQ9PT1oP3RoaXM6dGhpcy5jbG9uZSghMCksbihmW2RdKVtiXShjKSxnLmFwcGx5KGUsYy5nZXQoKSk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGUpfX0pO3ZhciBKYSxLYT17SFRNTDoiYmxvY2siLEJPRFk6ImJsb2NrIn07ZnVuY3Rpb24gTGEoYSxiKXt2YXIgYz1uKGIuY3JlYXRlRWxlbWVudChhKSkuYXBwZW5kVG8oYi5ib2R5KSxkPW4uY3NzKGNbMF0sImRpc3BsYXkiKTtyZXR1cm4gYy5kZXRhY2goKSxkfWZ1bmN0aW9uIE1hKGEpe3ZhciBiPWQsYz1LYVthXTtyZXR1cm4gY3x8KGM9TGEoYSxiKSwibm9uZSIhPT1jJiZjfHwoSmE9KEphfHxuKCI8aWZyYW1lIGZyYW1lYm9yZGVyPScwJyB3aWR0aD0nMCcgaGVpZ2h0PScwJy8+IikpLmFwcGVuZFRvKGIuZG9jdW1lbnRFbGVtZW50KSxiPShKYVswXS5jb250ZW50V2luZG93fHxKYVswXS5jb250ZW50RG9jdW1lbnQpLmRvY3VtZW50LGIud3JpdGUoKSxiLmNsb3NlKCksYz1MYShhLGIpLEphLmRldGFjaCgpKSxLYVthXT1jKSxjfXZhciBOYT0vXm1hcmdpbi8sT2E9bmV3IFJlZ0V4cCgiXigiK1QrIikoPyFweClbYS16JV0rJCIsImkiKSxQYT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmLGc9e307Zm9yKGYgaW4gYilnW2ZdPWEuc3R5bGVbZl0sYS5zdHlsZVtmXT1iW2ZdO2U9Yy5hcHBseShhLGR8fFtdKTtmb3IoZiBpbiBiKWEuc3R5bGVbZl09Z1tmXTtyZXR1cm4gZX0sUWE9ZC5kb2N1bWVudEVsZW1lbnQ7IWZ1bmN0aW9uKCl7dmFyIGIsYyxlLGYsZyxoLGk9ZC5jcmVhdGVFbGVtZW50KCJkaXYiKSxqPWQuY3JlYXRlRWxlbWVudCgiZGl2Iik7aWYoai5zdHlsZSl7ai5zdHlsZS5jc3NUZXh0PSJmbG9hdDpsZWZ0O29wYWNpdHk6LjUiLGwub3BhY2l0eT0iMC41Ij09PWouc3R5bGUub3BhY2l0eSxsLmNzc0Zsb2F0PSEhai5zdHlsZS5jc3NGbG9hdCxqLnN0eWxlLmJhY2tncm91bmRDbGlwPSJjb250ZW50LWJveCIsai5jbG9uZU5vZGUoITApLnN0eWxlLmJhY2tncm91bmRDbGlwPSIiLGwuY2xlYXJDbG9uZVN0eWxlPSJjb250ZW50LWJveCI9PT1qLnN0eWxlLmJhY2tncm91bmRDbGlwLGk9ZC5jcmVhdGVFbGVtZW50KCJkaXYiKSxpLnN0eWxlLmNzc1RleHQ9ImJvcmRlcjowO3dpZHRoOjhweDtoZWlnaHQ6MDt0b3A6MDtsZWZ0Oi05OTk5cHg7cGFkZGluZzowO21hcmdpbi10b3A6MXB4O3Bvc2l0aW9uOmFic29sdXRlIixqLmlubmVySFRNTD0iIixpLmFwcGVuZENoaWxkKGopLGwuYm94U2l6aW5nPSIiPT09ai5zdHlsZS5ib3hTaXppbmd8fCIiPT09ai5zdHlsZS5Nb3pCb3hTaXppbmd8fCIiPT09ai5zdHlsZS5XZWJraXRCb3hTaXppbmcsbi5leHRlbmQobCx7cmVsaWFibGVIaWRkZW5PZmZzZXRzOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PWImJmsoKSxmfSxib3hTaXppbmdSZWxpYWJsZTpmdW5jdGlvbigpe3JldHVybiBudWxsPT1iJiZrKCksZX0scGl4ZWxNYXJnaW5SaWdodDpmdW5jdGlvbigpe3JldHVybiBudWxsPT1iJiZrKCksY30scGl4ZWxQb3NpdGlvbjpmdW5jdGlvbigpe3JldHVybiBudWxsPT1iJiZrKCksYn0scmVsaWFibGVNYXJnaW5SaWdodDpmdW5jdGlvbigpe3JldHVybiBudWxsPT1iJiZrKCksZ30scmVsaWFibGVNYXJnaW5MZWZ0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PWImJmsoKSxofX0pO2Z1bmN0aW9uIGsoKXt2YXIgayxsLG09ZC5kb2N1bWVudEVsZW1lbnQ7bS5hcHBlbmRDaGlsZChpKSxqLnN0eWxlLmNzc1RleHQ9Ii13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmJsb2NrO21hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7dG9wOjElO3dpZHRoOjUwJSIsYj1lPWg9ITEsYz1nPSEwLGEuZ2V0Q29tcHV0ZWRTdHlsZSYmKGw9YS5nZXRDb21wdXRlZFN0eWxlKGopLGI9IjElIiE9PShsfHx7fSkudG9wLGg9IjJweCI9PT0obHx8e30pLm1hcmdpbkxlZnQsZT0iNHB4Ij09PShsfHx7d2lkdGg6IjRweCJ9KS53aWR0aCxqLnN0eWxlLm1hcmdpblJpZ2h0PSI1MCUiLGM9IjRweCI9PT0obHx8e21hcmdpblJpZ2h0OiI0cHgifSkubWFyZ2luUmlnaHQsaz1qLmFwcGVuZENoaWxkKGQuY3JlYXRlRWxlbWVudCgiZGl2IikpLGsuc3R5bGUuY3NzVGV4dD1qLnN0eWxlLmNzc1RleHQ9Ii13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDstbW96LWJveC1zaXppbmc6Y29udGVudC1ib3g7Ym94LXNpemluZzpjb250ZW50LWJveDtkaXNwbGF5OmJsb2NrO21hcmdpbjowO2JvcmRlcjowO3BhZGRpbmc6MCIsay5zdHlsZS5tYXJnaW5SaWdodD1rLnN0eWxlLndpZHRoPSIwIixqLnN0eWxlLndpZHRoPSIxcHgiLGc9IXBhcnNlRmxvYXQoKGEuZ2V0Q29tcHV0ZWRTdHlsZShrKXx8e30pLm1hcmdpblJpZ2h0KSxqLnJlbW92ZUNoaWxkKGspKSxqLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGY9MD09PWouZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgsZiYmKGouc3R5bGUuZGlzcGxheT0iIixqLmlubmVySFRNTD0iPHRhYmxlPjx0cj48dGQ+PC90ZD48dGQ+dDwvdGQ+PC90cj48L3RhYmxlPiIsai5jaGlsZE5vZGVzWzBdLnN0eWxlLmJvcmRlckNvbGxhcHNlPSJzZXBhcmF0ZSIsaz1qLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0ZCIpLGtbMF0uc3R5bGUuY3NzVGV4dD0ibWFyZ2luOjA7Ym9yZGVyOjA7cGFkZGluZzowO2Rpc3BsYXk6bm9uZSIsZj0wPT09a1swXS5vZmZzZXRIZWlnaHQsZiYmKGtbMF0uc3R5bGUuZGlzcGxheT0iIixrWzFdLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGY9MD09PWtbMF0ub2Zmc2V0SGVpZ2h0KSksbS5yZW1vdmVDaGlsZChpKX19fSgpO3ZhciBSYSxTYSxUYT0vXih0b3B8cmlnaHR8Ym90dG9tfGxlZnQpJC87YS5nZXRDb21wdXRlZFN0eWxlPyhSYT1mdW5jdGlvbihiKXt2YXIgYz1iLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7cmV0dXJuIGMmJmMub3BlbmVyfHwoYz1hKSxjLmdldENvbXB1dGVkU3R5bGUoYil9LFNhPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuc3R5bGU7cmV0dXJuIGM9Y3x8UmEoYSksZz1jP2MuZ2V0UHJvcGVydHlWYWx1ZShiKXx8Y1tiXTp2b2lkIDAsIiIhPT1nJiZ2b2lkIDAhPT1nfHxuLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKXx8KGc9bi5zdHlsZShhLGIpKSxjJiYhbC5waXhlbE1hcmdpblJpZ2h0KCkmJk9hLnRlc3QoZykmJk5hLnRlc3QoYikmJihkPWgud2lkdGgsZT1oLm1pbldpZHRoLGY9aC5tYXhXaWR0aCxoLm1pbldpZHRoPWgubWF4V2lkdGg9aC53aWR0aD1nLGc9Yy53aWR0aCxoLndpZHRoPWQsaC5taW5XaWR0aD1lLGgubWF4V2lkdGg9Ziksdm9pZCAwPT09Zz9nOmcrIiJ9KTpRYS5jdXJyZW50U3R5bGUmJihSYT1mdW5jdGlvbihhKXtyZXR1cm4gYS5jdXJyZW50U3R5bGV9LFNhPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuc3R5bGU7cmV0dXJuIGM9Y3x8UmEoYSksZz1jP2NbYl06dm9pZCAwLG51bGw9PWcmJmgmJmhbYl0mJihnPWhbYl0pLE9hLnRlc3QoZykmJiFUYS50ZXN0KGIpJiYoZD1oLmxlZnQsZT1hLnJ1bnRpbWVTdHlsZSxmPWUmJmUubGVmdCxmJiYoZS5sZWZ0PWEuY3VycmVudFN0eWxlLmxlZnQpLGgubGVmdD0iZm9udFNpemUiPT09Yj8iMWVtIjpnLGc9aC5waXhlbExlZnQrInB4IixoLmxlZnQ9ZCxmJiYoZS5sZWZ0PWYpKSx2b2lkIDA9PT1nP2c6ZysiInx8ImF1dG8ifSk7ZnVuY3Rpb24gVWEoYSxiKXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEoKT92b2lkIGRlbGV0ZSB0aGlzLmdldDoodGhpcy5nZXQ9YikuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19dmFyIFZhPS9hbHBoYVwoW14pXSpcKS9pLFdhPS9vcGFjaXR5XHMqPVxzKihbXildKikvaSxYYT0vXihub25lfHRhYmxlKD8hLWNbZWFdKS4rKS8sWWE9bmV3IFJlZ0V4cCgiXigiK1QrIikoLiopJCIsImkiKSxaYT17cG9zaXRpb246ImFic29sdXRlIix2aXNpYmlsaXR5OiJoaWRkZW4iLGRpc3BsYXk6ImJsb2NrIn0sJGE9e2xldHRlclNwYWNpbmc6IjAiLGZvbnRXZWlnaHQ6IjQwMCJ9LF9hPVsiV2Via2l0IiwiTyIsIk1veiIsIm1zIl0sYWI9ZC5jcmVhdGVFbGVtZW50KCJkaXYiKS5zdHlsZTtmdW5jdGlvbiBiYihhKXtpZihhIGluIGFiKXJldHVybiBhO3ZhciBiPWEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zbGljZSgxKSxjPV9hLmxlbmd0aDt3aGlsZShjLS0paWYoYT1fYVtjXStiLGEgaW4gYWIpcmV0dXJuIGF9ZnVuY3Rpb24gY2IoYSxiKXtmb3IodmFyIGMsZCxlLGY9W10sZz0wLGg9YS5sZW5ndGg7aD5nO2crKylkPWFbZ10sZC5zdHlsZSYmKGZbZ109bi5fZGF0YShkLCJvbGRkaXNwbGF5IiksYz1kLnN0eWxlLmRpc3BsYXksYj8oZltnXXx8Im5vbmUiIT09Y3x8KGQuc3R5bGUuZGlzcGxheT0iIiksIiI9PT1kLnN0eWxlLmRpc3BsYXkmJlcoZCkmJihmW2ddPW4uX2RhdGEoZCwib2xkZGlzcGxheSIsTWEoZC5ub2RlTmFtZSkpKSk6KGU9VyhkKSwoYyYmIm5vbmUiIT09Y3x8IWUpJiZuLl9kYXRhKGQsIm9sZGRpc3BsYXkiLGU/YzpuLmNzcyhkLCJkaXNwbGF5IikpKSk7Zm9yKGc9MDtoPmc7ZysrKWQ9YVtnXSxkLnN0eWxlJiYoYiYmIm5vbmUiIT09ZC5zdHlsZS5kaXNwbGF5JiYiIiE9PWQuc3R5bGUuZGlzcGxheXx8KGQuc3R5bGUuZGlzcGxheT1iP2ZbZ118fCIiOiJub25lIikpO3JldHVybiBhfWZ1bmN0aW9uIGRiKGEsYixjKXt2YXIgZD1ZYS5leGVjKGIpO3JldHVybiBkP01hdGgubWF4KDAsZFsxXS0oY3x8MCkpKyhkWzJdfHwicHgiKTpifWZ1bmN0aW9uIGViKGEsYixjLGQsZSl7Zm9yKHZhciBmPWM9PT0oZD8iYm9yZGVyIjoiY29udGVudCIpPzQ6IndpZHRoIj09PWI/MTowLGc9MDs0PmY7Zis9MikibWFyZ2luIj09PWMmJihnKz1uLmNzcyhhLGMrVltmXSwhMCxlKSksZD8oImNvbnRlbnQiPT09YyYmKGctPW4uY3NzKGEsInBhZGRpbmciK1ZbZl0sITAsZSkpLCJtYXJnaW4iIT09YyYmKGctPW4uY3NzKGEsImJvcmRlciIrVltmXSsiV2lkdGgiLCEwLGUpKSk6KGcrPW4uY3NzKGEsInBhZGRpbmciK1ZbZl0sITAsZSksInBhZGRpbmciIT09YyYmKGcrPW4uY3NzKGEsImJvcmRlciIrVltmXSsiV2lkdGgiLCEwLGUpKSk7cmV0dXJuIGd9ZnVuY3Rpb24gZmIoYSxiLGMpe3ZhciBkPSEwLGU9IndpZHRoIj09PWI/YS5vZmZzZXRXaWR0aDphLm9mZnNldEhlaWdodCxmPVJhKGEpLGc9bC5ib3hTaXppbmcmJiJib3JkZXItYm94Ij09PW4uY3NzKGEsImJveFNpemluZyIsITEsZik7aWYoMD49ZXx8bnVsbD09ZSl7aWYoZT1TYShhLGIsZiksKDA+ZXx8bnVsbD09ZSkmJihlPWEuc3R5bGVbYl0pLE9hLnRlc3QoZSkpcmV0dXJuIGU7ZD1nJiYobC5ib3hTaXppbmdSZWxpYWJsZSgpfHxlPT09YS5zdHlsZVtiXSksZT1wYXJzZUZsb2F0KGUpfHwwfXJldHVybiBlK2ViKGEsYixjfHwoZz8iYm9yZGVyIjoiY29udGVudCIpLGQsZikrInB4In1uLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihhLGIpe2lmKGIpe3ZhciBjPVNhKGEsIm9wYWNpdHkiKTtyZXR1cm4iIj09PWM/IjEiOmN9fX19LGNzc051bWJlcjp7YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ITAsY29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0sY3NzUHJvcHM6eyJmbG9hdCI6bC5jc3NGbG9hdD8iY3NzRmxvYXQiOiJzdHlsZUZsb2F0In0sc3R5bGU6ZnVuY3Rpb24oYSxiLGMsZCl7aWYoYSYmMyE9PWEubm9kZVR5cGUmJjghPT1hLm5vZGVUeXBlJiZhLnN0eWxlKXt2YXIgZSxmLGcsaD1uLmNhbWVsQ2FzZShiKSxpPWEuc3R5bGU7aWYoYj1uLmNzc1Byb3BzW2hdfHwobi5jc3NQcm9wc1toXT1iYihoKXx8aCksZz1uLmNzc0hvb2tzW2JdfHxuLmNzc0hvb2tzW2hdLHZvaWQgMD09PWMpcmV0dXJuIGcmJiJnZXQiaW4gZyYmdm9pZCAwIT09KGU9Zy5nZXQoYSwhMSxkKSk/ZTppW2JdO2lmKGY9dHlwZW9mIGMsInN0cmluZyI9PT1mJiYoZT1VLmV4ZWMoYykpJiZlWzFdJiYoYz1YKGEsYixlKSxmPSJudW1iZXIiKSxudWxsIT1jJiZjPT09YyYmKCJudW1iZXIiPT09ZiYmKGMrPWUmJmVbM118fChuLmNzc051bWJlcltoXT8iIjoicHgiKSksbC5jbGVhckNsb25lU3R5bGV8fCIiIT09Y3x8MCE9PWIuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwoaVtiXT0iaW5oZXJpdCIpLCEoZyYmInNldCJpbiBnJiZ2b2lkIDA9PT0oYz1nLnNldChhLGMsZCkpKSkpdHJ5e2lbYl09Y31jYXRjaChqKXt9fX0sY3NzOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGYsZyxoPW4uY2FtZWxDYXNlKGIpO3JldHVybiBiPW4uY3NzUHJvcHNbaF18fChuLmNzc1Byb3BzW2hdPWJiKGgpfHxoKSxnPW4uY3NzSG9va3NbYl18fG4uY3NzSG9va3NbaF0sZyYmImdldCJpbiBnJiYoZj1nLmdldChhLCEwLGMpKSx2b2lkIDA9PT1mJiYoZj1TYShhLGIsZCkpLCJub3JtYWwiPT09ZiYmYiBpbiAkYSYmKGY9JGFbYl0pLCIiPT09Y3x8Yz8oZT1wYXJzZUZsb2F0KGYpLGM9PT0hMHx8aXNGaW5pdGUoZSk/ZXx8MDpmKTpmfX0pLG4uZWFjaChbImhlaWdodCIsIndpZHRoIl0sZnVuY3Rpb24oYSxiKXtuLmNzc0hvb2tzW2JdPXtnZXQ6ZnVuY3Rpb24oYSxjLGQpe3JldHVybiBjP1hhLnRlc3Qobi5jc3MoYSwiZGlzcGxheSIpKSYmMD09PWEub2Zmc2V0V2lkdGg/UGEoYSxaYSxmdW5jdGlvbigpe3JldHVybiBmYihhLGIsZCl9KTpmYihhLGIsZCk6dm9pZCAwfSxzZXQ6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlPWQmJlJhKGEpO3JldHVybiBkYihhLGMsZD9lYihhLGIsZCxsLmJveFNpemluZyYmImJvcmRlci1ib3giPT09bi5jc3MoYSwiYm94U2l6aW5nIiwhMSxlKSxlKTowKX19fSksbC5vcGFjaXR5fHwobi5jc3NIb29rcy5vcGFjaXR5PXtnZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gV2EudGVzdCgoYiYmYS5jdXJyZW50U3R5bGU/YS5jdXJyZW50U3R5bGUuZmlsdGVyOmEuc3R5bGUuZmlsdGVyKXx8IiIpPy4wMSpwYXJzZUZsb2F0KFJlZ0V4cC4kMSkrIiI6Yj8iMSI6IiJ9LHNldDpmdW5jdGlvbihhLGIpe3ZhciBjPWEuc3R5bGUsZD1hLmN1cnJlbnRTdHlsZSxlPW4uaXNOdW1lcmljKGIpPyJhbHBoYShvcGFjaXR5PSIrMTAwKmIrIikiOiIiLGY9ZCYmZC5maWx0ZXJ8fGMuZmlsdGVyfHwiIjtjLnpvb209MSwoYj49MXx8IiI9PT1iKSYmIiI9PT1uLnRyaW0oZi5yZXBsYWNlKFZhLCIiKSkmJmMucmVtb3ZlQXR0cmlidXRlJiYoYy5yZW1vdmVBdHRyaWJ1dGUoImZpbHRlciIpLCIiPT09Ynx8ZCYmIWQuZmlsdGVyKXx8KGMuZmlsdGVyPVZhLnRlc3QoZik/Zi5yZXBsYWNlKFZhLGUpOmYrIiAiK2UpfX0pLG4uY3NzSG9va3MubWFyZ2luUmlnaHQ9VWEobC5yZWxpYWJsZU1hcmdpblJpZ2h0LGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/UGEoYSx7ZGlzcGxheToiaW5saW5lLWJsb2NrIn0sU2EsW2EsIm1hcmdpblJpZ2h0Il0pOnZvaWQgMH0pLG4uY3NzSG9va3MubWFyZ2luTGVmdD1VYShsLnJlbGlhYmxlTWFyZ2luTGVmdCxmdW5jdGlvbihhLGIpe3JldHVybiBiPyhwYXJzZUZsb2F0KFNhKGEsIm1hcmdpbkxlZnQiKSl8fChuLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKT9hLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQtUGEoYSx7Cm1hcmdpbkxlZnQ6MH0sZnVuY3Rpb24oKXtyZXR1cm4gYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0fSk6MCkpKyJweCI6dm9pZCAwfSksbi5lYWNoKHttYXJnaW46IiIscGFkZGluZzoiIixib3JkZXI6IldpZHRoIn0sZnVuY3Rpb24oYSxiKXtuLmNzc0hvb2tzW2ErYl09e2V4cGFuZDpmdW5jdGlvbihjKXtmb3IodmFyIGQ9MCxlPXt9LGY9InN0cmluZyI9PXR5cGVvZiBjP2Muc3BsaXQoIiAiKTpbY107ND5kO2QrKyllW2ErVltkXStiXT1mW2RdfHxmW2QtMl18fGZbMF07cmV0dXJuIGV9fSxOYS50ZXN0KGEpfHwobi5jc3NIb29rc1thK2JdLnNldD1kYil9KSxuLmZuLmV4dGVuZCh7Y3NzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIFkodGhpcyxmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPXt9LGc9MDtpZihuLmlzQXJyYXkoYikpe2ZvcihkPVJhKGEpLGU9Yi5sZW5ndGg7ZT5nO2crKylmW2JbZ11dPW4uY3NzKGEsYltnXSwhMSxkKTtyZXR1cm4gZn1yZXR1cm4gdm9pZCAwIT09Yz9uLnN0eWxlKGEsYixjKTpuLmNzcyhhLGIpfSxhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0sc2hvdzpmdW5jdGlvbigpe3JldHVybiBjYih0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiBjYih0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGEpe3JldHVybiJib29sZWFuIj09dHlwZW9mIGE/YT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXtXKHRoaXMpP24odGhpcykuc2hvdygpOm4odGhpcykuaGlkZSgpfSl9fSk7ZnVuY3Rpb24gZ2IoYSxiLGMsZCxlKXtyZXR1cm4gbmV3IGdiLnByb3RvdHlwZS5pbml0KGEsYixjLGQsZSl9bi5Ud2Vlbj1nYixnYi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmdiLGluaXQ6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3RoaXMuZWxlbT1hLHRoaXMucHJvcD1jLHRoaXMuZWFzaW5nPWV8fG4uZWFzaW5nLl9kZWZhdWx0LHRoaXMub3B0aW9ucz1iLHRoaXMuc3RhcnQ9dGhpcy5ub3c9dGhpcy5jdXIoKSx0aGlzLmVuZD1kLHRoaXMudW5pdD1mfHwobi5jc3NOdW1iZXJbY10/IiI6InB4Iil9LGN1cjpmdW5jdGlvbigpe3ZhciBhPWdiLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiBhJiZhLmdldD9hLmdldCh0aGlzKTpnYi5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpfSxydW46ZnVuY3Rpb24oYSl7dmFyIGIsYz1nYi5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gdGhpcy5vcHRpb25zLmR1cmF0aW9uP3RoaXMucG9zPWI9bi5lYXNpbmdbdGhpcy5lYXNpbmddKGEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKmEsMCwxLHRoaXMub3B0aW9ucy5kdXJhdGlvbik6dGhpcy5wb3M9Yj1hLHRoaXMubm93PSh0aGlzLmVuZC10aGlzLnN0YXJ0KSpiK3RoaXMuc3RhcnQsdGhpcy5vcHRpb25zLnN0ZXAmJnRoaXMub3B0aW9ucy5zdGVwLmNhbGwodGhpcy5lbGVtLHRoaXMubm93LHRoaXMpLGMmJmMuc2V0P2Muc2V0KHRoaXMpOmdiLnByb3BIb29rcy5fZGVmYXVsdC5zZXQodGhpcyksdGhpc319LGdiLnByb3RvdHlwZS5pbml0LnByb3RvdHlwZT1nYi5wcm90b3R5cGUsZ2IucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiAxIT09YS5lbGVtLm5vZGVUeXBlfHxudWxsIT1hLmVsZW1bYS5wcm9wXSYmbnVsbD09YS5lbGVtLnN0eWxlW2EucHJvcF0/YS5lbGVtW2EucHJvcF06KGI9bi5jc3MoYS5lbGVtLGEucHJvcCwiIiksYiYmImF1dG8iIT09Yj9iOjApfSxzZXQ6ZnVuY3Rpb24oYSl7bi5meC5zdGVwW2EucHJvcF0/bi5meC5zdGVwW2EucHJvcF0oYSk6MSE9PWEuZWxlbS5ub2RlVHlwZXx8bnVsbD09YS5lbGVtLnN0eWxlW24uY3NzUHJvcHNbYS5wcm9wXV0mJiFuLmNzc0hvb2tzW2EucHJvcF0/YS5lbGVtW2EucHJvcF09YS5ub3c6bi5zdHlsZShhLmVsZW0sYS5wcm9wLGEubm93K2EudW5pdCl9fX0sZ2IucHJvcEhvb2tzLnNjcm9sbFRvcD1nYi5wcm9wSG9va3Muc2Nyb2xsTGVmdD17c2V0OmZ1bmN0aW9uKGEpe2EuZWxlbS5ub2RlVHlwZSYmYS5lbGVtLnBhcmVudE5vZGUmJihhLmVsZW1bYS5wcm9wXT1hLm5vdyl9fSxuLmVhc2luZz17bGluZWFyOmZ1bmN0aW9uKGEpe3JldHVybiBhfSxzd2luZzpmdW5jdGlvbihhKXtyZXR1cm4uNS1NYXRoLmNvcyhhKk1hdGguUEkpLzJ9LF9kZWZhdWx0OiJzd2luZyJ9LG4uZng9Z2IucHJvdG90eXBlLmluaXQsbi5meC5zdGVwPXt9O3ZhciBoYixpYixqYj0vXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sa2I9L3F1ZXVlSG9va3MkLztmdW5jdGlvbiBsYigpe3JldHVybiBhLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtoYj12b2lkIDB9KSxoYj1uLm5vdygpfWZ1bmN0aW9uIG1iKGEsYil7dmFyIGMsZD17aGVpZ2h0OmF9LGU9MDtmb3IoYj1iPzE6MDs0PmU7ZSs9Mi1iKWM9VltlXSxkWyJtYXJnaW4iK2NdPWRbInBhZGRpbmciK2NdPWE7cmV0dXJuIGImJihkLm9wYWNpdHk9ZC53aWR0aD1hKSxkfWZ1bmN0aW9uIG5iKGEsYixjKXtmb3IodmFyIGQsZT0ocWIudHdlZW5lcnNbYl18fFtdKS5jb25jYXQocWIudHdlZW5lcnNbIioiXSksZj0wLGc9ZS5sZW5ndGg7Zz5mO2YrKylpZihkPWVbZl0uY2FsbChjLGIsYSkpcmV0dXJuIGR9ZnVuY3Rpb24gb2IoYSxiLGMpe3ZhciBkLGUsZixnLGgsaSxqLGssbT10aGlzLG89e30scD1hLnN0eWxlLHE9YS5ub2RlVHlwZSYmVyhhKSxyPW4uX2RhdGEoYSwiZnhzaG93Iik7Yy5xdWV1ZXx8KGg9bi5fcXVldWVIb29rcyhhLCJmeCIpLG51bGw9PWgudW5xdWV1ZWQmJihoLnVucXVldWVkPTAsaT1oLmVtcHR5LmZpcmUsaC5lbXB0eS5maXJlPWZ1bmN0aW9uKCl7aC51bnF1ZXVlZHx8aSgpfSksaC51bnF1ZXVlZCsrLG0uYWx3YXlzKGZ1bmN0aW9uKCl7bS5hbHdheXMoZnVuY3Rpb24oKXtoLnVucXVldWVkLS0sbi5xdWV1ZShhLCJmeCIpLmxlbmd0aHx8aC5lbXB0eS5maXJlKCl9KX0pKSwxPT09YS5ub2RlVHlwZSYmKCJoZWlnaHQiaW4gYnx8IndpZHRoImluIGIpJiYoYy5vdmVyZmxvdz1bcC5vdmVyZmxvdyxwLm92ZXJmbG93WCxwLm92ZXJmbG93WV0saj1uLmNzcyhhLCJkaXNwbGF5Iiksaz0ibm9uZSI9PT1qP24uX2RhdGEoYSwib2xkZGlzcGxheSIpfHxNYShhLm5vZGVOYW1lKTpqLCJpbmxpbmUiPT09ayYmIm5vbmUiPT09bi5jc3MoYSwiZmxvYXQiKSYmKGwuaW5saW5lQmxvY2tOZWVkc0xheW91dCYmImlubGluZSIhPT1NYShhLm5vZGVOYW1lKT9wLnpvb209MTpwLmRpc3BsYXk9ImlubGluZS1ibG9jayIpKSxjLm92ZXJmbG93JiYocC5vdmVyZmxvdz0iaGlkZGVuIixsLnNocmlua1dyYXBCbG9ja3MoKXx8bS5hbHdheXMoZnVuY3Rpb24oKXtwLm92ZXJmbG93PWMub3ZlcmZsb3dbMF0scC5vdmVyZmxvd1g9Yy5vdmVyZmxvd1sxXSxwLm92ZXJmbG93WT1jLm92ZXJmbG93WzJdfSkpO2ZvcihkIGluIGIpaWYoZT1iW2RdLGpiLmV4ZWMoZSkpe2lmKGRlbGV0ZSBiW2RdLGY9Znx8InRvZ2dsZSI9PT1lLGU9PT0ocT8iaGlkZSI6InNob3ciKSl7aWYoInNob3ciIT09ZXx8IXJ8fHZvaWQgMD09PXJbZF0pY29udGludWU7cT0hMH1vW2RdPXImJnJbZF18fG4uc3R5bGUoYSxkKX1lbHNlIGo9dm9pZCAwO2lmKG4uaXNFbXB0eU9iamVjdChvKSkiaW5saW5lIj09PSgibm9uZSI9PT1qP01hKGEubm9kZU5hbWUpOmopJiYocC5kaXNwbGF5PWopO2Vsc2V7cj8iaGlkZGVuImluIHImJihxPXIuaGlkZGVuKTpyPW4uX2RhdGEoYSwiZnhzaG93Iix7fSksZiYmKHIuaGlkZGVuPSFxKSxxP24oYSkuc2hvdygpOm0uZG9uZShmdW5jdGlvbigpe24oYSkuaGlkZSgpfSksbS5kb25lKGZ1bmN0aW9uKCl7dmFyIGI7bi5fcmVtb3ZlRGF0YShhLCJmeHNob3ciKTtmb3IoYiBpbiBvKW4uc3R5bGUoYSxiLG9bYl0pfSk7Zm9yKGQgaW4gbylnPW5iKHE/cltkXTowLGQsbSksZCBpbiByfHwocltkXT1nLnN0YXJ0LHEmJihnLmVuZD1nLnN0YXJ0LGcuc3RhcnQ9IndpZHRoIj09PWR8fCJoZWlnaHQiPT09ZD8xOjApKX19ZnVuY3Rpb24gcGIoYSxiKXt2YXIgYyxkLGUsZixnO2ZvcihjIGluIGEpaWYoZD1uLmNhbWVsQ2FzZShjKSxlPWJbZF0sZj1hW2NdLG4uaXNBcnJheShmKSYmKGU9ZlsxXSxmPWFbY109ZlswXSksYyE9PWQmJihhW2RdPWYsZGVsZXRlIGFbY10pLGc9bi5jc3NIb29rc1tkXSxnJiYiZXhwYW5kImluIGcpe2Y9Zy5leHBhbmQoZiksZGVsZXRlIGFbZF07Zm9yKGMgaW4gZiljIGluIGF8fChhW2NdPWZbY10sYltjXT1lKX1lbHNlIGJbZF09ZX1mdW5jdGlvbiBxYihhLGIsYyl7dmFyIGQsZSxmPTAsZz1xYi5wcmVmaWx0ZXJzLmxlbmd0aCxoPW4uRGVmZXJyZWQoKS5hbHdheXMoZnVuY3Rpb24oKXtkZWxldGUgaS5lbGVtfSksaT1mdW5jdGlvbigpe2lmKGUpcmV0dXJuITE7Zm9yKHZhciBiPWhifHxsYigpLGM9TWF0aC5tYXgoMCxqLnN0YXJ0VGltZStqLmR1cmF0aW9uLWIpLGQ9Yy9qLmR1cmF0aW9ufHwwLGY9MS1kLGc9MCxpPWoudHdlZW5zLmxlbmd0aDtpPmc7ZysrKWoudHdlZW5zW2ddLnJ1bihmKTtyZXR1cm4gaC5ub3RpZnlXaXRoKGEsW2osZixjXSksMT5mJiZpP2M6KGgucmVzb2x2ZVdpdGgoYSxbal0pLCExKX0saj1oLnByb21pc2Uoe2VsZW06YSxwcm9wczpuLmV4dGVuZCh7fSxiKSxvcHRzOm4uZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9LGVhc2luZzpuLmVhc2luZy5fZGVmYXVsdH0sYyksb3JpZ2luYWxQcm9wZXJ0aWVzOmIsb3JpZ2luYWxPcHRpb25zOmMsc3RhcnRUaW1lOmhifHxsYigpLGR1cmF0aW9uOmMuZHVyYXRpb24sdHdlZW5zOltdLGNyZWF0ZVR3ZWVuOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9bi5Ud2VlbihhLGoub3B0cyxiLGMsai5vcHRzLnNwZWNpYWxFYXNpbmdbYl18fGoub3B0cy5lYXNpbmcpO3JldHVybiBqLnR3ZWVucy5wdXNoKGQpLGR9LHN0b3A6ZnVuY3Rpb24oYil7dmFyIGM9MCxkPWI/ai50d2VlbnMubGVuZ3RoOjA7aWYoZSlyZXR1cm4gdGhpcztmb3IoZT0hMDtkPmM7YysrKWoudHdlZW5zW2NdLnJ1bigxKTtyZXR1cm4gYj8oaC5ub3RpZnlXaXRoKGEsW2osMSwwXSksaC5yZXNvbHZlV2l0aChhLFtqLGJdKSk6aC5yZWplY3RXaXRoKGEsW2osYl0pLHRoaXN9fSksaz1qLnByb3BzO2ZvcihwYihrLGoub3B0cy5zcGVjaWFsRWFzaW5nKTtnPmY7ZisrKWlmKGQ9cWIucHJlZmlsdGVyc1tmXS5jYWxsKGosYSxrLGoub3B0cykpcmV0dXJuIG4uaXNGdW5jdGlvbihkLnN0b3ApJiYobi5fcXVldWVIb29rcyhqLmVsZW0sai5vcHRzLnF1ZXVlKS5zdG9wPW4ucHJveHkoZC5zdG9wLGQpKSxkO3JldHVybiBuLm1hcChrLG5iLGopLG4uaXNGdW5jdGlvbihqLm9wdHMuc3RhcnQpJiZqLm9wdHMuc3RhcnQuY2FsbChhLGopLG4uZngudGltZXIobi5leHRlbmQoaSx7ZWxlbTphLGFuaW06aixxdWV1ZTpqLm9wdHMucXVldWV9KSksai5wcm9ncmVzcyhqLm9wdHMucHJvZ3Jlc3MpLmRvbmUoai5vcHRzLmRvbmUsai5vcHRzLmNvbXBsZXRlKS5mYWlsKGoub3B0cy5mYWlsKS5hbHdheXMoai5vcHRzLmFsd2F5cyl9bi5BbmltYXRpb249bi5leHRlbmQocWIse3R3ZWVuZXJzOnsiKiI6W2Z1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jcmVhdGVUd2VlbihhLGIpO3JldHVybiBYKGMuZWxlbSxhLFUuZXhlYyhiKSxjKSxjfV19LHR3ZWVuZXI6ZnVuY3Rpb24oYSxiKXtuLmlzRnVuY3Rpb24oYSk/KGI9YSxhPVsiKiJdKTphPWEubWF0Y2goRyk7Zm9yKHZhciBjLGQ9MCxlPWEubGVuZ3RoO2U+ZDtkKyspYz1hW2RdLHFiLnR3ZWVuZXJzW2NdPXFiLnR3ZWVuZXJzW2NdfHxbXSxxYi50d2VlbmVyc1tjXS51bnNoaWZ0KGIpfSxwcmVmaWx0ZXJzOltvYl0scHJlZmlsdGVyOmZ1bmN0aW9uKGEsYil7Yj9xYi5wcmVmaWx0ZXJzLnVuc2hpZnQoYSk6cWIucHJlZmlsdGVycy5wdXNoKGEpfX0pLG4uc3BlZWQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEmJiJvYmplY3QiPT10eXBlb2YgYT9uLmV4dGVuZCh7fSxhKTp7Y29tcGxldGU6Y3x8IWMmJmJ8fG4uaXNGdW5jdGlvbihhKSYmYSxkdXJhdGlvbjphLGVhc2luZzpjJiZifHxiJiYhbi5pc0Z1bmN0aW9uKGIpJiZifTtyZXR1cm4gZC5kdXJhdGlvbj1uLmZ4Lm9mZj8wOiJudW1iZXIiPT10eXBlb2YgZC5kdXJhdGlvbj9kLmR1cmF0aW9uOmQuZHVyYXRpb24gaW4gbi5meC5zcGVlZHM/bi5meC5zcGVlZHNbZC5kdXJhdGlvbl06bi5meC5zcGVlZHMuX2RlZmF1bHQsbnVsbCE9ZC5xdWV1ZSYmZC5xdWV1ZSE9PSEwfHwoZC5xdWV1ZT0iZngiKSxkLm9sZD1kLmNvbXBsZXRlLGQuY29tcGxldGU9ZnVuY3Rpb24oKXtuLmlzRnVuY3Rpb24oZC5vbGQpJiZkLm9sZC5jYWxsKHRoaXMpLGQucXVldWUmJm4uZGVxdWV1ZSh0aGlzLGQucXVldWUpfSxkfSxuLmZuLmV4dGVuZCh7ZmFkZVRvOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLmZpbHRlcihXKS5jc3MoIm9wYWNpdHkiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OmJ9LGEsYyxkKX0sYW5pbWF0ZTpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1uLmlzRW1wdHlPYmplY3QoYSksZj1uLnNwZWVkKGIsYyxkKSxnPWZ1bmN0aW9uKCl7dmFyIGI9cWIodGhpcyxuLmV4dGVuZCh7fSxhKSxmKTsoZXx8bi5fZGF0YSh0aGlzLCJmaW5pc2giKSkmJmIuc3RvcCghMCl9O3JldHVybiBnLmZpbmlzaD1nLGV8fGYucXVldWU9PT0hMT90aGlzLmVhY2goZyk6dGhpcy5xdWV1ZShmLnF1ZXVlLGcpfSxzdG9wOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1mdW5jdGlvbihhKXt2YXIgYj1hLnN0b3A7ZGVsZXRlIGEuc3RvcCxiKGMpfTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGEmJihjPWIsYj1hLGE9dm9pZCAwKSxiJiZhIT09ITEmJnRoaXMucXVldWUoYXx8ImZ4IixbXSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9ITAsZT1udWxsIT1hJiZhKyJxdWV1ZUhvb2tzIixmPW4udGltZXJzLGc9bi5fZGF0YSh0aGlzKTtpZihlKWdbZV0mJmdbZV0uc3RvcCYmZChnW2VdKTtlbHNlIGZvcihlIGluIGcpZ1tlXSYmZ1tlXS5zdG9wJiZrYi50ZXN0KGUpJiZkKGdbZV0pO2ZvcihlPWYubGVuZ3RoO2UtLTspZltlXS5lbGVtIT09dGhpc3x8bnVsbCE9YSYmZltlXS5xdWV1ZSE9PWF8fChmW2VdLmFuaW0uc3RvcChjKSxiPSExLGYuc3BsaWNlKGUsMSkpOyFiJiZjfHxuLmRlcXVldWUodGhpcyxhKX0pfSxmaW5pc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT0hMSYmKGE9YXx8ImZ4IiksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGIsYz1uLl9kYXRhKHRoaXMpLGQ9Y1thKyJxdWV1ZSJdLGU9Y1thKyJxdWV1ZUhvb2tzIl0sZj1uLnRpbWVycyxnPWQ/ZC5sZW5ndGg6MDtmb3IoYy5maW5pc2g9ITAsbi5xdWV1ZSh0aGlzLGEsW10pLGUmJmUuc3RvcCYmZS5zdG9wLmNhbGwodGhpcywhMCksYj1mLmxlbmd0aDtiLS07KWZbYl0uZWxlbT09PXRoaXMmJmZbYl0ucXVldWU9PT1hJiYoZltiXS5hbmltLnN0b3AoITApLGYuc3BsaWNlKGIsMSkpO2ZvcihiPTA7Zz5iO2IrKylkW2JdJiZkW2JdLmZpbmlzaCYmZFtiXS5maW5pc2guY2FsbCh0aGlzKTtkZWxldGUgYy5maW5pc2h9KX19KSxuLmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLGZ1bmN0aW9uKGEsYil7dmFyIGM9bi5mbltiXTtuLmZuW2JdPWZ1bmN0aW9uKGEsZCxlKXtyZXR1cm4gbnVsbD09YXx8ImJvb2xlYW4iPT10eXBlb2YgYT9jLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUobWIoYiwhMCksYSxkLGUpfX0pLG4uZWFjaCh7c2xpZGVEb3duOm1iKCJzaG93Iiksc2xpZGVVcDptYigiaGlkZSIpLHNsaWRlVG9nZ2xlOm1iKCJ0b2dnbGUiKSxmYWRlSW46e29wYWNpdHk6InNob3cifSxmYWRlT3V0OntvcGFjaXR5OiJoaWRlIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eToidG9nZ2xlIn19LGZ1bmN0aW9uKGEsYil7bi5mblthXT1mdW5jdGlvbihhLGMsZCl7cmV0dXJuIHRoaXMuYW5pbWF0ZShiLGEsYyxkKX19KSxuLnRpbWVycz1bXSxuLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgYSxiPW4udGltZXJzLGM9MDtmb3IoaGI9bi5ub3coKTtjPGIubGVuZ3RoO2MrKylhPWJbY10sYSgpfHxiW2NdIT09YXx8Yi5zcGxpY2UoYy0tLDEpO2IubGVuZ3RofHxuLmZ4LnN0b3AoKSxoYj12b2lkIDB9LG4uZngudGltZXI9ZnVuY3Rpb24oYSl7bi50aW1lcnMucHVzaChhKSxhKCk/bi5meC5zdGFydCgpOm4udGltZXJzLnBvcCgpfSxuLmZ4LmludGVydmFsPTEzLG4uZnguc3RhcnQ9ZnVuY3Rpb24oKXtpYnx8KGliPWEuc2V0SW50ZXJ2YWwobi5meC50aWNrLG4uZnguaW50ZXJ2YWwpKX0sbi5meC5zdG9wPWZ1bmN0aW9uKCl7YS5jbGVhckludGVydmFsKGliKSxpYj1udWxsfSxuLmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSxuLmZuLmRlbGF5PWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGI9bi5meD9uLmZ4LnNwZWVkc1tiXXx8YjpiLGM9Y3x8ImZ4Iix0aGlzLnF1ZXVlKGMsZnVuY3Rpb24oYyxkKXt2YXIgZT1hLnNldFRpbWVvdXQoYyxiKTtkLnN0b3A9ZnVuY3Rpb24oKXthLmNsZWFyVGltZW91dChlKX19KX0sZnVuY3Rpb24oKXt2YXIgYSxiPWQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxjPWQuY3JlYXRlRWxlbWVudCgiZGl2IiksZT1kLmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpLGY9ZS5hcHBlbmRDaGlsZChkLmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKTtjPWQuY3JlYXRlRWxlbWVudCgiZGl2IiksYy5zZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIsInQiKSxjLmlubmVySFRNTD0iICA8bGluay8+PHRhYmxlPjwvdGFibGU+PGEgaHJlZj0nL2EnPmE8L2E+PGlucHV0IHR5cGU9J2NoZWNrYm94Jy8+IixhPWMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKVswXSxiLnNldEF0dHJpYnV0ZSgidHlwZSIsImNoZWNrYm94IiksYy5hcHBlbmRDaGlsZChiKSxhPWMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKVswXSxhLnN0eWxlLmNzc1RleHQ9InRvcDoxcHgiLGwuZ2V0U2V0QXR0cmlidXRlPSJ0IiE9PWMuY2xhc3NOYW1lLGwuc3R5bGU9L3RvcC8udGVzdChhLmdldEF0dHJpYnV0ZSgic3R5bGUiKSksbC5ocmVmTm9ybWFsaXplZD0iL2EiPT09YS5nZXRBdHRyaWJ1dGUoImhyZWYiKSxsLmNoZWNrT249ISFiLnZhbHVlLGwub3B0U2VsZWN0ZWQ9Zi5zZWxlY3RlZCxsLmVuY3R5cGU9ISFkLmNyZWF0ZUVsZW1lbnQoImZvcm0iKS5lbmN0eXBlLGUuZGlzYWJsZWQ9ITAsbC5vcHREaXNhYmxlZD0hZi5kaXNhYmxlZCxiPWQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxiLnNldEF0dHJpYnV0ZSgidmFsdWUiLCIiKSxsLmlucHV0PSIiPT09Yi5nZXRBdHRyaWJ1dGUoInZhbHVlIiksYi52YWx1ZT0idCIsYi5zZXRBdHRyaWJ1dGUoInR5cGUiLCJyYWRpbyIpLGwucmFkaW9WYWx1ZT0idCI9PT1iLnZhbHVlfSgpO3ZhciByYj0vXHIvZyxzYj0vW1x4MjBcdFxyXG5cZl0rL2c7bi5mbi5leHRlbmQoe3ZhbDpmdW5jdGlvbihhKXt2YXIgYixjLGQsZT10aGlzWzBdO3tpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiBkPW4uaXNGdW5jdGlvbihhKSx0aGlzLmVhY2goZnVuY3Rpb24oYyl7dmFyIGU7MT09PXRoaXMubm9kZVR5cGUmJihlPWQ/YS5jYWxsKHRoaXMsYyxuKHRoaXMpLnZhbCgpKTphLG51bGw9PWU/ZT0iIjoibnVtYmVyIj09dHlwZW9mIGU/ZSs9IiI6bi5pc0FycmF5KGUpJiYoZT1uLm1hcChlLGZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hPyIiOmErIiJ9KSksYj1uLnZhbEhvb2tzW3RoaXMudHlwZV18fG4udmFsSG9va3NbdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSxiJiYic2V0ImluIGImJnZvaWQgMCE9PWIuc2V0KHRoaXMsZSwidmFsdWUiKXx8KHRoaXMudmFsdWU9ZSkpfSk7aWYoZSlyZXR1cm4gYj1uLnZhbEhvb2tzW2UudHlwZV18fG4udmFsSG9va3NbZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSxiJiYiZ2V0ImluIGImJnZvaWQgMCE9PShjPWIuZ2V0KGUsInZhbHVlIikpP2M6KGM9ZS52YWx1ZSwic3RyaW5nIj09dHlwZW9mIGM/Yy5yZXBsYWNlKHJiLCIiKTpudWxsPT1jPyIiOmMpfX19KSxuLmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiPW4uZmluZC5hdHRyKGEsInZhbHVlIik7cmV0dXJuIG51bGwhPWI/YjpuLnRyaW0obi50ZXh0KGEpKS5yZXBsYWNlKHNiLCIgIil9fSxzZWxlY3Q6e2dldDpmdW5jdGlvbihhKXtmb3IodmFyIGIsYyxkPWEub3B0aW9ucyxlPWEuc2VsZWN0ZWRJbmRleCxmPSJzZWxlY3Qtb25lIj09PWEudHlwZXx8MD5lLGc9Zj9udWxsOltdLGg9Zj9lKzE6ZC5sZW5ndGgsaT0wPmU/aDpmP2U6MDtoPmk7aSsrKWlmKGM9ZFtpXSwoYy5zZWxlY3RlZHx8aT09PWUpJiYobC5vcHREaXNhYmxlZD8hYy5kaXNhYmxlZDpudWxsPT09Yy5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIikpJiYoIWMucGFyZW50Tm9kZS5kaXNhYmxlZHx8IW4ubm9kZU5hbWUoYy5wYXJlbnROb2RlLCJvcHRncm91cCIpKSl7aWYoYj1uKGMpLnZhbCgpLGYpcmV0dXJuIGI7Zy5wdXNoKGIpfXJldHVybiBnfSxzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGU9YS5vcHRpb25zLGY9bi5tYWtlQXJyYXkoYiksZz1lLmxlbmd0aDt3aGlsZShnLS0paWYoZD1lW2ddLG4uaW5BcnJheShuLnZhbEhvb2tzLm9wdGlvbi5nZXQoZCksZik+LTEpdHJ5e2Quc2VsZWN0ZWQ9Yz0hMH1jYXRjaChoKXtkLnNjcm9sbEhlaWdodH1lbHNlIGQuc2VsZWN0ZWQ9ITE7cmV0dXJuIGN8fChhLnNlbGVjdGVkSW5kZXg9LTEpLGV9fX19KSxuLmVhY2goWyJyYWRpbyIsImNoZWNrYm94Il0sZnVuY3Rpb24oKXtuLnZhbEhvb2tzW3RoaXNdPXtzZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbi5pc0FycmF5KGIpP2EuY2hlY2tlZD1uLmluQXJyYXkobihhKS52YWwoKSxiKT4tMTp2b2lkIDB9fSxsLmNoZWNrT258fChuLnZhbEhvb2tzW3RoaXNdLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09PWEuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpPyJvbiI6YS52YWx1ZX0pfSk7dmFyIHRiLHViLHZiPW4uZXhwci5hdHRySGFuZGxlLHdiPS9eKD86Y2hlY2tlZHxzZWxlY3RlZCkkL2kseGI9bC5nZXRTZXRBdHRyaWJ1dGUseWI9bC5pbnB1dDtuLmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihhLGIpe3JldHVybiBZKHRoaXMsbi5hdHRyLGEsYixhcmd1bWVudHMubGVuZ3RoPjEpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtuLnJlbW92ZUF0dHIodGhpcyxhKX0pfX0pLG4uZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGY9YS5ub2RlVHlwZTtpZigzIT09ZiYmOCE9PWYmJjIhPT1mKXJldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgYS5nZXRBdHRyaWJ1dGU/bi5wcm9wKGEsYixjKTooMT09PWYmJm4uaXNYTUxEb2MoYSl8fChiPWIudG9Mb3dlckNhc2UoKSxlPW4uYXR0ckhvb2tzW2JdfHwobi5leHByLm1hdGNoLmJvb2wudGVzdChiKT91Yjp0YikpLHZvaWQgMCE9PWM/bnVsbD09PWM/dm9pZCBuLnJlbW92ZUF0dHIoYSxiKTplJiYic2V0ImluIGUmJnZvaWQgMCE9PShkPWUuc2V0KGEsYyxiKSk/ZDooYS5zZXRBdHRyaWJ1dGUoYixjKyIiKSxjKTplJiYiZ2V0ImluIGUmJm51bGwhPT0oZD1lLmdldChhLGIpKT9kOihkPW4uZmluZC5hdHRyKGEsYiksbnVsbD09ZD92b2lkIDA6ZCkpfSxhdHRySG9va3M6e3R5cGU6e3NldDpmdW5jdGlvbihhLGIpe2lmKCFsLnJhZGlvVmFsdWUmJiJyYWRpbyI9PT1iJiZuLm5vZGVOYW1lKGEsImlucHV0Iikpe3ZhciBjPWEudmFsdWU7cmV0dXJuIGEuc2V0QXR0cmlidXRlKCJ0eXBlIixiKSxjJiYoYS52YWx1ZT1jKSxifX19fSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlPTAsZj1iJiZiLm1hdGNoKEcpO2lmKGYmJjE9PT1hLm5vZGVUeXBlKXdoaWxlKGM9ZltlKytdKWQ9bi5wcm9wRml4W2NdfHxjLG4uZXhwci5tYXRjaC5ib29sLnRlc3QoYyk/eWImJnhifHwhd2IudGVzdChjKT9hW2RdPSExOmFbbi5jYW1lbENhc2UoImRlZmF1bHQtIitjKV09YVtkXT0hMTpuLmF0dHIoYSxjLCIiKSxhLnJlbW92ZUF0dHJpYnV0ZSh4Yj9jOmQpfX0pLHViPXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiPT09ITE/bi5yZW1vdmVBdHRyKGEsYyk6eWImJnhifHwhd2IudGVzdChjKT9hLnNldEF0dHJpYnV0ZSgheGImJm4ucHJvcEZpeFtjXXx8YyxjKTphW24uY2FtZWxDYXNlKCJkZWZhdWx0LSIrYyldPWFbY109ITAsY319LG4uZWFjaChuLmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1x3Ky9nKSxmdW5jdGlvbihhLGIpe3ZhciBjPXZiW2JdfHxuLmZpbmQuYXR0cjt5YiYmeGJ8fCF3Yi50ZXN0KGIpP3ZiW2JdPWZ1bmN0aW9uKGEsYixkKXt2YXIgZSxmO3JldHVybiBkfHwoZj12YltiXSx2YltiXT1lLGU9bnVsbCE9YyhhLGIsZCk/Yi50b0xvd2VyQ2FzZSgpOm51bGwsdmJbYl09ZiksZX06dmJbYl09ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjP3ZvaWQgMDphW24uY2FtZWxDYXNlKCJkZWZhdWx0LSIrYildP2IudG9Mb3dlckNhc2UoKTpudWxsfX0pLHliJiZ4Ynx8KG4uYXR0ckhvb2tzLnZhbHVlPXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBuLm5vZGVOYW1lKGEsImlucHV0Iik/dm9pZChhLmRlZmF1bHRWYWx1ZT1iKTp0YiYmdGIuc2V0KGEsYixjKX19KSx4Ynx8KHRiPXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEuZ2V0QXR0cmlidXRlTm9kZShjKTtyZXR1cm4gZHx8YS5zZXRBdHRyaWJ1dGVOb2RlKGQ9YS5vd25lckRvY3VtZW50LmNyZWF0ZUF0dHJpYnV0ZShjKSksZC52YWx1ZT1iKz0iIiwidmFsdWUiPT09Y3x8Yj09PWEuZ2V0QXR0cmlidXRlKGMpP2I6dm9pZCAwfX0sdmIuaWQ9dmIubmFtZT12Yi5jb29yZHM9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiBjP3ZvaWQgMDooZD1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiYiIiE9PWQudmFsdWU/ZC52YWx1ZTpudWxsfSxuLnZhbEhvb2tzLmJ1dHRvbj17Z2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5nZXRBdHRyaWJ1dGVOb2RlKGIpO3JldHVybiBjJiZjLnNwZWNpZmllZD9jLnZhbHVlOnZvaWQgMH0sc2V0OnRiLnNldH0sbi5hdHRySG9va3MuY29udGVudGVkaXRhYmxlPXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe3RiLnNldChhLCIiPT09Yj8hMTpiLGMpfX0sbi5lYWNoKFsid2lkdGgiLCJoZWlnaHQiXSxmdW5jdGlvbihhLGIpe24uYXR0ckhvb2tzW2JdPXtzZXQ6ZnVuY3Rpb24oYSxjKXtyZXR1cm4iIj09PWM/KGEuc2V0QXR0cmlidXRlKGIsImF1dG8iKSxjKTp2b2lkIDB9fX0pKSxsLnN0eWxlfHwobi5hdHRySG9va3Muc3R5bGU9e2dldDpmdW5jdGlvbihhKXtyZXR1cm4gYS5zdHlsZS5jc3NUZXh0fHx2b2lkIDB9LHNldDpmdW5jdGlvbihhLGIpe3JldHVybiBhLnN0eWxlLmNzc1RleHQ9YisiIn19KTt2YXIgemI9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9ufG9iamVjdCkkL2ksQWI9L14oPzphfGFyZWEpJC9pO24uZm4uZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGEsYil7cmV0dXJuIFkodGhpcyxuLnByb3AsYSxiLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHJlbW92ZVByb3A6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9bi5wcm9wRml4W2FdfHxhLHRoaXMuZWFjaChmdW5jdGlvbigpe3RyeXt0aGlzW2FdPXZvaWQgMCxkZWxldGUgdGhpc1thXX1jYXRjaChiKXt9fSl9fSksbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj1hLm5vZGVUeXBlO2lmKDMhPT1mJiY4IT09ZiYmMiE9PWYpcmV0dXJuIDE9PT1mJiZuLmlzWE1MRG9jKGEpfHwoYj1uLnByb3BGaXhbYl18fGIsZT1uLnByb3BIb29rc1tiXSksdm9pZCAwIT09Yz9lJiYic2V0ImluIGUmJnZvaWQgMCE9PShkPWUuc2V0KGEsYyxiKSk/ZDphW2JdPWM6ZSYmImdldCJpbiBlJiZudWxsIT09KGQ9ZS5nZXQoYSxiKSk/ZDphW2JdfSxwcm9wSG9va3M6e3RhYkluZGV4OntnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9bi5maW5kLmF0dHIoYSwidGFiaW5kZXgiKTtyZXR1cm4gYj9wYXJzZUludChiLDEwKTp6Yi50ZXN0KGEubm9kZU5hbWUpfHxBYi50ZXN0KGEubm9kZU5hbWUpJiZhLmhyZWY/MDotMX19fSxwcm9wRml4OnsiZm9yIjoiaHRtbEZvciIsImNsYXNzIjoiY2xhc3NOYW1lIn19KSxsLmhyZWZOb3JtYWxpemVkfHxuLmVhY2goWyJocmVmIiwic3JjIl0sZnVuY3Rpb24oYSxiKXtuLnByb3BIb29rc1tiXT17Z2V0OmZ1bmN0aW9uKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZShiLDQpfX19KSxsLm9wdFNlbGVjdGVkfHwobi5wcm9wSG9va3Muc2VsZWN0ZWQ9e2dldDpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudE5vZGU7cmV0dXJuIGImJihiLnNlbGVjdGVkSW5kZXgsYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCksbnVsbH0sc2V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtiJiYoYi5zZWxlY3RlZEluZGV4LGIucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgpfX0pLG4uZWFjaChbInRhYkluZGV4IiwicmVhZE9ubHkiLCJtYXhMZW5ndGgiLCJjZWxsU3BhY2luZyIsImNlbGxQYWRkaW5nIiwicm93U3BhbiIsImNvbFNwYW4iLCJ1c2VNYXAiLCJmcmFtZUJvcmRlciIsImNvbnRlbnRFZGl0YWJsZSJdLGZ1bmN0aW9uKCl7bi5wcm9wRml4W3RoaXMudG9Mb3dlckNhc2UoKV09dGhpc30pLGwuZW5jdHlwZXx8KG4ucHJvcEZpeC5lbmN0eXBlPSJlbmNvZGluZyIpO3ZhciBCYj0vW1x0XHJcblxmXS9nO2Z1bmN0aW9uIENiKGEpe3JldHVybiBuLmF0dHIoYSwiY2xhc3MiKXx8IiJ9bi5mbi5leHRlbmQoe2FkZENsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGk9MDtpZihuLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtuKHRoaXMpLmFkZENsYXNzKGEuY2FsbCh0aGlzLGIsQ2IodGhpcykpKX0pO2lmKCJzdHJpbmciPT10eXBlb2YgYSYmYSl7Yj1hLm1hdGNoKEcpfHxbXTt3aGlsZShjPXRoaXNbaSsrXSlpZihlPUNiKGMpLGQ9MT09PWMubm9kZVR5cGUmJigiICIrZSsiICIpLnJlcGxhY2UoQmIsIiAiKSl7Zz0wO3doaWxlKGY9YltnKytdKWQuaW5kZXhPZigiICIrZisiICIpPDAmJihkKz1mKyIgIik7aD1uLnRyaW0oZCksZSE9PWgmJm4uYXR0cihjLCJjbGFzcyIsaCl9fXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaCxpPTA7aWYobi5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7bih0aGlzKS5yZW1vdmVDbGFzcyhhLmNhbGwodGhpcyxiLENiKHRoaXMpKSl9KTtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5hdHRyKCJjbGFzcyIsIiIpO2lmKCJzdHJpbmciPT10eXBlb2YgYSYmYSl7Yj1hLm1hdGNoKEcpfHxbXTt3aGlsZShjPXRoaXNbaSsrXSlpZihlPUNiKGMpLGQ9MT09PWMubm9kZVR5cGUmJigiICIrZSsiICIpLnJlcGxhY2UoQmIsIiAiKSl7Zz0wO3doaWxlKGY9YltnKytdKXdoaWxlKGQuaW5kZXhPZigiICIrZisiICIpPi0xKWQ9ZC5yZXBsYWNlKCIgIitmKyIgIiwiICIpO2g9bi50cmltKGQpLGUhPT1oJiZuLmF0dHIoYywiY2xhc3MiLGgpfX1yZXR1cm4gdGhpc30sdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz10eXBlb2YgYTtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBiJiYic3RyaW5nIj09PWM/Yj90aGlzLmFkZENsYXNzKGEpOnRoaXMucmVtb3ZlQ2xhc3MoYSk6bi5pc0Z1bmN0aW9uKGEpP3RoaXMuZWFjaChmdW5jdGlvbihjKXtuKHRoaXMpLnRvZ2dsZUNsYXNzKGEuY2FsbCh0aGlzLGMsQ2IodGhpcyksYiksYil9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYixkLGUsZjtpZigic3RyaW5nIj09PWMpe2Q9MCxlPW4odGhpcyksZj1hLm1hdGNoKEcpfHxbXTt3aGlsZShiPWZbZCsrXSllLmhhc0NsYXNzKGIpP2UucmVtb3ZlQ2xhc3MoYik6ZS5hZGRDbGFzcyhiKX1lbHNlIHZvaWQgMCE9PWEmJiJib29sZWFuIiE9PWN8fChiPUNiKHRoaXMpLGImJm4uX2RhdGEodGhpcywiX19jbGFzc05hbWVfXyIsYiksbi5hdHRyKHRoaXMsImNsYXNzIixifHxhPT09ITE/IiI6bi5fZGF0YSh0aGlzLCJfX2NsYXNzTmFtZV9fIil8fCIiKSl9KX0saGFzQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPTA7Yj0iICIrYSsiICI7d2hpbGUoYz10aGlzW2QrK10paWYoMT09PWMubm9kZVR5cGUmJigiICIrQ2IoYykrIiAiKS5yZXBsYWNlKEJiLCIgIikuaW5kZXhPZihiKT4tMSlyZXR1cm4hMDtyZXR1cm4hMX19KSxuLmVhY2goImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCBsb2FkIHJlc2l6ZSBzY3JvbGwgdW5sb2FkIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgZXJyb3IgY29udGV4dG1lbnUiLnNwbGl0KCIgIiksZnVuY3Rpb24oYSxiKXtuLmZuW2JdPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MD90aGlzLm9uKGIsbnVsbCxhLGMpOnRoaXMudHJpZ2dlcihiKX19KSxuLmZuLmV4dGVuZCh7aG92ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5tb3VzZWVudGVyKGEpLm1vdXNlbGVhdmUoYnx8YSl9fSk7dmFyIERiPWEubG9jYXRpb24sRWI9bi5ub3coKSxGYj0vXD8vLEdiPS8oLCl8KFxbfHspfCh9fF0pfCIoPzpbXiJcXFxyXG5dfFxcWyJcXFwvYmZucnRdfFxcdVtcZGEtZkEtRl17NH0pKiJccyo6P3x0cnVlfGZhbHNlfG51bGx8LT8oPyEwXGQpXGQrKD86XC5cZCt8KSg/OltlRV1bKy1dP1xkK3wpL2c7bi5wYXJzZUpTT049ZnVuY3Rpb24oYil7aWYoYS5KU09OJiZhLkpTT04ucGFyc2UpcmV0dXJuIGEuSlNPTi5wYXJzZShiKyIiKTt2YXIgYyxkPW51bGwsZT1uLnRyaW0oYisiIik7cmV0dXJuIGUmJiFuLnRyaW0oZS5yZXBsYWNlKEdiLGZ1bmN0aW9uKGEsYixlLGYpe3JldHVybiBjJiZiJiYoZD0wKSwwPT09ZD9hOihjPWV8fGIsZCs9IWYtIWUsIiIpfSkpP0Z1bmN0aW9uKCJyZXR1cm4gIitlKSgpOm4uZXJyb3IoIkludmFsaWQgSlNPTjogIitiKX0sbi5wYXJzZVhNTD1mdW5jdGlvbihiKXt2YXIgYyxkO2lmKCFifHwic3RyaW5nIiE9dHlwZW9mIGIpcmV0dXJuIG51bGw7dHJ5e2EuRE9NUGFyc2VyPyhkPW5ldyBhLkRPTVBhcnNlcixjPWQucGFyc2VGcm9tU3RyaW5nKGIsInRleHQveG1sIikpOihjPW5ldyBhLkFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxET00iKSxjLmFzeW5jPSJmYWxzZSIsYy5sb2FkWE1MKGIpKX1jYXRjaChlKXtjPXZvaWQgMH1yZXR1cm4gYyYmYy5kb2N1bWVudEVsZW1lbnQmJiFjLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpLmxlbmd0aHx8bi5lcnJvcigiSW52YWxpZCBYTUw6ICIrYiksY307dmFyIEhiPS8jLiokLyxJYj0vKFs/Jl0pXz1bXiZdKi8sSmI9L14oLio/KTpbIFx0XSooW15cclxuXSopXHI/JC9nbSxLYj0vXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLyxMYj0vXig/OkdFVHxIRUFEKSQvLE1iPS9eXC9cLy8sTmI9L14oW1x3ListXSs6KSg/OlwvXC8oPzpbXlwvPyNdKkB8KShbXlwvPyM6XSopKD86OihcZCspfCl8KS8sT2I9e30sUGI9e30sUWI9IiovIi5jb25jYXQoIioiKSxSYj1EYi5ocmVmLFNiPU5iLmV4ZWMoUmIudG9Mb3dlckNhc2UoKSl8fFtdO2Z1bmN0aW9uIFRiKGEpe3JldHVybiBmdW5jdGlvbihiLGMpeyJzdHJpbmciIT10eXBlb2YgYiYmKGM9YixiPSIqIik7dmFyIGQsZT0wLGY9Yi50b0xvd2VyQ2FzZSgpLm1hdGNoKEcpfHxbXTtpZihuLmlzRnVuY3Rpb24oYykpd2hpbGUoZD1mW2UrK10pIisiPT09ZC5jaGFyQXQoMCk/KGQ9ZC5zbGljZSgxKXx8IioiLChhW2RdPWFbZF18fFtdKS51bnNoaWZ0KGMpKTooYVtkXT1hW2RdfHxbXSkucHVzaChjKX19ZnVuY3Rpb24gVWIoYSxiLGMsZCl7dmFyIGU9e30sZj1hPT09UGI7ZnVuY3Rpb24gZyhoKXt2YXIgaTtyZXR1cm4gZVtoXT0hMCxuLmVhY2goYVtoXXx8W10sZnVuY3Rpb24oYSxoKXt2YXIgaj1oKGIsYyxkKTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGp8fGZ8fGVbal0/Zj8hKGk9aik6dm9pZCAwOihiLmRhdGFUeXBlcy51bnNoaWZ0KGopLGcoaiksITEpfSksaX1yZXR1cm4gZyhiLmRhdGFUeXBlc1swXSl8fCFlWyIqIl0mJmcoIioiKX1mdW5jdGlvbiBWYihhLGIpe3ZhciBjLGQsZT1uLmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9uc3x8e307Zm9yKGQgaW4gYil2b2lkIDAhPT1iW2RdJiYoKGVbZF0/YTpjfHwoYz17fSkpW2RdPWJbZF0pO3JldHVybiBjJiZuLmV4dGVuZCghMCxhLGMpLGF9ZnVuY3Rpb24gV2IoYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5jb250ZW50cyxpPWEuZGF0YVR5cGVzO3doaWxlKCIqIj09PWlbMF0paS5zaGlmdCgpLHZvaWQgMD09PWUmJihlPWEubWltZVR5cGV8fGIuZ2V0UmVzcG9uc2VIZWFkZXIoIkNvbnRlbnQtVHlwZSIpKTtpZihlKWZvcihnIGluIGgpaWYoaFtnXSYmaFtnXS50ZXN0KGUpKXtpLnVuc2hpZnQoZyk7YnJlYWt9aWYoaVswXWluIGMpZj1pWzBdO2Vsc2V7Zm9yKGcgaW4gYyl7aWYoIWlbMF18fGEuY29udmVydGVyc1tnKyIgIitpWzBdXSl7Zj1nO2JyZWFrfWR8fChkPWcpfWY9Znx8ZH1yZXR1cm4gZj8oZiE9PWlbMF0mJmkudW5zaGlmdChmKSxjW2ZdKTp2b2lkIDB9ZnVuY3Rpb24gWGIoYSxiLGMsZCl7dmFyIGUsZixnLGgsaSxqPXt9LGs9YS5kYXRhVHlwZXMuc2xpY2UoKTtpZihrWzFdKWZvcihnIGluIGEuY29udmVydGVycylqW2cudG9Mb3dlckNhc2UoKV09YS5jb252ZXJ0ZXJzW2ddO2Y9ay5zaGlmdCgpO3doaWxlKGYpaWYoYS5yZXNwb25zZUZpZWxkc1tmXSYmKGNbYS5yZXNwb25zZUZpZWxkc1tmXV09YiksIWkmJmQmJmEuZGF0YUZpbHRlciYmKGI9YS5kYXRhRmlsdGVyKGIsYS5kYXRhVHlwZSkpLGk9ZixmPWsuc2hpZnQoKSlpZigiKiI9PT1mKWY9aTtlbHNlIGlmKCIqIiE9PWkmJmkhPT1mKXtpZihnPWpbaSsiICIrZl18fGpbIiogIitmXSwhZylmb3IoZSBpbiBqKWlmKGg9ZS5zcGxpdCgiICIpLGhbMV09PT1mJiYoZz1qW2krIiAiK2hbMF1dfHxqWyIqICIraFswXV0pKXtnPT09ITA/Zz1qW2VdOmpbZV0hPT0hMCYmKGY9aFswXSxrLnVuc2hpZnQoaFsxXSkpO2JyZWFrfWlmKGchPT0hMClpZihnJiZhWyJ0aHJvd3MiXSliPWcoYik7ZWxzZSB0cnl7Yj1nKGIpfWNhdGNoKGwpe3JldHVybntzdGF0ZToicGFyc2VyZXJyb3IiLGVycm9yOmc/bDoiTm8gY29udmVyc2lvbiBmcm9tICIraSsiIHRvICIrZn19fXJldHVybntzdGF0ZToic3VjY2VzcyIsZGF0YTpifX1uLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6UmIsdHlwZToiR0VUIixpc0xvY2FsOktiLnRlc3QoU2JbMV0pLGdsb2JhbDohMCxwcm9jZXNzRGF0YTohMCxhc3luYzohMCxjb250ZW50VHlwZToiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04IixhY2NlcHRzOnsiKiI6UWIsdGV4dDoidGV4dC9wbGFpbiIsaHRtbDoidGV4dC9odG1sIix4bWw6ImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwiLGpzb246ImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdCJ9LGNvbnRlbnRzOnt4bWw6L1xieG1sXGIvLGh0bWw6L1xiaHRtbC8sanNvbjovXGJqc29uXGIvfSxyZXNwb25zZUZpZWxkczp7eG1sOiJyZXNwb25zZVhNTCIsdGV4dDoicmVzcG9uc2VUZXh0Iixqc29uOiJyZXNwb25zZUpTT04ifSxjb252ZXJ0ZXJzOnsiKiB0ZXh0IjpTdHJpbmcsInRleHQgaHRtbCI6ITAsInRleHQganNvbiI6bi5wYXJzZUpTT04sInRleHQgeG1sIjpuLnBhcnNlWE1MfSxmbGF0T3B0aW9uczp7dXJsOiEwLGNvbnRleHQ6ITB9fSxhamF4U2V0dXA6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj9WYihWYihhLG4uYWpheFNldHRpbmdzKSxiKTpWYihuLmFqYXhTZXR0aW5ncyxhKX0sYWpheFByZWZpbHRlcjpUYihPYiksYWpheFRyYW5zcG9ydDpUYihQYiksYWpheDpmdW5jdGlvbihiLGMpeyJvYmplY3QiPT10eXBlb2YgYiYmKGM9YixiPXZvaWQgMCksYz1jfHx7fTt2YXIgZCxlLGYsZyxoLGksaixrLGw9bi5hamF4U2V0dXAoe30sYyksbT1sLmNvbnRleHR8fGwsbz1sLmNvbnRleHQmJihtLm5vZGVUeXBlfHxtLmpxdWVyeSk/bihtKTpuLmV2ZW50LHA9bi5EZWZlcnJlZCgpLHE9bi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5Iikscj1sLnN0YXR1c0NvZGV8fHt9LHM9e30sdD17fSx1PTAsdj0iY2FuY2VsZWQiLHc9e3JlYWR5U3RhdGU6MCxnZXRSZXNwb25zZUhlYWRlcjpmdW5jdGlvbihhKXt2YXIgYjtpZigyPT09dSl7aWYoIWspe2s9e307d2hpbGUoYj1KYi5leGVjKGcpKWtbYlsxXS50b0xvd2VyQ2FzZSgpXT1iWzJdfWI9a1thLnRvTG93ZXJDYXNlKCldfXJldHVybiBudWxsPT1iP251bGw6Yn0sZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIDI9PT11P2c6bnVsbH0sc2V0UmVxdWVzdEhlYWRlcjpmdW5jdGlvbihhLGIpe3ZhciBjPWEudG9Mb3dlckNhc2UoKTtyZXR1cm4gdXx8KGE9dFtjXT10W2NdfHxhLHNbYV09YiksdGhpc30sb3ZlcnJpZGVNaW1lVHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gdXx8KGwubWltZVR5cGU9YSksdGhpc30sc3RhdHVzQ29kZTpmdW5jdGlvbihhKXt2YXIgYjtpZihhKWlmKDI+dSlmb3IoYiBpbiBhKXJbYl09W3JbYl0sYVtiXV07ZWxzZSB3LmFsd2F5cyhhW3cuc3RhdHVzXSk7cmV0dXJuIHRoaXN9LGFib3J0OmZ1bmN0aW9uKGEpe3ZhciBiPWF8fHY7cmV0dXJuIGomJmouYWJvcnQoYikseSgwLGIpLHRoaXN9fTtpZihwLnByb21pc2UodykuY29tcGxldGU9cS5hZGQsdy5zdWNjZXNzPXcuZG9uZSx3LmVycm9yPXcuZmFpbCxsLnVybD0oKGJ8fGwudXJsfHxSYikrIiIpLnJlcGxhY2UoSGIsIiIpLnJlcGxhY2UoTWIsU2JbMV0rIi8vIiksbC50eXBlPWMubWV0aG9kfHxjLnR5cGV8fGwubWV0aG9kfHxsLnR5cGUsbC5kYXRhVHlwZXM9bi50cmltKGwuZGF0YVR5cGV8fCIqIikudG9Mb3dlckNhc2UoKS5tYXRjaChHKXx8WyIiXSxudWxsPT1sLmNyb3NzRG9tYWluJiYoZD1OYi5leGVjKGwudXJsLnRvTG93ZXJDYXNlKCkpLGwuY3Jvc3NEb21haW49ISghZHx8ZFsxXT09PVNiWzFdJiZkWzJdPT09U2JbMl0mJihkWzNdfHwoImh0dHA6Ij09PWRbMV0/IjgwIjoiNDQzIikpPT09KFNiWzNdfHwoImh0dHA6Ij09PVNiWzFdPyI4MCI6IjQ0MyIpKSkpLGwuZGF0YSYmbC5wcm9jZXNzRGF0YSYmInN0cmluZyIhPXR5cGVvZiBsLmRhdGEmJihsLmRhdGE9bi5wYXJhbShsLmRhdGEsbC50cmFkaXRpb25hbCkpLFViKE9iLGwsYyx3KSwyPT09dSlyZXR1cm4gdztpPW4uZXZlbnQmJmwuZ2xvYmFsLGkmJjA9PT1uLmFjdGl2ZSsrJiZuLmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpLGwudHlwZT1sLnR5cGUudG9VcHBlckNhc2UoKSxsLmhhc0NvbnRlbnQ9IUxiLnRlc3QobC50eXBlKSxmPWwudXJsLGwuaGFzQ29udGVudHx8KGwuZGF0YSYmKGY9bC51cmwrPShGYi50ZXN0KGYpPyImIjoiPyIpK2wuZGF0YSxkZWxldGUgbC5kYXRhKSxsLmNhY2hlPT09ITEmJihsLnVybD1JYi50ZXN0KGYpP2YucmVwbGFjZShJYiwiJDFfPSIrRWIrKyk6ZisoRmIudGVzdChmKT8iJiI6Ij8iKSsiXz0iK0ViKyspKSxsLmlmTW9kaWZpZWQmJihuLmxhc3RNb2RpZmllZFtmXSYmdy5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Nb2RpZmllZC1TaW5jZSIsbi5sYXN0TW9kaWZpZWRbZl0pLG4uZXRhZ1tmXSYmdy5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Ob25lLU1hdGNoIixuLmV0YWdbZl0pKSwobC5kYXRhJiZsLmhhc0NvbnRlbnQmJmwuY29udGVudFR5cGUhPT0hMXx8Yy5jb250ZW50VHlwZSkmJncuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIixsLmNvbnRlbnRUeXBlKSx3LnNldFJlcXVlc3RIZWFkZXIoIkFjY2VwdCIsbC5kYXRhVHlwZXNbMF0mJmwuYWNjZXB0c1tsLmRhdGFUeXBlc1swXV0/bC5hY2NlcHRzW2wuZGF0YVR5cGVzWzBdXSsoIioiIT09bC5kYXRhVHlwZXNbMF0/IiwgIitRYisiOyBxPTAuMDEiOiIiKTpsLmFjY2VwdHNbIioiXSk7Zm9yKGUgaW4gbC5oZWFkZXJzKXcuc2V0UmVxdWVzdEhlYWRlcihlLGwuaGVhZGVyc1tlXSk7aWYobC5iZWZvcmVTZW5kJiYobC5iZWZvcmVTZW5kLmNhbGwobSx3LGwpPT09ITF8fDI9PT11KSlyZXR1cm4gdy5hYm9ydCgpO3Y9ImFib3J0Ijtmb3IoZSBpbntzdWNjZXNzOjEsZXJyb3I6MSxjb21wbGV0ZToxfSl3W2VdKGxbZV0pO2lmKGo9VWIoUGIsbCxjLHcpKXtpZih3LnJlYWR5U3RhdGU9MSxpJiZvLnRyaWdnZXIoImFqYXhTZW5kIixbdyxsXSksMj09PXUpcmV0dXJuIHc7bC5hc3luYyYmbC50aW1lb3V0PjAmJihoPWEuc2V0VGltZW91dChmdW5jdGlvbigpe3cuYWJvcnQoInRpbWVvdXQiKX0sbC50aW1lb3V0KSk7dHJ5e3U9MSxqLnNlbmQocyx5KX1jYXRjaCh4KXtpZighKDI+dSkpdGhyb3cgeDt5KC0xLHgpfX1lbHNlIHkoLTEsIk5vIFRyYW5zcG9ydCIpO2Z1bmN0aW9uIHkoYixjLGQsZSl7dmFyIGsscyx0LHYseCx5PWM7MiE9PXUmJih1PTIsaCYmYS5jbGVhclRpbWVvdXQoaCksaj12b2lkIDAsZz1lfHwiIix3LnJlYWR5U3RhdGU9Yj4wPzQ6MCxrPWI+PTIwMCYmMzAwPmJ8fDMwND09PWIsZCYmKHY9V2IobCx3LGQpKSx2PVhiKGwsdix3LGspLGs/KGwuaWZNb2RpZmllZCYmKHg9dy5nZXRSZXNwb25zZUhlYWRlcigiTGFzdC1Nb2RpZmllZCIpLHgmJihuLmxhc3RNb2RpZmllZFtmXT14KSx4PXcuZ2V0UmVzcG9uc2VIZWFkZXIoImV0YWciKSx4JiYobi5ldGFnW2ZdPXgpKSwyMDQ9PT1ifHwiSEVBRCI9PT1sLnR5cGU/eT0ibm9jb250ZW50IjozMDQ9PT1iP3k9Im5vdG1vZGlmaWVkIjooeT12LnN0YXRlLHM9di5kYXRhLHQ9di5lcnJvcixrPSF0KSk6KHQ9eSwhYiYmeXx8KHk9ImVycm9yIiwwPmImJihiPTApKSksdy5zdGF0dXM9Yix3LnN0YXR1c1RleHQ9KGN8fHkpKyIiLGs/cC5yZXNvbHZlV2l0aChtLFtzLHksd10pOnAucmVqZWN0V2l0aChtLFt3LHksdF0pLHcuc3RhdHVzQ29kZShyKSxyPXZvaWQgMCxpJiZvLnRyaWdnZXIoaz8iYWpheFN1Y2Nlc3MiOiJhamF4RXJyb3IiLFt3LGwsaz9zOnRdKSxxLmZpcmVXaXRoKG0sW3cseV0pLGkmJihvLnRyaWdnZXIoImFqYXhDb21wbGV0ZSIsW3csbF0pLC0tbi5hY3RpdmV8fG4uZXZlbnQudHJpZ2dlcigiYWpheFN0b3AiKSkpfXJldHVybiB3fSxnZXRKU09OOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbi5nZXQoYSxiLGMsImpzb24iKX0sZ2V0U2NyaXB0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIG4uZ2V0KGEsdm9pZCAwLGIsInNjcmlwdCIpfX0pLG4uZWFjaChbImdldCIsInBvc3QiXSxmdW5jdGlvbihhLGIpe25bYl09ZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuIG4uaXNGdW5jdGlvbihjKSYmKGU9ZXx8ZCxkPWMsYz12b2lkIDApLG4uYWpheChuLmV4dGVuZCh7dXJsOmEsdHlwZTpiLGRhdGFUeXBlOmUsZGF0YTpjLHN1Y2Nlc3M6ZH0sbi5pc1BsYWluT2JqZWN0KGEpJiZhKSl9fSksbi5fZXZhbFVybD1mdW5jdGlvbihhKXtyZXR1cm4gbi5hamF4KHt1cmw6YSx0eXBlOiJHRVQiLGRhdGFUeXBlOiJzY3JpcHQiLGNhY2hlOiEwLGFzeW5jOiExLGdsb2JhbDohMSwidGhyb3dzIjohMH0pfSxuLmZuLmV4dGVuZCh7d3JhcEFsbDpmdW5jdGlvbihhKXtpZihuLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtuKHRoaXMpLndyYXBBbGwoYS5jYWxsKHRoaXMsYikpfSk7aWYodGhpc1swXSl7dmFyIGI9bihhLHRoaXNbMF0ub3duZXJEb2N1bWVudCkuZXEoMCkuY2xvbmUoITApO3RoaXNbMF0ucGFyZW50Tm9kZSYmYi5pbnNlcnRCZWZvcmUodGhpc1swXSksYi5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzO3doaWxlKGEuZmlyc3RDaGlsZCYmMT09PWEuZmlyc3RDaGlsZC5ub2RlVHlwZSlhPWEuZmlyc3RDaGlsZDtyZXR1cm4gYX0pLmFwcGVuZCh0aGlzKX1yZXR1cm4gdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKGEpe3JldHVybiBuLmlzRnVuY3Rpb24oYSk/dGhpcy5lYWNoKGZ1bmN0aW9uKGIpe24odGhpcykud3JhcElubmVyKGEuY2FsbCh0aGlzLGIpKX0pOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPW4odGhpcyksYz1iLmNvbnRlbnRzKCk7Yy5sZW5ndGg/Yy53cmFwQWxsKGEpOmIuYXBwZW5kKGEpfSl9LHdyYXA6ZnVuY3Rpb24oYSl7dmFyIGI9bi5pc0Z1bmN0aW9uKGEpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYyl7bih0aGlzKS53cmFwQWxsKGI/YS5jYWxsKHRoaXMsYyk6YSl9KX0sdW53cmFwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbigpe24ubm9kZU5hbWUodGhpcywiYm9keSIpfHxuKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KS5lbmQoKX19KTtmdW5jdGlvbiBZYihhKXtyZXR1cm4gYS5zdHlsZSYmYS5zdHlsZS5kaXNwbGF5fHxuLmNzcyhhLCJkaXNwbGF5Iil9ZnVuY3Rpb24gWmIoYSl7aWYoIW4uY29udGFpbnMoYS5vd25lckRvY3VtZW50fHxkLGEpKXJldHVybiEwO3doaWxlKGEmJjE9PT1hLm5vZGVUeXBlKXtpZigibm9uZSI9PT1ZYihhKXx8ImhpZGRlbiI9PT1hLnR5cGUpcmV0dXJuITA7YT1hLnBhcmVudE5vZGV9cmV0dXJuITF9bi5leHByLmZpbHRlcnMuaGlkZGVuPWZ1bmN0aW9uKGEpe3JldHVybiBsLnJlbGlhYmxlSGlkZGVuT2Zmc2V0cygpP2Eub2Zmc2V0V2lkdGg8PTAmJmEub2Zmc2V0SGVpZ2h0PD0wJiYhYS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aDpaYihhKX0sbi5leHByLmZpbHRlcnMudmlzaWJsZT1mdW5jdGlvbihhKXtyZXR1cm4hbi5leHByLmZpbHRlcnMuaGlkZGVuKGEpfTt2YXIgJGI9LyUyMC9nLF9iPS9cW1xdJC8sYWM9L1xyP1xuL2csYmM9L14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLGNjPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtmdW5jdGlvbiBkYyhhLGIsYyxkKXt2YXIgZTtpZihuLmlzQXJyYXkoYikpbi5lYWNoKGIsZnVuY3Rpb24oYixlKXtjfHxfYi50ZXN0KGEpP2QoYSxlKTpkYyhhKyJbIisoIm9iamVjdCI9PXR5cGVvZiBlJiZudWxsIT1lP2I6IiIpKyJdIixlLGMsZCl9KTtlbHNlIGlmKGN8fCJvYmplY3QiIT09bi50eXBlKGIpKWQoYSxiKTtlbHNlIGZvcihlIGluIGIpZGMoYSsiWyIrZSsiXSIsYltlXSxjLGQpfW4ucGFyYW09ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9ZnVuY3Rpb24oYSxiKXtiPW4uaXNGdW5jdGlvbihiKT9iKCk6bnVsbD09Yj8iIjpiLGRbZC5sZW5ndGhdPWVuY29kZVVSSUNvbXBvbmVudChhKSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KGIpfTtpZih2b2lkIDA9PT1iJiYoYj1uLmFqYXhTZXR0aW5ncyYmbi5hamF4U2V0dGluZ3MudHJhZGl0aW9uYWwpLG4uaXNBcnJheShhKXx8YS5qcXVlcnkmJiFuLmlzUGxhaW5PYmplY3QoYSkpbi5lYWNoKGEsZnVuY3Rpb24oKXtlKHRoaXMubmFtZSx0aGlzLnZhbHVlKX0pO2Vsc2UgZm9yKGMgaW4gYSlkYyhjLGFbY10sYixlKTtyZXR1cm4gZC5qb2luKCImIikucmVwbGFjZSgkYiwiKyIpfSxuLmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIG4ucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgYT1uLnByb3AodGhpcywiZWxlbWVudHMiKTtyZXR1cm4gYT9uLm1ha2VBcnJheShhKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiFuKHRoaXMpLmlzKCI6ZGlzYWJsZWQiKSYmY2MudGVzdCh0aGlzLm5vZGVOYW1lKSYmIWJjLnRlc3QoYSkmJih0aGlzLmNoZWNrZWR8fCFaLnRlc3QoYSkpfSkubWFwKGZ1bmN0aW9uKGEsYil7dmFyIGM9bih0aGlzKS52YWwoKTtyZXR1cm4gbnVsbD09Yz9udWxsOm4uaXNBcnJheShjKT9uLm1hcChjLGZ1bmN0aW9uKGEpe3JldHVybntuYW1lOmIubmFtZSx2YWx1ZTphLnJlcGxhY2UoYWMsIlxyXG4iKX19KTp7bmFtZTpiLm5hbWUsdmFsdWU6Yy5yZXBsYWNlKGFjLCJcclxuIil9fSkuZ2V0KCl9fSksbi5hamF4U2V0dGluZ3MueGhyPXZvaWQgMCE9PWEuQWN0aXZlWE9iamVjdD9mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzTG9jYWw/aWMoKTpkLmRvY3VtZW50TW9kZT44P2hjKCk6L14oZ2V0fHBvc3R8aGVhZHxwdXR8ZGVsZXRlfG9wdGlvbnMpJC9pLnRlc3QodGhpcy50eXBlKSYmaGMoKXx8aWMoKX06aGM7dmFyIGVjPTAsZmM9e30sZ2M9bi5hamF4U2V0dGluZ3MueGhyKCk7YS5hdHRhY2hFdmVudCYmYS5hdHRhY2hFdmVudCgib251bmxvYWQiLGZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIGZjKWZjW2FdKHZvaWQgMCwhMCl9KSxsLmNvcnM9ISFnYyYmIndpdGhDcmVkZW50aWFscyJpbiBnYyxnYz1sLmFqYXg9ISFnYyxnYyYmbi5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGIpe2lmKCFiLmNyb3NzRG9tYWlufHxsLmNvcnMpe3ZhciBjO3JldHVybntzZW5kOmZ1bmN0aW9uKGQsZSl7dmFyIGYsZz1iLnhocigpLGg9KytlYztpZihnLm9wZW4oYi50eXBlLGIudXJsLGIuYXN5bmMsYi51c2VybmFtZSxiLnBhc3N3b3JkKSxiLnhockZpZWxkcylmb3IoZiBpbiBiLnhockZpZWxkcylnW2ZdPWIueGhyRmllbGRzW2ZdO2IubWltZVR5cGUmJmcub3ZlcnJpZGVNaW1lVHlwZSYmZy5vdmVycmlkZU1pbWVUeXBlKGIubWltZVR5cGUpLGIuY3Jvc3NEb21haW58fGRbIlgtUmVxdWVzdGVkLVdpdGgiXXx8KGRbIlgtUmVxdWVzdGVkLVdpdGgiXT0iWE1MSHR0cFJlcXVlc3QiKTtmb3IoZiBpbiBkKXZvaWQgMCE9PWRbZl0mJmcuc2V0UmVxdWVzdEhlYWRlcihmLGRbZl0rIiIpO2cuc2VuZChiLmhhc0NvbnRlbnQmJmIuZGF0YXx8bnVsbCksYz1mdW5jdGlvbihhLGQpe3ZhciBmLGksajtpZihjJiYoZHx8ND09PWcucmVhZHlTdGF0ZSkpaWYoZGVsZXRlIGZjW2hdLGM9dm9pZCAwLGcub25yZWFkeXN0YXRlY2hhbmdlPW4ubm9vcCxkKTQhPT1nLnJlYWR5U3RhdGUmJmcuYWJvcnQoKTtlbHNle2o9e30sZj1nLnN0YXR1cywic3RyaW5nIj09dHlwZW9mIGcucmVzcG9uc2VUZXh0JiYoai50ZXh0PWcucmVzcG9uc2VUZXh0KTt0cnl7aT1nLnN0YXR1c1RleHR9Y2F0Y2goayl7aT0iIn1mfHwhYi5pc0xvY2FsfHxiLmNyb3NzRG9tYWluPzEyMjM9PT1mJiYoZj0yMDQpOmY9ai50ZXh0PzIwMDo0MDR9aiYmZShmLGksaixnLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKX0sYi5hc3luYz80PT09Zy5yZWFkeVN0YXRlP2Euc2V0VGltZW91dChjKTpnLm9ucmVhZHlzdGF0ZWNoYW5nZT1mY1toXT1jOmMoKX0sYWJvcnQ6ZnVuY3Rpb24oKXtjJiZjKHZvaWQgMCwhMCl9fX19KTtmdW5jdGlvbiBoYygpe3RyeXtyZXR1cm4gbmV3IGEuWE1MSHR0cFJlcXVlc3R9Y2F0Y2goYil7fX1mdW5jdGlvbiBpYygpe3RyeXtyZXR1cm4gbmV3IGEuQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTEhUVFAiKX1jYXRjaChiKXt9fW4uYWpheFNldHVwKHthY2NlcHRzOntzY3JpcHQ6InRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0In0sY29udGVudHM6e3NjcmlwdDovXGIoPzpqYXZhfGVjbWEpc2NyaXB0XGIvfSxjb252ZXJ0ZXJzOnsidGV4dCBzY3JpcHQiOmZ1bmN0aW9uKGEpe3JldHVybiBuLmdsb2JhbEV2YWwoYSksYX19fSksbi5hamF4UHJlZmlsdGVyKCJzY3JpcHQiLGZ1bmN0aW9uKGEpe3ZvaWQgMD09PWEuY2FjaGUmJihhLmNhY2hlPSExKSxhLmNyb3NzRG9tYWluJiYoYS50eXBlPSJHRVQiLGEuZ2xvYmFsPSExKX0pLG4uYWpheFRyYW5zcG9ydCgic2NyaXB0IixmdW5jdGlvbihhKXtpZihhLmNyb3NzRG9tYWluKXt2YXIgYixjPWQuaGVhZHx8bigiaGVhZCIpWzBdfHxkLmRvY3VtZW50RWxlbWVudDtyZXR1cm57c2VuZDpmdW5jdGlvbihlLGYpe2I9ZC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKSxiLmFzeW5jPSEwLGEuc2NyaXB0Q2hhcnNldCYmKGIuY2hhcnNldD1hLnNjcmlwdENoYXJzZXQpLGIuc3JjPWEudXJsLGIub25sb2FkPWIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKGEsYyl7KGN8fCFiLnJlYWR5U3RhdGV8fC9sb2FkZWR8Y29tcGxldGUvLnRlc3QoYi5yZWFkeVN0YXRlKSkmJihiLm9ubG9hZD1iLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGIucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGI9bnVsbCxjfHxmKDIwMCwic3VjY2VzcyIpKX0sYy5pbnNlcnRCZWZvcmUoYixjLmZpcnN0Q2hpbGQpfSxhYm9ydDpmdW5jdGlvbigpe2ImJmIub25sb2FkKHZvaWQgMCwhMCl9fX19KTt2YXIgamM9W10sa2M9Lyg9KVw/KD89JnwkKXxcP1w/LztuLmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGE9amMucG9wKCl8fG4uZXhwYW5kbysiXyIrRWIrKztyZXR1cm4gdGhpc1thXT0hMCxhfX0pLG4uYWpheFByZWZpbHRlcigianNvbiBqc29ucCIsZnVuY3Rpb24oYixjLGQpe3ZhciBlLGYsZyxoPWIuanNvbnAhPT0hMSYmKGtjLnRlc3QoYi51cmwpPyJ1cmwiOiJzdHJpbmciPT10eXBlb2YgYi5kYXRhJiYwPT09KGIuY29udGVudFR5cGV8fCIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSYma2MudGVzdChiLmRhdGEpJiYiZGF0YSIpO3JldHVybiBofHwianNvbnAiPT09Yi5kYXRhVHlwZXNbMF0/KGU9Yi5qc29ucENhbGxiYWNrPW4uaXNGdW5jdGlvbihiLmpzb25wQ2FsbGJhY2spP2IuanNvbnBDYWxsYmFjaygpOmIuanNvbnBDYWxsYmFjayxoP2JbaF09YltoXS5yZXBsYWNlKGtjLCIkMSIrZSk6Yi5qc29ucCE9PSExJiYoYi51cmwrPShGYi50ZXN0KGIudXJsKT8iJiI6Ij8iKStiLmpzb25wKyI9IitlKSxiLmNvbnZlcnRlcnNbInNjcmlwdCBqc29uIl09ZnVuY3Rpb24oKXtyZXR1cm4gZ3x8bi5lcnJvcihlKyIgd2FzIG5vdCBjYWxsZWQiKSxnWzBdfSxiLmRhdGFUeXBlc1swXT0ianNvbiIsZj1hW2VdLGFbZV09ZnVuY3Rpb24oKXtnPWFyZ3VtZW50c30sZC5hbHdheXMoZnVuY3Rpb24oKXt2b2lkIDA9PT1mP24oYSkucmVtb3ZlUHJvcChlKTphW2VdPWYsYltlXSYmKGIuanNvbnBDYWxsYmFjaz1jLmpzb25wQ2FsbGJhY2ssamMucHVzaChlKSksZyYmbi5pc0Z1bmN0aW9uKGYpJiZmKGdbMF0pLGc9Zj12b2lkIDB9KSwic2NyaXB0Iik6dm9pZCAwfSksbi5wYXJzZUhUTUw9ZnVuY3Rpb24oYSxiLGMpe2lmKCFhfHwic3RyaW5nIiE9dHlwZW9mIGEpcmV0dXJuIG51bGw7ImJvb2xlYW4iPT10eXBlb2YgYiYmKGM9YixiPSExKSxiPWJ8fGQ7dmFyIGU9eC5leGVjKGEpLGY9IWMmJltdO3JldHVybiBlP1tiLmNyZWF0ZUVsZW1lbnQoZVsxXSldOihlPWphKFthXSxiLGYpLGYmJmYubGVuZ3RoJiZuKGYpLnJlbW92ZSgpLG4ubWVyZ2UoW10sZS5jaGlsZE5vZGVzKSl9O3ZhciBsYz1uLmZuLmxvYWQ7bi5mbi5sb2FkPWZ1bmN0aW9uKGEsYixjKXtpZigic3RyaW5nIiE9dHlwZW9mIGEmJmxjKXJldHVybiBsYy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGQsZSxmLGc9dGhpcyxoPWEuaW5kZXhPZigiICIpO3JldHVybiBoPi0xJiYoZD1uLnRyaW0oYS5zbGljZShoLGEubGVuZ3RoKSksYT1hLnNsaWNlKDAsaCkpLG4uaXNGdW5jdGlvbihiKT8oYz1iLGI9dm9pZCAwKTpiJiYib2JqZWN0Ij09dHlwZW9mIGImJihlPSJQT1NUIiksZy5sZW5ndGg+MCYmbi5hamF4KHt1cmw6YSx0eXBlOmV8fCJHRVQiLGRhdGFUeXBlOiJodG1sIixkYXRhOmJ9KS5kb25lKGZ1bmN0aW9uKGEpe2Y9YXJndW1lbnRzLGcuaHRtbChkP24oIjxkaXY+IikuYXBwZW5kKG4ucGFyc2VIVE1MKGEpKS5maW5kKGQpOmEpfSkuYWx3YXlzKGMmJmZ1bmN0aW9uKGEsYil7Zy5lYWNoKGZ1bmN0aW9uKCl7Yy5hcHBseSh0aGlzLGZ8fFthLnJlc3BvbnNlVGV4dCxiLGFdKX0pfSksdGhpc30sbi5lYWNoKFsiYWpheFN0YXJ0IiwiYWpheFN0b3AiLCJhamF4Q29tcGxldGUiLCJhamF4RXJyb3IiLCJhamF4U3VjY2VzcyIsImFqYXhTZW5kIl0sZnVuY3Rpb24oYSxiKXtuLmZuW2JdPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm9uKGIsYSl9fSksbi5leHByLmZpbHRlcnMuYW5pbWF0ZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG4uZ3JlcChuLnRpbWVycyxmdW5jdGlvbihiKXtyZXR1cm4gYT09PWIuZWxlbX0pLmxlbmd0aH07ZnVuY3Rpb24gbWMoYSl7cmV0dXJuIG4uaXNXaW5kb3coYSk/YTo5PT09YS5ub2RlVHlwZT9hLmRlZmF1bHRWaWV3fHxhLnBhcmVudFdpbmRvdzohMX1uLm9mZnNldD17c2V0T2Zmc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoLGksaixrPW4uY3NzKGEsInBvc2l0aW9uIiksbD1uKGEpLG09e307InN0YXRpYyI9PT1rJiYoYS5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiKSxoPWwub2Zmc2V0KCksZj1uLmNzcyhhLCJ0b3AiKSxpPW4uY3NzKGEsImxlZnQiKSxqPSgiYWJzb2x1dGUiPT09a3x8ImZpeGVkIj09PWspJiZuLmluQXJyYXkoImF1dG8iLFtmLGldKT4tMSxqPyhkPWwucG9zaXRpb24oKSxnPWQudG9wLGU9ZC5sZWZ0KTooZz1wYXJzZUZsb2F0KGYpfHwwLGU9cGFyc2VGbG9hdChpKXx8MCksbi5pc0Z1bmN0aW9uKGIpJiYoYj1iLmNhbGwoYSxjLG4uZXh0ZW5kKHt9LGgpKSksbnVsbCE9Yi50b3AmJihtLnRvcD1iLnRvcC1oLnRvcCtnKSxudWxsIT1iLmxlZnQmJihtLmxlZnQ9Yi5sZWZ0LWgubGVmdCtlKSwidXNpbmciaW4gYj9iLnVzaW5nLmNhbGwoYSxtKTpsLmNzcyhtKX19LG4uZm4uZXh0ZW5kKHtvZmZzZXQ6ZnVuY3Rpb24oYSl7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdm9pZCAwPT09YT90aGlzOnRoaXMuZWFjaChmdW5jdGlvbihiKXtuLm9mZnNldC5zZXRPZmZzZXQodGhpcyxhLGIpfSk7dmFyIGIsYyxkPXt0b3A6MCxsZWZ0OjB9LGU9dGhpc1swXSxmPWUmJmUub3duZXJEb2N1bWVudDtpZihmKXJldHVybiBiPWYuZG9jdW1lbnRFbGVtZW50LG4uY29udGFpbnMoYixlKT8oInVuZGVmaW5lZCIhPXR5cGVvZiBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCYmKGQ9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSksYz1tYyhmKSx7dG9wOmQudG9wKyhjLnBhZ2VZT2Zmc2V0fHxiLnNjcm9sbFRvcCktKGIuY2xpZW50VG9wfHwwKSxsZWZ0OmQubGVmdCsoYy5wYWdlWE9mZnNldHx8Yi5zY3JvbGxMZWZ0KS0oYi5jbGllbnRMZWZ0fHwwKX0pOmR9LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIGEsYixjPXt0b3A6MCxsZWZ0OjB9LGQ9dGhpc1swXTtyZXR1cm4iZml4ZWQiPT09bi5jc3MoZCwicG9zaXRpb24iKT9iPWQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk6KGE9dGhpcy5vZmZzZXRQYXJlbnQoKSxiPXRoaXMub2Zmc2V0KCksbi5ub2RlTmFtZShhWzBdLCJodG1sIil8fChjPWEub2Zmc2V0KCkpLGMudG9wKz1uLmNzcyhhWzBdLCJib3JkZXJUb3BXaWR0aCIsITApLGMubGVmdCs9bi5jc3MoYVswXSwiYm9yZGVyTGVmdFdpZHRoIiwhMCkpLHt0b3A6Yi50b3AtYy50b3Atbi5jc3MoZCwibWFyZ2luVG9wIiwhMCksbGVmdDpiLmxlZnQtYy5sZWZ0LW4uY3NzKGQsIm1hcmdpbkxlZnQiLCEwKX19fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9mZnNldFBhcmVudDt3aGlsZShhJiYhbi5ub2RlTmFtZShhLCJodG1sIikmJiJzdGF0aWMiPT09bi5jc3MoYSwicG9zaXRpb24iKSlhPWEub2Zmc2V0UGFyZW50O3JldHVybiBhfHxRYX0pfX0pLG4uZWFjaCh7c2Nyb2xsTGVmdDoicGFnZVhPZmZzZXQiLHNjcm9sbFRvcDoicGFnZVlPZmZzZXQifSxmdW5jdGlvbihhLGIpe3ZhciBjPS9ZLy50ZXN0KGIpO24uZm5bYV09ZnVuY3Rpb24oZCl7cmV0dXJuIFkodGhpcyxmdW5jdGlvbihhLGQsZSl7dmFyIGY9bWMoYSk7cmV0dXJuIHZvaWQgMD09PWU/Zj9iIGluIGY/ZltiXTpmLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFtkXTphW2RdOnZvaWQoZj9mLnNjcm9sbFRvKGM/bihmKS5zY3JvbGxMZWZ0KCk6ZSxjP2U6bihmKS5zY3JvbGxUb3AoKSk6YVtkXT1lKX0sYSxkLGFyZ3VtZW50cy5sZW5ndGgsbnVsbCl9fSksbi5lYWNoKFsidG9wIiwibGVmdCJdLGZ1bmN0aW9uKGEsYil7bi5jc3NIb29rc1tiXT1VYShsLnBpeGVsUG9zaXRpb24sZnVuY3Rpb24oYSxjKXtyZXR1cm4gYz8oYz1TYShhLGIpLE9hLnRlc3QoYyk/bihhKS5wb3NpdGlvbigpW2JdKyJweCI6Yyk6dm9pZCAwfSl9KSxuLmVhY2goe0hlaWdodDoiaGVpZ2h0IixXaWR0aDoid2lkdGgifSxmdW5jdGlvbihhLGIpe24uZWFjaCh7CnBhZGRpbmc6ImlubmVyIithLGNvbnRlbnQ6YiwiIjoib3V0ZXIiK2F9LGZ1bmN0aW9uKGMsZCl7bi5mbltkXT1mdW5jdGlvbihkLGUpe3ZhciBmPWFyZ3VtZW50cy5sZW5ndGgmJihjfHwiYm9vbGVhbiIhPXR5cGVvZiBkKSxnPWN8fChkPT09ITB8fGU9PT0hMD8ibWFyZ2luIjoiYm9yZGVyIik7cmV0dXJuIFkodGhpcyxmdW5jdGlvbihiLGMsZCl7dmFyIGU7cmV0dXJuIG4uaXNXaW5kb3coYik/Yi5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbImNsaWVudCIrYV06OT09PWIubm9kZVR5cGU/KGU9Yi5kb2N1bWVudEVsZW1lbnQsTWF0aC5tYXgoYi5ib2R5WyJzY3JvbGwiK2FdLGVbInNjcm9sbCIrYV0sYi5ib2R5WyJvZmZzZXQiK2FdLGVbIm9mZnNldCIrYV0sZVsiY2xpZW50IithXSkpOnZvaWQgMD09PWQ/bi5jc3MoYixjLGcpOm4uc3R5bGUoYixjLGQsZyl9LGIsZj9kOnZvaWQgMCxmLG51bGwpfX0pfSksbi5mbi5leHRlbmQoe2JpbmQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLm9uKGEsbnVsbCxiLGMpfSx1bmJpbmQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5vZmYoYSxudWxsLGIpfSxkZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5vbihiLGEsYyxkKX0sdW5kZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMub2ZmKGEsIioqIik6dGhpcy5vZmYoYixhfHwiKioiLGMpfX0pLG4uZm4uc2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aH0sbi5mbi5hbmRTZWxmPW4uZm4uYWRkQmFjaywiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUoImpxdWVyeSIsW10sZnVuY3Rpb24oKXtyZXR1cm4gbn0pO3ZhciBuYz1hLmpRdWVyeSxvYz1hLiQ7cmV0dXJuIG4ubm9Db25mbGljdD1mdW5jdGlvbihiKXtyZXR1cm4gYS4kPT09biYmKGEuJD1vYyksYiYmYS5qUXVlcnk9PT1uJiYoYS5qUXVlcnk9bmMpLG59LGJ8fChhLmpRdWVyeT1hLiQ9biksbn0pOwo="}]},{"name":"破解VIP会员视频集合","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["*://*.iqiyi.com/*","*://*.youku.com/*","*://*.le.com/*","*://*.letv.com/*","*://v.qq.com/*","*://*.tudou.com/*","*://*.mgtv.com/*","*://film.sohu.com/*","*://tv.sohu.com/*","*://*.acfun.cn/v/*","*://*.bilibili.com/*","*://vip.1905.com/play/*","*://*.pptv.com/*","*://v.yinyuetai.com/video/*","*://v.yinyuetai.com/playlist/*","*://*.fun.tv/vplay/*","*://*.wasu.cn/Play/show/*","*://*.56.com/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":["*://*.bilibili.com/blackboard/*"],"merge_excludes":true,"use_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_noframes":true,"orig_connects":[]}},"storage":{"ts":1553822934029,"data":{}},"enabled":true,"position":2,"file_url":"https://greasyfork.org/scripts/27530-%E7%A0%B4%E8%A7%A3vip%E4%BC%9A%E5%91%98%E8%A7%86%E9%A2%91%E9%9B%86%E5%90%88/code/%E7%A0%B4%E8%A7%A3VIP%E4%BC%9A%E5%91%98%E8%A7%86%E9%A2%91%E9%9B%86%E5%90%88.user.js","uuid":"2fe5e3e7-b7f2-4c43-986b-88b3f08c1dc4","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgIOegtOino1ZJUOS8muWRmOinhumikembhuWQiAovLyBAbmFtZXNwYWNlICBodHRwczovL2dyZWFzeWZvcmsub3JnL3poLUNOL3VzZXJzLzEwNDIwMQovLyBAdmVyc2lvbiAgICA0LjIuNgovLyBAZGVzY3JpcHRpb24gIDIwMTktMy0xMeabtOaWsOOAguS4gOmUruegtOino1vkvJjphbd86IW+6K6vfOS5kOinhnzniLHlpYfoibp86IqS5p6cfEFC56uZfOmfs+aCpuWPsF3nrYlWSVDmiJbkvJrlkZjop4bpopHvvIzop6PmnpDmjqXlj6PotLXnsr7kuI3otLXlpJrvvIznu53lr7nlpJ/nlKjjgILor6bnu4bmlrnms5XnnIvor7TmmI7lkozlm77niYfjgILljIXlkKvkuoZb5LiA6ZSuVklQ6KeG6aKR6Kej5p6Q44CB5Y675bm/5ZGK77yI5YWo572R77yJIHh4eHgteHgteHgg5Y+v55So4pa2bWFyayB6aGFuZ11bVklQ6KeG6aKR5Zyo57q/6Kej5p6Q56C06Kej5Y675bm/5ZGKKOWFqOe9kSl4eC54eC54eOabtOaWsOWPr+eUqOKWtnNvbmltZWkxMzRdW+egtOino+WFqOe9kVZJUOinhumikeS8muWRmC3ljrvlub/lkYrilrZ0dG1zanhdW1ZJUOS8muWRmOinhumikeino+aekOKWtum+mei9qV1b6YW357uYLeegtOino1ZJUOS8muWRmOinhumikeKWtmFodWlhYmMyMDAzXeS7peWPiltWSVDop4bpopHnoLTop6PilrZob290aGluXeeahOmDqOWIhuaOpeWPo+OAgltUYW1wZXJtb25rZXkgfCBWaW9sZW50bW9ua2V5IHwgR3JlYXN5bW9ua2V5IDQuMCtdCi8vIEBhdXRob3IgICAgIOm7hOebkAovLyByZXF1aXJlICBodHRwczovL2dyZWFzZW1vbmtleS5naXRodWIuaW8vZ200LXBvbHlmaWxsL2dtNC1wb2x5ZmlsbC5qcwovLyBAbm9mcmFtZXMKLy8gQG1hdGNoICAgICo6Ly8qLmlxaXlpLmNvbS8qCi8vIEBtYXRjaCAgICAqOi8vKi55b3VrdS5jb20vKgovLyBAbWF0Y2ggICAgKjovLyoubGUuY29tLyoKLy8gQG1hdGNoICAgICo6Ly8qLmxldHYuY29tLyoKLy8gQG1hdGNoICAgICo6Ly92LnFxLmNvbS8qCi8vIEBtYXRjaCAgICAqOi8vKi50dWRvdS5jb20vKgovLyBAbWF0Y2ggICAgKjovLyoubWd0di5jb20vKgovLyBAbWF0Y2ggICAgKjovL2ZpbG0uc29odS5jb20vKgovLyBAbWF0Y2ggICAgKjovL3R2LnNvaHUuY29tLyoKLy8gQG1hdGNoICAgICo6Ly8qLmFjZnVuLmNuL3YvKgovLyBAbWF0Y2ggICAgKjovLyouYmlsaWJpbGkuY29tLyoKLy8gQG1hdGNoICAgICo6Ly92aXAuMTkwNS5jb20vcGxheS8qCi8vIEBtYXRjaCAgICAqOi8vKi5wcHR2LmNvbS8qCi8vIEBtYXRjaCAgICAqOi8vdi55aW55dWV0YWkuY29tL3ZpZGVvLyoKLy8gQG1hdGNoICAgICo6Ly92Lnlpbnl1ZXRhaS5jb20vcGxheWxpc3QvKgovLyBAbWF0Y2ggICAgKjovLyouZnVuLnR2L3ZwbGF5LyoKLy8gQG1hdGNoICAgICo6Ly8qLndhc3UuY24vUGxheS9zaG93LyoKLy8gQG1hdGNoICAgICo6Ly8qLjU2LmNvbS8qCi8vIEBleGNsdWRlICAqOi8vKi5iaWxpYmlsaS5jb20vYmxhY2tib2FyZC8qCi8vIEBncmFudCAgICBHTS5nZXRWYWx1ZQovLyBAZ3JhbnQgICAgR00uc2V0VmFsdWUKLy8gQGdyYW50ICAgIEdNX2dldFZhbHVlCi8vIEBncmFudCAgICBHTV9zZXRWYWx1ZQovLyBAZ3JhbnQgICAgdW5zYWZlV2luZG93Ci8vIEBncmFudCAgICBHTV94bWxodHRwUmVxdWVzdAovLyBAZ3JhbnQgICAgR00ueG1sSHR0cFJlcXVlc3QKLy8gQGdyYW50ICAgIEdNX29wZW5JblRhYgovLyBAZ3JhbnQgICAgR00ub3BlbkluVGFiCi8vID09L1VzZXJTY3JpcHQ9PQoKKCgpID0+IHsKICAndXNlIHN0cmljdCc7CiAgY29uc3QgWW91a3VJY29uID0gJzxzdmcgd2lkdGg9IjEuMmVtIiBoZWlnaHQ9IjEuMmVtIiB2aWV3Ym94PSIwIDAgNzIgNzIiPjxkZWZzPjxjaXJjbGUgaWQ9InlvdWt1QzEiIHI9IjUuNSIgc3R5bGU9InN0cm9rZTpub25lOztmaWxsOiMwQjlCRkY7Ij48L2NpcmNsZT48cGF0aCBpZD0ieW91a3VBcm93IiBkPSJtMCwxMCBhNSw1IDAsMCwxIDAsLTEwIGgyMCBhNSw1IDAsMCwxIDAsMTB6IiBzdHlsZT0iZmlsbDojRkY0MjQyOyI+PC9wYXRoPjwvZGVmcz48Y2lyY2xlIGN4PSIzNiIgY3k9IjM2IiByPSIzMC41IiBzdHlsZT0ic3Ryb2tlOiMzMEI0RkY7c3Ryb2tlLXdpZHRoOjExO2ZpbGw6bm9uZTsiPjwvY2lyY2xlPjx1c2UgeD0iMTAuNSIgeT0iMTkiIHhsaW5rOmhyZWY9IiN5b3VrdUMxIi8+PHVzZSB4PSI2MS41IiB5PSI1MyIgeGxpbms6aHJlZj0iI3lvdWt1QzEiLz48dXNlIHg9IjM5IiB5PSIxIiB0cmFuc2Zvcm09InJvdGF0ZSgzMCkiIHhsaW5rOmhyZWY9IiN5b3VrdUFyb3ciLz48dXNlIHg9Ii0xIiB5PSI1MiIgdHJhbnNmb3JtPSJyb3RhdGUoLTM1KSIgeGxpbms6aHJlZj0iI3lvdWt1QXJvdyIvPjwvc3ZnPic7CiAgY29uc3QgVlFRSWNvbiA9ICc8c3ZnIGhlaWdodD0iMS4yZW0iIHdpZHRoPSIxLjJlbSIgdmlld2JveD0iMCAwIDE4NSAxNzAiPjxkZWZzPjxwYXRoIGlkPSJ2UVEiIGQ9Ik03IDIwUTE0IC0xMCA1NSA3UTEwMCAyMyAxNDUgNjBRMTcwIDgwIDE0NSAxMDJRMTA4IDEzOCA0NyAxNjVRMTUgMTc1IDQgMTQ2US01IDgwIDcgMjAiPjwvcGF0aD48L2RlZnM+PHVzZSBzdHlsZT0iZmlsbDojNDRCOUZEOyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjcsMCkiIHhsaW5rOmhyZWY9IiN2UVEiPjwvdXNlPjx1c2Ugc3R5bGU9ImZpbGw6I0ZGOUYwMTsiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsMTgpLHNjYWxlKDAuOCwwLjc1KSIgeGxpbms6aHJlZj0iI3ZRUSI+PC91c2U+PHVzZSBzdHlsZT0iZmlsbDojOTdFNjFCOyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjMsMTgpLHNjYWxlKDAuODAuNzUpIiB4bGluazpocmVmPSIjdlFRIj48L3VzZT48dXNlIHN0eWxlPSJmaWxsOiNmZmY7IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1MCw0NSksc2NhbGUoMC40KSIgeGxpbms6aHJlZj0iI3ZRUSI+PC91c2U+PC9zdmc+JzsKICB2YXIgdE1zY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsKICB0TXNjcmlwdC5pbm5lclRleHQgPSBgcSA9IGZ1bmN0aW9uKGNzc1NlbGVjdG9yKXtyZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjc3NTZWxlY3Rvcik7fTtxYSA9IGZ1bmN0aW9uKGNzc1NlbGVjdG9yKXtyZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjc3NTZWxlY3Rvcik7fTtgOwogIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodE1zY3JpcHQpOwogIHdpbmRvdy5xID0gZnVuY3Rpb24oY3NzU2VsZWN0b3IpIHtyZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjc3NTZWxlY3Rvcik7fTsKICB3aW5kb3cucWEgPSBmdW5jdGlvbihjc3NTZWxlY3Rvcikge3JldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNzc1NlbGVjdG9yKTt9OwogIHdpbmRvdy5tYWtlRWwgPSBmdW5jdGlvbih0YWcpe3JldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7fTsKICAvKiDlhbzlrrkgVGFtcGVybW9ua2V5IHwgVmlvbGVudG1vbmtleSB8IEdyZWFzeW1vbmtleSA0LjArICovCiAgZnVuY3Rpb24gR01hZGRTdHlsZShjc3NUZXh0KXsKICAgIGxldCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICAgIGEudGV4dENvbnRlbnQgPSBjc3NUZXh0OwogICAgbGV0IGRvYyA9IGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OwogICAgZG9jLmFwcGVuZENoaWxkKGEpOwogIH0KICAvKiDlhbzlrrkgVGFtcGVybW9ua2V5IHwgVmlvbGVudG1vbmtleSB8IEdyZWFzeW1vbmtleSA0LjArCiAgICog5Li65LqG5YW85a65R3JlYXN5TW9ua2V5IDQuMCDojrflj5bnu5PmnoTljJbmlbDmja4s5q+U5aaCIGpzb24gQXJyYXkg562JLAogICAqIOW6lOW9k+WFiOWwhuWtl+espuS4sui/mOWOn+S4uuWvueixoSzlho3miafooYzlkI7nu63mk43kvZwKICAgKiBHTWdldFZhbHVlKG5hbWUsZGVmYXVsdFZhbHVlKS50aGVuKChyZXN1bHQpPT57CiAgICogICBsZXQgcmVzdWx0ID0gSlNPTi5wYXJzZShyZXN1bHQpOwogICAqICAgLy8gb3RoZXIgY29kZS4uLgogICAqIH07CiAgICovCiAgZnVuY3Rpb24gR01nZXRWYWx1ZShuYW1lLCBkZWZhdWx0VmFsdWUpIHsKICAgIGlmICh0eXBlb2YgR01fZ2V0VmFsdWUgPT09ICdmdW5jdGlvbicpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgcmVzb2x2ZShHTV9nZXRWYWx1ZShuYW1lLCBkZWZhdWx0VmFsdWUpKTsKICAgICAgLy8gcmVqZWN0KCk7CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIEdNLmdldFZhbHVlKG5hbWUsIGRlZmF1bHRWYWx1ZSk7CiAgICB9CiAgfQogIC8qIOWFvOWuuSBUYW1wZXJtb25rZXkgfCBWaW9sZW50bW9ua2V5IHwgR3JlYXN5bW9ua2V5IDQuMCsKICAgKiDkuLrkuoblhbzlrrlHcmVhc3lNb25rZXkgNC4wIOWCqOWtmOe7k+aehOWMluaVsOaNrizmr5TlpoIganNvbiBBcnJheSDnrYksCiAgICog5bqU5b2T5YWI5bCG5a+56LGh5a2X56ym5Liy5YyWLAogICAqIEdNc2V0VmFsdWUobmFtZSwgSlNPTi5zdHJpbmdpZnkoZGVmYXVsdFZhbHVlKSkKICAgKi8KICBmdW5jdGlvbiBHTXNldFZhbHVlKG5hbWUsIGRlZmF1bHRWYWx1ZSkgewogICAgaWYgKHR5cGVvZiBHTV9zZXRWYWx1ZSA9PT0gJ2Z1bmN0aW9uJykgewogICAgICBHTV9zZXRWYWx1ZShuYW1lLCBkZWZhdWx0VmFsdWUpOwogICAgfSBlbHNlIHsKICAgICAgR00uc2V0VmFsdWUobmFtZSwgZGVmYXVsdFZhbHVlKTsKICAgIH0KICB9CiAgZnVuY3Rpb24gR014bWxodHRwUmVxdWVzdChvYmopewogICAgaWYgKEdNX3htbGh0dHBSZXF1ZXN0ID09PSAiZnVuY3Rpb24iKSB7CiAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KG9iaik7CiAgICB9IGVsc2V7CiAgICAgIEdNLnhtbGh0dHBSZXF1ZXN0KG9iaik7CiAgICB9CiAgfQogIHZhciByZXBsYWNlUmF3LCAgLyrmmK/lkKbltYzlhaXlvZPliY3pobXpnaIqLwogIGVwaXNvZGVzLCAgICAgICAgLyrmmK/lkKblkK/nlKjniLHlpYfoibrmraPnoa7pgInpm4YqLwogIHVzZXJBcGlzT247ICAgICAgLyrmmK/lkKbliqDovb3oh6rlrprkuYnop6PmnpDmjqXlj6MqLwogIEdNYWRkU3R5bGUoYAogICAgLypUTUhZOlRhbXBlck1vbmtleUh1YW5ZYW4qLwogICAgI1RNSFl2aWRlb0NvbnRhaW5lcnt6LWluZGV4Ojk5OTk5ODtiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsLjcpO3Bvc2l0aW9uOmZpeGVkO3RvcDo3ZW07bGVmdDo1ZW07aGVpZ2h0OjY1JTt3aWR0aDo2NSU7cmVzaXplOmJvdGg7b3ZlcmZsb3c6YXV0bztib3gtc2hhZG93OjJweCAycHggNXB4IDVweCByZ2JhKDI1NSwyNTUsMCwuOCk7fQogICAgLypUTUhZVmlkZW9Db250YWluZXIqLwogICAgI1RNSFl2aWRlb0NvbnRhaW5lciBidXR0b257dG9wOi4xZW07Y3Vyc29yOnBvaW50ZXI7dmlzaWJpbGl0eTpoaWRkZW47Zm9udC1zaXplOjNlbTtjb2xvcjojZmZmO2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7Ym9yZGVyOjA7fQogICAgI1RNSFl2aWRlb0NvbnRhaW5lcjpob3ZlciBidXR0b257dmlzaWJpbGl0eTp2aXNpYmxlO30KICAgICNUTUhZdmlkZW9Db250YWluZXI6aG92ZXIgYnV0dG9uOmhvdmVye2NvbG9yOiNmZjA7fQogICAgI1RNSFlpZnJhbWV7aGVpZ2h0OjEwMCU7d2lkdGg6MTAwJTtvdmVyZmxvdzphdXRvO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDttYXJnaW46YXV0bztib3JkZXI6MDtib3gtc2hhZG93OjAgMCAzZW0gcmdiYSgwLDAsMCwuNCk7ei1pbmRleDotMTt9CiAgICAvKlRNSFlJZnJhbWUqLwogICAgI1RNSFl1bHtwb3NpdGlvbjpmaXhlZDt0b3A6NWVtO2xlZnQ6MDtwYWRkaW5nOjA7ei1pbmRleDo5OTk5OTk7fQogICAgI1RNSFl1bCBsaXtsaXN0LXN0eWxlOm5vbmU7fQogICAgI1RNSFl1bCBzdmd7ZmxvYXQ6cmlnaHQ7fQogICAgLlRNMXtvcGFjaXR5OjAuMztwb3NpdGlvbjpyZWxhdGl2ZTtwYWRkaW5nLXJpZ2h0Oi41ZW07d2lkdGg6MS41ZW07Y3Vyc29yOnBvaW50ZXI7fQogICAgLlRNMTpob3ZlcntvcGFjaXR5OjE7fQogICAgLlRNMSBzcGFue2Rpc3BsYXk6YmxvY2s7Ym9yZGVyLXJhZGl1czowIC4zZW0gLjNlbSAwO2JhY2tncm91bmQtY29sb3I6I2ZmZmYwMDtib3JkZXI6MDtmb250OmJvbGQgMWVtICLlvq7ova/pm4Xpu5EiIWltcG9ydGFudDtjb2xvcjojZmYwMDAwO21hcmdpbjowO3BhZGRpbmc6MWVtIC4zZW07fQogICAgLlRNM3twb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjEuNWVtO2Rpc3BsYXk6bm9uZTtib3JkZXItcmFkaXVzOi4zZW07bWFyZ2luOjA7cGFkZGluZzowO30KICAgIC5UTTMgbGl7ZmxvYXQ6bm9uZTt3aWR0aDo2ZW07bWFyZ2luOjA7Zm9udC1zaXplOjFlbTtwYWRkaW5nOi4xNWVtIDFlbTtjdXJzb3I6cG9pbnRlcjtjb2xvcjojM2EzYTNhIWltcG9ydGFudDtiYWNrZ3JvdW5kOnJnYmEoMjU1LDI1NSwwLDAuOCk7fQogICAgLlRNMyBsaTpob3Zlcntjb2xvcjp3aGl0ZSFpbXBvcnRhbnQ7YmFja2dyb3VuZDpyZ2JhKDAsMCwwLC44KTt9CiAgICAuVE0zIGxpOmxhc3QtY2hpbGR7Ym9yZGVyLXJhZGl1czowIDAgLjM1ZW0gLjM1ZW07fQogICAgLlRNMyBsaTpmaXJzdC1jaGlsZHtib3JkZXItcmFkaXVzOi4zNWVtIC4zNWVtIDAgMDt9CiAgICAuVE0xOmhvdmVyIC5UTTN7ZGlzcGxheTpibG9jazt9CiAgICAvKuiHquWumuS5ieino+aekOaOpeWPoyzmnKzpobXmkq3mlL7nqpflj6Porr7nva4qLwogICAgLlRNSFlwIHtwb3NpdGlvbjpmaXhlZDt0b3A6MjAlO2xlZnQ6MjAlO3otaW5kZXg6OTk5OTk5O2JhY2tncm91bmQ6eWVsbG93O3BhZGRpbmc6MzBweCAyMHB4IDEwcHggMjBweDtib3JkZXItcmFkaXVzOjEwcHg7dGV4dC1hbGlnbjpjZW50ZXI7fS8qVE1IWXBhbmVsKi8KICAgIC5UTUhZcCAqIHtmb250LXNpemU6MTZweDtiYWNrZ3JvdW5kOnJnYmEoMjU1LDI1NSwwLDEpO2ZvbnQtZmFtaWx5Oiflvq7ova/pm4Xpu5EnO2NvbG9yOiMzYTNhM2E7Ym9yZGVyLXJhZGl1czoxMHB4O30KICAgICN0TXVzZXJEZWZpbmUgbGkge21hcmdpbjo1cHg7d2lkdGg6MTAwJTtsaXN0LXN0eWxlLXR5cGU6bm9uZTt9CiAgICAuVE1IWXAgaW5wdXRbdHlwZT10ZXh0XSB7Ym9yZGVyLXJhZGl1czo1cHggIWltcG9ydGFudDtib3JkZXI6MXB4IHNvbGlkICMzYTNhM2E7bWFyZ2luOjJweCAxMHB4IDJweCA1cHg7cGFkZGluZzoycHggNXB4O30KICAgIC5UTUhZbHRpIHt3aWR0aDozNTBweDt9LypUTUhZbG9uZ1RleHRJbnB1dCovCiAgICAuVE1IWW10aSB7d2lkdGg6MTYwcHg7fS8qVE1IWW10aSovCiAgICAuaWRlbGV0ZSB7ZmxvYXQ6IGxlZnQ7ICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGNvbG9yOiByZWQ7IHBhZGRpbmc6IDAgMjBweCAhaW1wb3J0YW50OyBjdXJzb3I6IHBvaW50ZXI7fQogICAgLmluYW1lIHtwYWRkaW5nLXJpZ2h0OjEwcHg7fQogICAgbGk6aG92ZXIgLmlkZWxldGUsbGk6aG92ZXIgLmlsaW5rLGxpOmhvdmVyIC5pbmFtZSB7YmFja2dyb3VuZDpyZ2JhKDIyNCwxNzUsMTcsMC42Mik7fQogICAgLlRNSFlwIGJ1dHRvbiB7Ym9yZGVyOjFweCBzb2xpZCAjM2EzYTNhO2JvcmRlci1yYWRpdXM6NXB4O2N1cnNvcjpwb2ludGVyO3BhZGRpbmc6IDJweCAxMHB4O21hcmdpbjoxMHB4IDIwcHggMCAyMHB4O30KICAgIC5UTUhZcCBidXR0b246aG92ZXIge2JhY2tncm91bmQ6IzNhM2EzYTtjb2xvcjp5ZWxsb3c7fQogICAgLlRNSFlDbG9zZSB7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO21hcmdpbjowIWltcG9ydGFudDt9CiAgICAuVE1IWXAgZmllbGRzZXQge21hcmdpbjowO3BhZGRpbmc6MTBweDt9CiAgICAuVE1IWXAgbGVnZW5kIHtwYWRkaW5nOjAgMTBweDt9CiAgICAuVE1IWXAgbGFiZWwge2Rpc3BsYXk6aW5saW5lLWJsb2NrO30KICAgIC5UTUhZc3BhbjgwIHtkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOnJpZ2h0O3dpZHRoOjgwcHg7fQogICAgLlRNSFlzcGFuMTIwIHtkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOnJpZ2h0O3dpZHRoOjEyMHB4O30KICAgICNpblRhYlNldHRpbmdTYXZlIHtwb3NpdGlvbjpyZWxhdGl2ZTttYXJnaW4tdG9wOjEwcHg7cGFkZGluZzozcHggMjBweDt9CiAgYCk7CiAgdmFyIGRlZmF1bHRhcGkgPSB7CiAgICB0aXRsZTogIjYxOEcs5aSx5pWI6K+35pu05o2i5o6l5Y+jIiwKICAgIHVybDogImh0dHA6Ly9qeC42MThnLmNvbS8/dXJsPSIKICB9OwogIC8vYXBpcyBuYW1lOuaYvuekuueahOaWh+WtlyAgdXJsOuaOpeWPoyAgdGl0bGU65o+Q56S65paH5a2XICBpbnRhYjrmmK/lkKbpgILlkIjlhoXltYwo5bWM5YWl5Yik5patOkdNZ2V0VmFsdWUoInJlcGxhY2VSYXciLGZhbHNlKeWAvHx8aW50YWLlgLwpCiAgdmFyIGFwaXMgPVsKICAgIHtuYW1lOiI2MThHIix1cmw6Imh0dHA6Ly9qeC42MThnLmNvbS8/dXJsPSIsdGl0bGU6IjYxOEciLGludGFiOjF9LAogICAgLy8ge25hbWU6IueZvuWfn+mYgSIsdXJsOiJodHRwOi8vYXBpLmJhaXl1Zy5jbi92aXAvaW5kZXgucGhwP3VybD0iLHRpdGxlOiLovazlnIjlnIjlsLHmjaLnur/ot68iLGludGFiOjF9LAogICAge25hbWU6IueOqeeahOWXqCIrWW91a3VJY29uLHVybDoiaHR0cDovL3R2LndhbmRoaS5jb20vZ28uaHRtbD91cmw9Iix0aXRsZToi57u85ZCI5o6l5Y+j77yM5LiA6ZSuVklQKioqIOabtOaWsOWPr+eUqOOAkOS9nOiAhW1hcmsgemhhbmfjgJHohJrmnKznmoTmjqXlj6MiLGludGFiOjB9LAogICAge25hbWU6IuacgOaDoOS5sCIsdXJsOiJodHRwOi8vd3d3LnpobWR5LnRvcC9pbmRleC5waHA/emhtX2p4PSIsdGl0bGU6IuaHkuS6uuS4k+eUqCoqKuiEmuacrOaOpeWPoyIsaW50YWI6MH0sCiAgICB7bmFtZToi5ZmX5ZmX55S15b2xIix1cmw6Imh0dHA6Ly93d3cucHVwdWR5LmNvbS9zcGxheS5waHA/cGxheT0iLHRpdGxlOiLnu7zlkIjmjqXlj6PvvIznoLTop6PlhajnvZFWSVDop4bpopHkvJrlkZgt5Y675bm/5ZGK44CQ5L2c6ICFdHRtc2p444CR6ISa5pys55qE5o6l5Y+jIixpbnRhYjowfSwKICAgIHtuYW1lOiLmkJzkvaDlprkiK1lvdWt1SWNvbix1cmw6Imh0dHA6Ly93d3cuc29uaW1laS5jbi8/dXJsPSIsdGl0bGU6Iue7vOWQiOaOpeWPo++8jFZJUOinhumikSoqKiDmm7TmlrDlj6/nlKjjgJDkvZzogIVzb25pbWVpMTM044CR6ISa5pys55qE5o6l5Y+jIixpbnRhYjowfSwKICAgIHtuYW1lOiJPREZMViIsdXJsOiJodHRwOi8vYWlrYW4tdHYuY29tLz91cmw9Iix0aXRsZToi5LiN56iz5a6a77yM5bm/5ZGK6L+H5ruk6L2v5Lu25Y+v6IO95pyJ5b2x5ZONIixpbnRhYjoxfSwKCiAgICB7bmFtZToi55+z5aS06Kej5p6QIix1cmw6Imh0dHBzOi8vamlleGkuMDcxODExLmNjL2p4LnBocD91cmw9Iix0aXRsZToi5omL5Yqo54K55pKt5pS+IixpbnRhYjoxfSwKICAgIHtuYW1lOiLkuZDkuZDkupEiLHVybDoiaHR0cHM6Ly82NjBlLmNvbS8/dXJsPSIsdGl0bGU6IuS5kOS5kOS6ke+8jOacquefpeaViOaenCIsaW50YWI6MX0sCiAgICAvLyB7bmFtZToi5peL6aOO6Kej5p6QIix1cmw6Imh0dHA6Ly9hcGkueGZzdWIuY29tL2luZGV4LnBocD91cmw9Iix0aXRsZToiMTkwNeS8mOWFiOS9v+eUqCIsaW50YWI6MX0sCiAgICB7bmFtZToi55+z5aS06Kej5p6QIix1cmw6Imh0dHBzOi8vamlleGkuMDcxODExLmNjL2p4LnBocD91cmw9Iix0aXRsZToi5omL5Yqo54K55pKt5pS+IixpbnRhYjoxfSwKICAgIHtuYW1lOiLml6DlkI3lsI/nq5kiLHVybDoiaHR0cDovL3d3dy5zZnNmdC5jb20vYWRtaW4ucGhwP3VybD0iLHRpdGxlOiLml6DlkI3lsI/nq5nlkIzmupAiLGludGFiOjF9LAogICAge25hbWU6IlZJUOeci+eciyIsdXJsOiJodHRwOi8vcS56LnZpcC50b3R2LjcyZHUuY29tLz91cmw9Iix0aXRsZToi5pu05o2i57q/6Lev5oiQ5Yqf546H5Lya5o+Q6auYIixpbnRhYjoxfSwKICAgIC8vIHtuYW1lOiIxNjPkuroiLHVybDoiaHR0cDovL2p4LmFwaS4xNjNyZW4uY29tL3ZvZC5waHA/dXJsPSIsdGl0bGU6IuWBtuWwlOaUr+aMgeiFvuiuryIsaW50YWI6MX0sCiAgICAvL3tuYW1lOiJDS0ZMViIsdXJsOiJodHRwOi8vd3d3LjAzMzVoYWliby5jb20vdG9uZy5waHA/dXJsPSIsdGl0bGU6IkNLRkxW5LqRLOmDqOWIhuermeeCueS4jeaUr+aMgSIsaW50YWI6MX0sCiAgICB7bmFtZToi5peg5ZCN5bCP56uZMiIsdXJsOiJodHRwOi8vd3d3LndteHoud2FuZy92aWRlby5waHA/dXJsPSIsdGl0bGU6Iui9rOWciOWciOWwseaNoue6v+i3ryIsaW50YWI6MX0sCiAgICAvL3tuYW1lOiLnnLznnZvkvJrkuIvpm6giLHVybDoiaHR0cDovL3d3dy52aXBqaWV4aS5jb20veXVuLnBocD91cmw9Iix0aXRsZToid3d3LnZpcGppZXhpLmNvbSIsaW50YWI6MX0sCiAgICB7bmFtZToi5Lq65Lq65Y+R5biDIix1cmw6Imh0dHA6Ly92LnJlbnJlbmZhYnUuY29tL2ppZXhpLnBocD91cmw9Iix0aXRsZToi57u85ZCI77yM5aSa57q/6LevIixpbnRhYjowfQogIF07CiAgLy/ltYzlhaXpobXpnaLmkq3mlL4KICBmdW5jdGlvbiBvcGVuSW5UYWIoZXZ0KSB7CiAgICAvLyDmib7liLDmlK/mjIHnmoTmlrnms5UsIOS9v+eUqOmcgOimgeWFqOWxj+eahCBlbGVtZW50IOiwg+eUqAogICAgZnVuY3Rpb24gbGF1bmNoRnVsbFNjcmVlbihlbGVtZW50KSB7CiAgICAgIGlmKGVsZW1lbnQucmVxdWVzdEZ1bGxzY3JlZW4pIHsKICAgICAgICBlbGVtZW50LnJlcXVlc3RGdWxsc2NyZWVuKCk7CiAgICAgIH0gZWxzZSBpZihlbGVtZW50Lm1velJlcXVlc3RGdWxsU2NyZWVuKSB7CiAgICAgICAgZWxlbWVudC5tb3pSZXF1ZXN0RnVsbFNjcmVlbigpOwogICAgICB9IGVsc2UgaWYoZWxlbWVudC53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbikgewogICAgICAgIGVsZW1lbnQud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4oKTsKICAgICAgfSBlbHNlIGlmKGVsZW1lbnQubXNSZXF1ZXN0RnVsbHNjcmVlbikgewogICAgICAgIGVsZW1lbnQubXNSZXF1ZXN0RnVsbHNjcmVlbigpOwogICAgICB9CiAgICB9CiAgICBpZihldnQudGFyZ2V0LmRhdGFzZXQuaW50YWIgPT09ICcxJyl7CiAgICAgIC8v5aaC5p6c6aG16Z2i5pyJ5pKt5pS+56qX5Y+jLOWPqumcgOabtOaWsOaSreaUvueql+WPo+eahCBzcmMsIOWmguaenOayoeacieaSreaUvueql+WPoyzor7vlj5bmkq3mlL7nqpflj6PkvY3nva7kv6Hmga8s5paw5bu65LiA5Liq5pKt5pS+56qXCiAgICAgIGlmKHEoJyNUTUhZaWZyYW1lJykgPT09IG51bGwpewogICAgICAgIEdNZ2V0VmFsdWUoJ2ludGFiU2l6ZScsJ3siaGVpZ2h0IjoiIiwid2lkdGgiOiIiLCJsZWZ0IjoiIiwidG9wIjoiIn0nKS50aGVuKChwb3NpdGlvbik9PnsKICAgICAgICAgIHZhciBzdHkgPSBKU09OLnBhcnNlKHBvc2l0aW9uKTsKICAgICAgICAgIHN0eSA9ICdoZWlnaHQ6JytzdHkuaGVpZ2h0Kyc7d2lkdGg6JytzdHkud2lkdGgrJztsZWZ0Oicrc3R5LmxlZnQrJzt0b3A6JytzdHkudG9wKyc7JzsKICAgICAgICAgIHZhciBhID0gbWFrZUVsKCdkaXYnKTsKICAgICAgICAgIGEuaWQgPSAnVE1IWXZpZGVvQ29udGFpbmVyJzsKICAgICAgICAgIGEuc2V0QXR0cmlidXRlKCdzdHlsZScsIHN0eSk7CiAgICAgICAgICBhLmlubmVySFRNTCA9ICc8YnV0dG9uIHRpdGxlPSLlhbPpl60iIGlkPSJUTUhZSWZyYW1lQ2xvc2UiPiYjMTI4NDczOzwvYnV0dG9uPjxidXR0b24gaWQ9IlRNSFlmdWxsU2NyZWVuIiB0aXRsZT0i5YWo5bGPIj4mIzEyODQ3MDs8L2J1dHRvbj4nOwogICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTsKICAgICAgICAgIHZhciBiPW1ha2VFbCgnaWZyYW1lJyk7CiAgICAgICAgICBiLmlkPSdUTUhZaWZyYW1lJzsKICAgICAgICAgIGIuc3JjPWV2dC50YXJnZXQuZGF0YXNldC51cmwgKyBsb2NhdGlvbi5ocmVmOwogICAgICAgICAgcSgnI1RNSFl2aWRlb0NvbnRhaW5lcicpLmFwcGVuZENoaWxkKGIpOwogICAgICAgICAgcSgnI1RNSFlJZnJhbWVDbG9zZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9Pntkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHEoJyNUTUhZdmlkZW9Db250YWluZXInKSk7fSwgZmFsc2UpOwogICAgICAgICAgcSgnI1RNSFlmdWxsU2NyZWVuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e2xhdW5jaEZ1bGxTY3JlZW4ocSgnI1RNSFlpZnJhbWUnKSk7fSwgZmFsc2UpOwogICAgICAgIH0pOwogICAgICB9IGVsc2V7CiAgICAgICAgcSgnI1RNSFlpZnJhbWUnKS5zcmM9ZXZ0LnRhcmdldC5kYXRhc2V0LnVybCArIGxvY2F0aW9uLmhyZWY7CiAgICAgIH0KICAgIH0gZWxzZXsKICAgICAgLy/kuI3pgILlkIjpobXlhoXmkq3mlL7nmoQs5omT5byA5paw5qCH562+CiAgICAgIHdpbmRvdy5vcGVuKGV2dC50YXJnZXQuZGF0YXNldC51cmwgKyBsb2NhdGlvbi5ocmVmKTsKICAgIH0KICB9CiAgLy/kv53lrZjltYzlhaXpobXpnaLlpKflsI/kvY3nva7orr7nva4KICBmdW5jdGlvbiBzYXZlSW5UYWJTZXR0aW5nKCl7CiAgICB2YXIgaW50YWJTaXplID0gewogICAgICBoZWlnaHQ6cSgnI1RNcEgnKS52YWx1ZSwKICAgICAgd2lkdGg6cSgnI1RNcFcnKS52YWx1ZSwKICAgICAgbGVmdDpxKCcjVE1wTCcpLnZhbHVlLAogICAgICB0b3A6cSgnI1RNcFQnKS52YWx1ZQogICAgfTsKICAgIEdNc2V0VmFsdWUoJ2ludGFiU2l6ZScsIEpTT04uc3RyaW5naWZ5KGludGFiU2l6ZSkpOwogICAgc2V0VGltZW91dCgnZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChxKCIjVE1IWVNldHRpbmciKSk7JywgMzApOwogIH0KICAvL+eUn+aIkCLltYzlhaXpobXpnaLlpKflsI/kvY3nva7orr7nva4i6Z2i5p2/CiAgZnVuY3Rpb24gaW50YWJTZXR0aW5nKCl7CiAgICB2YXIgaW50YWJTaXplID0gR01nZXRWYWx1ZSgnaW50YWJTaXplJywneyJoZWlnaHQiOiIiLCJ3aWR0aCI6IiIsImxlZnQiOiIiLCJ0b3AiOiIifScpCiAgICAudGhlbigoYWcpPT57CiAgICAgIHZhciBhID0gbWFrZUVsKCdkaXYnKTsKICAgICAgYS5pZD0nVE1IWVNldHRpbmcnOwogICAgICBhLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnVE1IWXAnKTsKICAgICAgYS5pbm5lckhUTUwgPSBgCiAgICAgIDxidXR0b24gY2xhc3M9IlRNSFlDbG9zZSIgb25jbGljaz0iZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLnBhcmVudE5vZGUpIj4mIzEyODQ3Mzs8L2J1dHRvbj4KICAgICAgPGZpZWxkc2V0PgogICAgICAgIDxsZWdlbmQ+6aG15YaF5pKt5pS+56qX5Y+j5L2N572u5aSn5bCPPC9sZWdlbmQ+CiAgICAgICAgPGxhYmVsIGZvcj0iVE1wSCI+PHNwYW4gY2xhc3M9IlRNSFlzcGFuODAiPumrmOW6pjwvc3Bhbj48aW5wdXQgdHlwZT0idGV4dCIgaWQ9IlRNcEgiIHZhbHVlPSIke2ludGFiU2l6ZS5oZWlnaHR9IiAgY2xhc3M9IlRNSFltdGkiIHBsYWNlaG9sZGVyPSflpoIiMzAwcHgi5oiW6ICFIjY1JSInLz48L2xhYmVsPgogICAgICAgIDxsYWJlbCBmb3I9IlRNcFciPjxzcGFuIGNsYXNzPSJUTUhZc3BhbjgwIj7lrr3luqY8L3NwYW4+PGlucHV0IHR5cGU9InRleHQiIGlkPSJUTXBXIiB2YWx1ZT0iJHtpbnRhYlNpemUud2lkdGh9IiAgY2xhc3M9IlRNSFltdGkiIHBsYWNlaG9sZGVyPSflpoIiMzAwcHgi5oiW6ICFIjY1JSInLz48L2xhYmVsPjxiciAvPgogICAgICAgIDxsYWJlbCBmb3I9IlRNcEwiPjxzcGFuIGNsYXNzPSJUTUhZc3BhbjgwIj7lt6bovrnot508L3NwYW4+PGlucHV0IHR5cGU9InRleHQiIGlkPSJUTXBMIiB2YWx1ZT0iJHtpbnRhYlNpemUubGVmdH0iICBjbGFzcz0iVE1IWW10aSIgcGxhY2Vob2xkZXI9J+WmgiIzMDBweCLmiJbogIUiNjUlIicvPjwvbGFiZWw+CiAgICAgICAgPGxhYmVsIGZvcj0iVE1wVCI+PHNwYW4gY2xhc3M9IlRNSFlzcGFuODAiPuS4iui+uei3nTwvc3Bhbj48aW5wdXQgdHlwZT0idGV4dCIgaWQ9IlRNcFQiIHZhbHVlPSIke2ludGFiU2l6ZS50b3B9IiAgY2xhc3M9IlRNSFltdGkiIHBsYWNlaG9sZGVyPSflpoIiMzAwcHgi5oiW6ICFIjY1JSInLz48L2xhYmVsPgogICAgICA8L2ZpZWxkc2V0PgogICAgICA8YnV0dG9uIG9uY2xpY2s9IihmdW5jdGlvbigpe3ZhciBhPWdldENvbXB1dGVkU3R5bGUocSgnI1RNSFl2aWRlb0NvbnRhaW5lcicpKTtxKCcjVE1wSCcpLnZhbHVlPWEuaGVpZ2h0LHEoJyNUTXBXJykudmFsdWU9YS53aWR0aCxxKCcjVE1wTCcpLnZhbHVlPWEubGVmdCxxKCcjVE1wVCcpLnZhbHVlPWEudG9wO30pKCkiPuiOt+WPluW9k+WJjeaSreaUvueql+WwuuWvuDwvYnV0dG9uPgogICAgICA8YnV0dG9uIGlkPSJpbnRhYlNldHRpbmdQcmV2aWV3IiBvbmNsaWNrPSIoZnVuY3Rpb24oKXthPXEoJyNUTUhZdmlkZW9Db250YWluZXInKS5zdHlsZS5jc3NUZXh0PSdoZWlnaHQ6JytxKCcjVE1wSCcpLnZhbHVlKyc7d2lkdGg6JytxKCcjVE1wVycpLnZhbHVlKyc7bGVmdDonK3EoJyNUTXBMJykudmFsdWUrJzt0b3A6JytxKCcjVE1wVCcpLnZhbHVlKyc7Jzt9KSgpIj7pooTop4g8L2J1dHRvbj4KICAgICAgPGJ1dHRvbiBpZD0iaW50YWJTZXR0aW5nU2F2ZSI+5L+d5a2YPC9idXR0b24+CiAgICAgIGA7CiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7CiAgICAgIHEoJyNpbnRhYlNldHRpbmdTYXZlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzYXZlSW5UYWJTZXR0aW5nLCBmYWxzZSk7CiAgICB9KTsKICB9CiAgLy/mo4Dmn6XmmK/lkKbli77pgInpobXlhoXop6PmnpAKICBmdW5jdGlvbiBub05ld1RhYkNoZWNrKCkgewogICAgdmFyIHgsIGFyciA9IHFhKCIuVE00IGxpIik7CiAgICByZXBsYWNlUmF3ID0gcSgiI2ludGFiQ2hla2J4IikuY2hlY2tlZDsKICAgIEdNc2V0VmFsdWUoInJlcGxhY2VSYXciLCByZXBsYWNlUmF3KTsKICAgIGZvciAoeCA9IDA7IHggPCBhcnIubGVuZ3RoOyB4KyspIHsKICAgICAgaWYgKHJlcGxhY2VSYXcpIHsKICAgICAgICBhcnJbeF0uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBvcGVuSW5UYWIsIGZhbHNlKTsKICAgICAgICBhcnJbeF0uc2V0QXR0cmlidXRlKCdvbmNsaWNrJywgJycpOwogICAgICB9IGVsc2UgewogICAgICAgIGFyclt4XS5yZW1vdmVFdmVudExpc3RlbmVyKCJjbGljayIsIG9wZW5JblRhYiwgZmFsc2UpOwogICAgICAgIGFyclt4XS5zZXRBdHRyaWJ1dGUoJ29uY2xpY2snLCAnd2luZG93Lm9wZW4odGhpcy5kYXRhc2V0LnVybCArIGxvY2F0aW9uLmhyZWYpJyk7CiAgICAgIH0KICAgIH0KICB9CiAgLyog54ix5aWH6Im65q2j56Gu6YCJ6ZuGICovCiAgZnVuY3Rpb24gcmlnaHRFcHNMaW5rQ2hlY2soKSB7CiAgICBlcGlzb2RlcyA9IHEoIiNyZWFsTGlua0NoZWtieCIpLmNoZWNrZWQ7CiAgICBHTXNldFZhbHVlKCJlcGlzb2RlcyIsIGVwaXNvZGVzKTsKICAgIHRyeSB7CiAgICAgIGlmIChlcGlzb2RlcykgewogICAgICAgIHEoJyN3aWRnZXQtZHJhbWFzZXJpZXMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIGdldExpbmsoZSkgewogICAgICAgIC8vLS0tLS0tLS0tLS0tLWlxaXlp5Ymn6ZuG55yf5a6e5pKt5pS+6aG16Z2i5pa55rOVICBCZWdpbi0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgIC8vQ29kZSBwaWVjZSBpbmZvbWF0aW9uOgogICAgICAgIC8vTGljZW5zZTpNSVQgICBBdXRob3I6aG9vdGhpbiAgSG9tZXBhZ2U6IGh0dHA6Ly9ob290aGluLmNvbSAgRW1haWw6IHJpeGl4aUBnbWFpbC5jb20KICAgICAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldC5wYXJlbnROb2RlLnRhZ05hbWUgPT0gIkxJIiA/IGUudGFyZ2V0LnBhcmVudE5vZGUgOiAoZS50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLnRhZ05hbWUgPT0gIkxJIiA/IGUudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZSA6IGUudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5wYXJlbnROb2RlKTsKICAgICAgICAgIGlmICh0YXJnZXQudGFnTmFtZSAhPSAiTEkiKSByZXR1cm47CiAgICAgICAgICBHTXhtbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgICAgICAgdXJsOiAiaHR0cDovL2NhY2hlLnZpZGVvLnFpeWkuY29tL2pwL3ZpLyIgKyB0YXJnZXQuZGF0YXNldC52aWRlb2xpc3RUdmlkICsgIi8iICsgdGFyZ2V0LmRhdGFzZXQudmlkZW9saXN0VmlkICsgIi8/Y2FsbGJhY2s9Y3JhY2tJcWl5aSIsCiAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24ocmVzdWx0KSB7CiAgICAgICAgICAgICAgdmFyIGNyYWNrSXFpeWkgPSBmdW5jdGlvbihkKSB7CiAgICAgICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gZC52dTsKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIGV2YWwocmVzdWx0LnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICAgIC8vLS0tLS0tLS0tLS0tLWlxaXlp5Ymn6ZuG55yf5a6e5pKt5pS+6aG16Z2i5pa55rOVICBFbmQtLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgfSBlbHNlIHsKICAgICAgICBxKCcjd2lkZ2V0LWRyYW1hc2VyaWVzJykucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBnZXRMaW5rKTsKICAgICAgfQogICAgfSBjYXRjaChlKSB7fQogIH0KICAvKiDli77pgInoh6rlrprkuYnmjqXlj6MgKi8KICBmdW5jdGlvbiBhZGRBcGlDaGVjaygpIHsKICAgIHVzZXJBcGlzT24gPSBxKCcjYWRkQXBpQ2hla0J4JykuY2hlY2tlZDsKICAgIEdNc2V0VmFsdWUoJ3VzZXJBcGlzT24nLCB1c2VyQXBpc09uKTsKICAgIGlmKHVzZXJBcGlzT24pIHsKICAgICAgc2VsZkRlZmluZSgpOwogICAgICBzZXRUaW1lb3V0KHNob3dBZGRBcGlQYW5lbCwgMjAwKTsKICAgIH0KICB9CiAgLyogIOaJp+ihjCAgKi8KICB2YXIgZGl2ID0gbWFrZUVsKCJkaXYiKTsKICBkaXYuaWQgPSAiVE1IWWQiOwogIHZhciB0eHQgPSAnJywgaSA9IDA7CiAgLyrmj5DkvpvnmoTmjqXlj6PliJfooagqLwogIGZvciAoaSBpbiBhcGlzKSB7CiAgICB0eHQgKz0gYDxsaSBkYXRhLW9yZGVyPSR7aX0gZGF0YS11cmw9IiR7YXBpc1tpXS51cmx9IiBkYXRhLWludGFiPSR7YXBpc1tpXS5pbnRhYn0gdGl0bGU9IiR7YXBpc1tpXS50aXRsZX0iIG9uY2xpY2s9IndpbmRvdy5vcGVuKHRoaXMuZGF0YXNldC51cmwrbG9jYXRpb24uaHJlZikiPiR7YXBpc1tpXS5uYW1lfTwvbGk+YDsKICB9CiAgZGl2LmlubmVySFRNTCA9IGAKICAgIDx1bCBpZD0iVE1IWXVsIj4KICAgICAgPGxpIGNsYXNzPSJUTTEiPjxzcGFuIGlkPSJUTUxpc3QiICB0aXRsZT0iJHtkZWZhdWx0YXBpLnRpdGxlfSIgb25jbGljaz0id2luZG93Lm9wZW4oXCcke2RlZmF1bHRhcGkudXJsfVwnK3dpbmRvdy5sb2NhdGlvbi5ocmVmKSI+4pa2PC9zcGFuPjx1bCBjbGFzcz0iVE0zIFRNNCI+JHt0eHR9PC91bD48L2xpPgogICAgICA8bGkgY2xhc3M9IlRNMSI+PHNwYW4gaWQ9IlRNU2V0Ij7ilqM8L3NwYW4+PHVsIGNsYXNzPSJUTTMiPgogICAgICAgIDxsaT48bGFiZWw+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0iaW50YWJDaGVrYngiPuacrOmhteino+aekDwvbGFiZWw+PC9saT4KICAgICAgICA8bGk+PGxhYmVsPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9InJlYWxMaW5rQ2hla2J4Ij7niLHlpYfoibrmraPnoa7pgInpm4Y8L2xhYmVsPjwvbGk+CiAgICAgICAgPGxpPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9ImFkZEFwaUNoZWtCeCI+PGxhYmVsIGlkPSJhZGRBcGlCdG4iPuWinuWKoOaOpeWPozwvbGFiZWw+PC9saT4KICAgICAgICA8bGk+PGxhYmVsIGlkPSJpbnRhYlNldHRpbmdCdG4iPuacrOmhteaSreaUvuiuvue9rjwvbGFiZWw+PC9saT4KICAgICAgPC91bD48L2xpPgogICAgPC91bD4KICBgOwogIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTsKICBxKCIjYWRkQXBpQ2hla0J4IikuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgYWRkQXBpQ2hlY2ssIGZhbHNlKTsKICAvLyBxKCIjYWRkQXBpQ2hla0J4IikuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhZGRBcGlDaGVjaywgZmFsc2UpOwogIEdNZ2V0VmFsdWUoJ3VzZXJBcGlzT24nLGZhbHNlKQogIC50aGVuKChhZyk9PnsKICAgIHVzZXJBcGlzT24gPSBhZzsKICAgIHEoIiNhZGRBcGlDaGVrQngiKS5jaGVja2VkID0gdXNlckFwaXNPbjsKICAgIC8q55yL55yL5piv5ZCm6ZyA6KaB5Yqg6L296Ieq5a6a5LmJ55qE5o6l5Y+j5YiX6KGoKi8KICAgIGlmICh1c2VyQXBpc09uKSB7CiAgICAgIEdNZ2V0VmFsdWUoJ3VzZXJBcGlzJywgIlt7fV0iKS50aGVuKChhZzEpPT57CiAgICAgICAgdmFyIHVzZXJBcGlzID0gSlNPTi5wYXJzZShhZzEpLCB0eHQ9Jyc7CiAgICAgICAgZm9yICh2YXIgaiBpbiB1c2VyQXBpcykgewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgaWYgKHVzZXJBcGlzW2pdLmxpbmsgIT09IG51bGwpIHsKICAgICAgICAgICAgICB0eHQgKz0gYDxsaSBkYXRhLW9yZGVyPSR7an0gZGF0YS11cmw9IiR7dXNlckFwaXNbal0ubGlua30iICBkYXRhLWludGFiPSR7dXNlckFwaXNbal0uaW50YWJ9IG9uY2xpY2s9IndpbmRvdy5vcGVuKHRoaXMuZGF0YXNldC51cmwrbG9jYXRpb24uaHJlZikiPiR7dXNlckFwaXNbal0ubmFtZX08L2xpPmA7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gY2F0Y2ggKGUpIHsvKmNvbnNvbGUubG9nKGUpOyovfQogICAgICAgIH0KICAgICAgICBxKCd1bC5UTTMuVE00JykuaW5uZXJIVE1MID0gdHh0ICsgcSgndWwuVE0zLlRNNCcpLmlubmVySFRNTDsKICAgICAgICBzZWxmRGVmaW5lKCk7CiAgICAgIH0pOwogICAgfQogIH0pCiAgLnRoZW4oKCk9PnsKICAgIHEoIiNpbnRhYkNoZWtieCIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgbm9OZXdUYWJDaGVjaywgZmFsc2UpOwogICAgR01nZXRWYWx1ZSgncmVwbGFjZVJhdycsZmFsc2UpLnRoZW4oKGFnKT0+ewogICAgICByZXBsYWNlUmF3ID0gYWc7CiAgICAgIHEoIiNpbnRhYkNoZWtieCIpLmNoZWNrZWQgPSByZXBsYWNlUmF3OwogICAgICBpZiAocmVwbGFjZVJhdykgewogICAgICAgIG5vTmV3VGFiQ2hlY2soKTsKICAgICAgfQogICAgfSk7CiAgICBxKCIjcmVhbExpbmtDaGVrYngiKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIHJpZ2h0RXBzTGlua0NoZWNrLCBmYWxzZSk7CiAgICBHTWdldFZhbHVlKCdlcGlzb2RlcycsZmFsc2UpLnRoZW4oKGFnKT0+ewogICAgICBlcGlzb2RlcyA9IGFnOwogICAgICBxKCIjcmVhbExpbmtDaGVrYngiKS5jaGVja2VkID0gZXBpc29kZXM7CiAgICAgIGlmIChlcGlzb2RlcyAmJiB3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCJpcWl5aSIpICE9IC0xKSB7CiAgICAgICAgcmlnaHRFcHNMaW5rQ2hlY2soKTsKICAgICAgfQogICAgfSk7CiAgICBxKCIjYWRkQXBpQnRuIikuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93QWRkQXBpUGFuZWwsIGZhbHNlKTsKICAgIHEoIiNpbnRhYlNldHRpbmdCdG4iKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGludGFiU2V0dGluZywgZmFsc2UpOwogIH0pOwoKLyoqIDIwMTctMTAtMjQgIOiHquWumuS5ieino+aekOaOpeWPoyAgKi8KLyogIOaYvuekuuWinuWKoOaOpeWPo+eahOmdouadvyAgKi8KICBmdW5jdGlvbiBzaG93QWRkQXBpUGFuZWwoKSB7CiAgICBpZiAocSgnI3RNdXNlckRlZmluZScpKSB7CiAgICAgIHEoJyN0TXVzZXJEZWZpbmUnKS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgIH0gZWxzZSB7CiAgICAgIGFsZXJ0KGAo4peP77+jKO+9tCnvv6Pil48p44GlXG5cbuacquWQr+eUqFvlop7liqDmjqXlj6Nd5Yqf6IO9XG7or7fmioogJ+KWo+WinuWKoOaOpeWPoyfihpIn4piR5aKe5Yqg5o6l5Y+jJyFgKTsKICAgIH0KICB9Ci8qICDnlJ/miJDlop7liqDmjqXlj6PpnaLmnb8gICovCiAgZnVuY3Rpb24gc2VsZkRlZmluZSgpIHsKICAgIHZhciBhID0gbWFrZUVsKCdkaXYnKTsKICAgIGEuaWQgPSAndE11c2VyRGVmaW5lJzsKICAgIGEuc2V0QXR0cmlidXRlKCdjbGFzcycsICdUTUhZcCcpOwogICAgYS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2Rpc3BsYXk6bm9uZScpOwogICAgdmFyIHR4dCA9IGAKICAgICAgPGJ1dHRvbiBjbGFzcz0iVE1IWUNsb3NlIiBvbmNsaWNrPSJxKCcjdE11c2VyRGVmaW5lJykuc3R5bGUuZGlzcGxheT0nbm9uZSc7Ij7wn5eZPC9idXR0b24+CiAgICAgIDxsaT48c3BhbiBjbGFzcz0iVE1IWXNwYW4xMjAiPuino+aekOaOpeWPo+WQjeensDo8L3NwYW4+PGlucHV0IHR5cGU9InRleHQiIGlkPSJ0TW5hbWUiIGNsYXNzPSJUTUhZbHRpIiBwbGFjZWhvbGRlcj0i5pi+56S655qE5ZCN56ewIj48L2xpPgogICAgICA8bGk+PHNwYW4gY2xhc3M9IlRNSFlzcGFuMTIwIj7op6PmnpDmjqXlj6PlnLDlnYA6PC9zcGFuPjxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0idE1wYXJzZUxpbmsiIGNsYXNzPSJUTUhZbHRpIiBwbGFjZWhvbGRlcj0i5o6l5Y+j6ZyA6KaB5YyF5ZCrIGh0dHAg5oiW6ICFIGh0dHBzIj48L2xpPgogICAgICA8bGk+PHNwYW4gY2xhc3M9IlRNSFlzcGFuODAiPuacrOmhteino+aekDo8L3NwYW4+PGxhYmVsIGZvcj0idE1pbnRhYmNrYngiPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9InRNaW50YWJja2J4Ii8+6YCC5ZCIPC9sYWJlbD48L2xpPgogICAgICA8bGkgaWQ9InRNYnRuTGkiPgogICAgICAgIDxidXR0b24gaWQ9InRNZ28iIG9uY2xpY2s9IndpbmRvdy5vcGVuKHEoJyN0TXBhcnNlTGluaycpLnZhbHVlK2xvY2F0aW9uLmhyZWYpIj7mtYvor5U8L2J1dHRvbj4KICAgICAgICA8YnV0dG9uIGlkPSJ0TWFkZCI+5aKe5YqgPC9idXR0b24+CiAgICAgICAgPGJ1dHRvbiBpZD0idE1zYXZlIj7kv53lrZg8L2J1dHRvbj4KICAgICAgPC9saT4KICAgIGA7CiAgICBHTWdldFZhbHVlKCd1c2VyQXBpcycsICJbe31dIikudGhlbigoYWcpPT57CiAgICAgIHZhciBhciA9IEpTT04ucGFyc2UoYWcpLGQ7CiAgICAgIHRyeSB7CiAgICAgICAgaWYgKGFyWzBdLm5hbWUgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhci5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBkID0gKGFyW2ldLmludGFiPT09IjEiKT8nY2hlY2tlZCc6Jyc7CiAgICAgICAgICAgIHR4dCArPSBgPGxpPjxzcGFuIGNsYXNzPSJpZGVsZXRlIiB0aXRsZT0i5Yig6ZmkIiBvbmNsaWNrPSJkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndE11c2VyRGVmaW5lJykucmVtb3ZlQ2hpbGQodGhpcy5wYXJlbnROb2RlKSI+4pyYPC9zcGFuPjxpbnB1dCBjbGFzcz0iaWNoZWNrIiB0eXBlPSJjaGVja2JveCIgJHtkfT48c3BhbiBjbGFzcz0iaW5hbWUiPiR7YXJbaV0ubmFtZX08L3NwYW4+PHNwYW4gY2xhc3M9ImlsaW5rIj4ke2FyW2ldLmxpbmt9PC9zcGFuPjwvbGk+YDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGUpIHt9CiAgICAgIGEuaW5uZXJIVE1MID0gdHh0OwogICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpOwogICAgICAvKuS6i+S7tue7keWumiovCiAgICAgIHEoJyN0TXNhdmUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkgewogICAgICAgIHZhciBuZXdQYXJzZUxpbmtzID0gZ2V0YXJyKCk7CiAgICAgICAgR01zZXRWYWx1ZSgndXNlckFwaXMnLCBKU09OLnN0cmluZ2lmeShuZXdQYXJzZUxpbmtzKSk7CiAgICAgICAgY29uc29sZS5sb2cobmV3UGFyc2VMaW5rcyk7CiAgICAgIH0sIGZhbHNlKTsKICAgICAgcSgnI3RNYWRkJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHsKICAgICAgICBpZiAocSgnI3RNbmFtZScpLnZhbHVlIHx8IHEoJyN0TXBhcnNlTGluaycpLnZhbHVlKSB7CiAgICAgICAgICB2YXIgYiA9IHEoIiN0TWludGFiY2tieCIpLmNoZWNrZWQ/IjEiOiIwIjsKICAgICAgICAgIHZhciBjID0gcSgiI3RNaW50YWJja2J4IikuY2hlY2tlZD8iY2hlY2tlZCI6IiI7CiAgICAgICAgICB2YXIgYSA9IG1ha2VFbCgnbGknKTsKICAgICAgICAgIGEuaW5uZXJIVE1MID0gYDxzcGFuIGNsYXNzPSJpZGVsZXRlIiB0aXRsZT0i5Yig6ZmkIiBvbmNsaWNrPSJkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndE11c2VyRGVmaW5lJykucmVtb3ZlQ2hpbGQodGhpcy5wYXJlbnROb2RlKSI+4pyYPC9zcGFuPjxpbnB1dCBjbGFzcz0iaWNoZWNrIiB0eXBlPSJjaGVja2JveCIgJHtjfT48c3BhbiBjbGFzcz0iaW5hbWUiPiR7cSgnI3RNbmFtZScpLnZhbHVlfTo8L3NwYW4+PHNwYW4gY2xhc3M9ImlsaW5rIj4ke3EoJyN0TXBhcnNlTGluaycpLnZhbHVlfTwvc3Bhbj5gOwogICAgICAgICAgaWYgKHEoJ3NwYW5bY2xhc3M9aW5hbWVdJykgPT09IG51bGwpIHsKICAgICAgICAgICAgcSgnI3RNdXNlckRlZmluZScpLmFwcGVuZENoaWxkKGEpOwogICAgICAgICAgICBxKCcjdE1uYW1lJykudmFsdWUgPSAnJzsKICAgICAgICAgICAgcSgnI3RNcGFyc2VMaW5rJykudmFsdWUgPSAnJzsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHEoJyN0TXVzZXJEZWZpbmUnKS5pbnNlcnRCZWZvcmUoYSwgcSgnc3BhbltjbGFzcz1pbmFtZV0nKS5wYXJlbnROb2RlKTsKICAgICAgICAgICAgcSgnI3RNbmFtZScpLnZhbHVlID0gJyc7CiAgICAgICAgICAgIHEoJyN0TXBhcnNlTGluaycpLnZhbHVlID0gJyc7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBmYWxzZSk7CiAgICB9KTsKICB9Ci8qICDkv53lrZjmjInpkq7miafooYzlh73mlbA66I635Y+W5YC85bm2IGF3YWl0IEdNLnNldFZhbHVlKCkgICovCiAgZnVuY3Rpb24gZ2V0YXJyKCkgewogICAgdmFyIHVzZXJVcmwgPSBxYSgnLmlsaW5rJyk7CiAgICB2YXIgdXJsYXJyID0gW10sIHRNbmFtZSwgdE1wYXJzZUxpbmssIHRNaW50YWJja2J4OwogICAgdE1uYW1lID0gcSgnI3RNbmFtZScpLnZhbHVlOwogICAgdE1wYXJzZUxpbmsgPSBxKCcjdE1wYXJzZUxpbmsnKS52YWx1ZTsKICAgIHRNaW50YWJja2J4ID0gcSgnI3RNaW50YWJja2J4JykuY2hlY2tlZD8xOjA7CiAgICBpZiAodE1uYW1lIHx8IHRNcGFyc2VMaW5rKSB7CiAgICAgIHVybGFyci5wdXNoKHsgbmFtZTogdE1uYW1lLCBsaW5rOiB0TXBhcnNlTGluaywgaW50YWI6dE1pbnRhYmNrYnggfSk7CiAgICB9CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHVzZXJVcmwubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIG4sIHQsIGw7CiAgICAgIHQgPSB1c2VyVXJsW2ldLmlubmVyVGV4dDsKICAgICAgbiA9IHVzZXJVcmxbaV0ucHJldmlvdXNTaWJsaW5nLmlubmVyVGV4dDsKICAgICAgbCA9IHVzZXJVcmxbaV0ucHJldmlvdXNTaWJsaW5nLnByZXZpb3VzU2libGluZy5jaGVja2VkPycxJzonMCc7CiAgICAgIHVybGFyci5wdXNoKHsgbmFtZTogbiwgbGluazogdCxpbnRhYjpsIH0pOwogICAgfQogICAgcmV0dXJuIHVybGFycjsKICB9Ci8qKiAyMDE3LTEwLTI0ICDoh6rlrprkuYnop6PmnpDmjqXlj6MgRU5EICovCgp9KSgpOwoKLy8g6LWE5rqQ5Y+C6ICDaHR0cDovL3d3dy41aWZ4dy5jb20vdmlwLwovLyDotYTmupDlj4LogINodHRwOi8vbGl2ZS5nb3BhcnRvb2suY29tLwovLyDotYTmupDlj4LogINodHRwOi8vdHYuZHNxbmRoLmNvbQovLyDotYTmupDlj4LogINodHRwOi8vNTEucnV5by5uZXQvcC8zMTI3Lmh0bWwKLy/mnInmlYjmgKfmnKrnn6V8fOS4jeiDveebtOaOpeW8leeUqOaOpeWPowovL2h0dHA6Ly93d3cueXlkeTguY29tL2NvbW1vbi8/dXJsPQovL2hyZWY9Imh0dHA6Ly9tdDJ0LmNvbS95dW4/dXJsPQovL2h0dHBzOi8vYXBpLjQ3a3MuY29tL3dlYmNsb3VkLz92PQovL2h0dHA6Ly93d3cuZ3VxaWFua3VuLmNvbS90b29scy92aXB2aWRlbwovL3tuYW1lOiJQVS50biIsdXJsOiJodHRwOi8vYXBpLnB1LnRuL3FxMS8/dXJsPSIsdGl0bGU6IuaNruivtOWPr+S7peeci+S8mOmFt+W4g+iii+a4uOaIjyIsaW50YWI6MH0sCi8vIHtuYW1lOiLoiJ7liqjnp4vlpKkiLHVybDoiaHR0cDovL3F0enIubmV0L3MvP3F0PSIsdGl0bGU6InF0enIubmV0IixpbnRhYjoxfSwKLy/ov4fmnJ/mjqXlj6MKLy97bmFtZToiNjVZVyIsdXJsOiJodHRwOi8vd3d3LjY1eXcuY29tLzY1eXcvP3ZpZD0iLHRpdGxlOiLmlrDmjqXlj6PvvIznqLPlrprmgKfmnKrnn6UifSwKLy97bmFtZToi57Sr54uQIix1cmw6Imh0dHA6Ly95dW4uemlodS50di9wbGF5Lmh0bWw/dXJsPSIsdGl0bGU6IuaViOaenOWPr+iDveS4jeeos+WumiJ9LAovL3tuYW1lOiLkupHop6PmnpAiLHVybDoiaHR0cDovL3d3dy5lZnVuZmlsbS5jb20veXVucGFyc2UvaW5kZXgucGhwP3VybD0iLHRpdGxlOiLmlrDmjqXlj6PvvIznqLPlrprmgKfmnKrnn6UifSwKLy97bmFtZToi5aa55YS/5LqRIix1cmw6Imh0dHBzOi8vd3d3Lnl5bWVpZXIuY29tL2FwaS5waHA/dXJsPSIsdGl0bGU6IuS4jeeos+WumiJ9Ci8ve25hbWU6IlbkupFb6IW+6K6vXSIsdXJsOiJodHRwOi8vd3d3LnZpeXVuLm1lL2ppZXhpLnBocD91cmw9Iix0aXRsZToi6IW+6K6v6aaW6YCJIn0sCi8ve25hbWU6IjEwMDjlvbHop4YiK1lvdWt1SWNvbix1cmw6Imh0dHA6Ly9hcGkuMTAwOG5ldC5jb20vdi5waHA/dXJsPSIsdGl0bGU6IuaNruivtOWPr+S7peeci+W4g+iii+a4uOaIj+inhumikSIsaW50YWI6MX0sCi8ve25hbWU6IkZMVlNQW+iFvuiur10iLHVybDoiaHR0cHM6Ly9hcGkuZmx2c3AuY29tLz91cmw9Iix0aXRsZToi5pSv5oyB6IW+6K6vIixpbnRhYjoxfSwvL+ino+aekOa6kOWQjOS4igoKLy8ge25hbWU6InZQYXJzZSIrVlFRSWNvbix1cmw6Imh0dHBzOi8vYXBpLnZwYXJzZS5vcmcvP3VybD0iLHRpdGxlOiLmlK/mjIHohb7orq8iLGludGFiOjF9LAovLyB7bmFtZToi54yr5LqRIitWUVFJY29uLHVybDoiaHR0cHM6Ly9qeC5tYW95dW4udHYvaW5kZXgucGhwP2lkPSIsdGl0bGU6IuaUr+aMgeiFvuiuryIsaW50YWI6MX0sCgogICAgLy8ge25hbWU6IuaKouWFiOW9semZoiIrWW91a3VJY29uLHVybDoiaHR0cDovL3d3dy5xeHlpbmd5dWFuLnZpcC9wbGF5P21ha2U9dXJsJmlkPSIsdGl0bGU6IuaNruivtOS8mOmFt+avlOi+g+eos+WumiIsaW50YWI6MH0sCgogICAgLy8ge25hbWU6IumFt+e7mCIsdXJsOiJodHRwOi8vYXBwYXBpLnN2aXB2Lmt1dWh1aS5jb20vc3ZpcGp4L2xpdWxhbnFpY2hhamlhbi9icm93c2VycGx1Z2luL3FoangvcWhqeC5waHA/aWQ9Iix0aXRsZToi57u85ZCI5o6l5Y+j77yM6YW357uYKuOAkOS9nOiAhWFodWlhYmMyMDAz44CR6ISa5pys55qE5o6l5Y+jIixpbnRhYjowfSw="}],"settings":{"script_blacklist_server":[{"rules":["/https?:\\/\\/userscripts\\.org\\/scripts\\/(source|version)/(102614).*\\.user\\.js/"],"severity":"2"},{"name":"SaveFrom.net helper","reason":"Shows advertisements","rules":["/https?:\\/\\/sf-addon\\.com\\/.*\\/.*\\.user\\.js/","/https?:\\/\\/.*\\.sf-helper\\.com\\/.*\\.user\\.js/"],"severity":"3"}]}}